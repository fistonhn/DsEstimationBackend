"use strict";(self.webpackChunk_ds_estimation_construction_web_app=self.webpackChunk_ds_estimation_construction_web_app||[]).push([[7460],{77460:(e,i,t)=>{t.r(i),t.d(i,{default:()=>u});var s=t(89379),n=t(9950),l=t(73878),o=t(49911),r=t(39324),c=t(74959),d=t(67066),a=t(44414);const u=()=>{const[e,i]=(0,n.useState)(!1),[t,u]=(0,n.useState)([]),[h,x]=(0,n.useState)(null),m=(0,l.wA)(),{subcontractors:j,message:v,error:p,updateMessage:C,updateError:b,isLoading:y}=(0,l.d4)(d.Tu);(0,n.useEffect)(()=>m((0,d.IN)()),[m]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{m((0,d.DA)())},3e3);return()=>clearTimeout(e)},[m,v,p,C,b,y]);const f=e=>{const{name:i,value:t}=e.target;x((0,s.A)((0,s.A)({},h),{},{[i]:t}))},g=[...j];return null===g||void 0===g||g.sort((e,i)=>(null===e||void 0===e?void 0:e.id)-(null===i||void 0===i?void 0:i.id)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.UF,{xs:12,children:[(0,a.jsx)(o.V0,{style:{backgroundColor:"#01579b",color:"white"},children:(0,a.jsx)("strong",{children:"Subcontractor Library "})}),(0,a.jsxs)(o._v,{striped:!0,hover:!0,bordered:!0,borderColor:"dark",style:{fontSize:"0.75rem"},children:[(0,a.jsx)(o.wV,{children:(0,a.jsxs)(o.YI,{style:{backgroundColor:"#01579b"},children:[(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"ID"}),(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Name"}),(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Quantity"}),(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Unit"}),(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Rate"}),(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Action"})]})}),(0,a.jsx)(o.jS,{children:null===g||void 0===g?void 0:g.map(t=>(0,a.jsxs)(o.YI,{children:[(0,a.jsx)(o.cC,{children:"S".concat(t.id)}),(0,a.jsx)(o.cC,{children:t.name}),(0,a.jsx)(o.cC,{children:t.quantity}),(0,a.jsx)(o.cC,{children:t.unit}),(0,a.jsx)(o.cC,{children:t.price}),(0,a.jsx)(o.cC,{children:(0,a.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{return s=t.id,u(...j.filter(e=>e.id===s)),void i(!e);var s},children:(0,a.jsx)(c.g,{value:"activity.id",icon:r.ROs})})})]},t.id))})]})]}),(0,a.jsxs)(o.zS,{size:"md",style:{backgroundColor:"#01579b",color:"white"},visible:e,onClose:()=>{i(!1),m((0,d.IN)())},children:[(0,a.jsx)(o.E4,{children:(0,a.jsx)(o.lb,{children:"Update SubContractor"})}),(0,a.jsx)(o.Tc,{children:(0,a.jsxs)(o.qI,{className:"row g-3 needs-validation",onSubmit:e=>{e.preventDefault();const i=(0,s.A)((0,s.A)({},h),{},{id:t.id});m((0,d.vu)(i))},style:{fontsize:"0.7rem"},children:[(0,a.jsxs)(o.UF,{md:12,children:[(0,a.jsx)(o.A6,{htmlFor:"validationCustom03",children:"Name"}),(0,a.jsx)(o.OG,{type:"text",id:"validationCustom03",required:!0,name:"name",defaultValue:null===t||void 0===t?void 0:t.name,onChange:f})]}),(0,a.jsxs)(o.UF,{md:12,children:[(0,a.jsx)(o.A6,{htmlFor:"validationCustom03",children:"Quantity"}),(0,a.jsx)(o.OG,{type:"text",id:"validationCustom03",required:!0,name:"quantity",defaultValue:null===t||void 0===t?void 0:t.quantity,onChange:f})]}),(0,a.jsxs)(o.UF,{md:12,children:[(0,a.jsx)(o.A6,{htmlFor:"validationCustom03",children:"Unit"}),(0,a.jsx)(o.OG,{type:"text",id:"validationCustom03",required:!0,name:"unity",defaultValue:null===t||void 0===t?void 0:t.unit,onChange:f})]}),(0,a.jsxs)(o.UF,{md:12,children:[(0,a.jsx)(o.A6,{htmlFor:"validationCustom03",children:"Rate"}),(0,a.jsx)(o.OG,{type:"text",id:"validationCustom03",required:!0,name:"rate",defaultValue:null===t||void 0===t?void 0:t.price,onChange:f})]}),(0,a.jsx)(o.UF,{xs:12,children:(0,a.jsx)(o.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},children:y?"Updating...":"Update SubContractor"})})]})})]}),C&&(0,a.jsx)(o.Yq,{placement:"top-end",children:(0,a.jsx)(o.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(o.Bw,{children:C}),(0,a.jsx)(o.vo,{className:"me-2 m-auto"})]})})}),b&&(0,a.jsx)(o.Yq,{placement:"top-end",children:(0,a.jsx)(o.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(o.Bw,{children:b}),(0,a.jsx)(o.vo,{className:"me-2 m-auto"})]})})})]})}}}]);