"use strict";(self.webpackChunk_ds_estimation_construction_web_app=self.webpackChunk_ds_estimation_construction_web_app||[]).push([[8359],{18359:(e,i,r)=>{r.r(i),r.d(i,{default:()=>E});var l=r(89379),s=r(9950),n=r(49911),o=r(26080),t=r(79114),d=r(73878),c=r(28526),a=r(44414);const h=()=>{const e=(0,d.wA)(),{equipments:i,isLoading:r,error:l,message:o}=(0,d.d4)(c.Hw);(0,s.useEffect)(()=>{e((0,c.El)())},[e]);return(0,s.useEffect)(()=>{const i=setTimeout(()=>{e((0,c._Z)())},3e3);return()=>clearTimeout(i)},[e,l,o]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.sK,{children:(0,a.jsxs)(n.UF,{xs:!0,children:[(0,a.jsx)(n.V0,{children:"List of unverified equipment"}),(0,a.jsxs)(n.W6,{children:[(null===i||void 0===i?void 0:i.length)>0&&(0,a.jsxs)(n._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,a.jsx)(n.wV,{color:"light",children:(0,a.jsxs)(n.YI,{children:[(0,a.jsx)(n.$s,{children:"name"}),(0,a.jsx)(n.$s,{children:"unit"}),(0,a.jsx)(n.$s,{children:"number"}),(0,a.jsx)(n.$s,{children:"price"}),(0,a.jsx)(n.$s,{children:"Status"})]})}),(0,a.jsx)(n.jS,{children:null===i||void 0===i?void 0:i.map(i=>(0,a.jsxs)(n.YI,{"v-for":"item in tableItems",children:[(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.name})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.unit})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.number})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.hireRatePrice})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)(n.Qb,{checked:i.isApproved,onClick:()=>{return r=i.id,void e((0,c.qT)(r));var r},label:i.isApproved?"Approved":"Un-Approved",onChange:()=>{}})})]},i.id))})]}),r&&(0,a.jsx)(n.JT,{color:"primary"}),0===(null===i||void 0===i?void 0:i.length)&&!r&&(0,a.jsx)("h3",{children:"No unverified equipment"}),l&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:l}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})})]})]})})})},x=()=>{const e=(0,d.wA)(),{materials:i,isLoading:r,error:l,message:o}=(0,d.d4)(c.Hw);(0,s.useEffect)(()=>{e((0,c.bT)())},[e]);return(0,s.useEffect)(()=>{const i=setTimeout(()=>{e((0,c._Z)())},3e3);return()=>clearTimeout(i)},[e,l,o]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.sK,{children:(0,a.jsxs)(n.UF,{xs:!0,children:[(0,a.jsx)(n.V0,{children:"List of unverified materials"}),(0,a.jsxs)(n.W6,{children:[(null===i||void 0===i?void 0:i.length)>0&&(0,a.jsxs)(n._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,a.jsx)(n.wV,{color:"light",children:(0,a.jsxs)(n.YI,{children:[(0,a.jsx)(n.$s,{children:"name"}),(0,a.jsx)(n.$s,{children:"unit"}),(0,a.jsx)(n.$s,{children:"quantity"}),(0,a.jsx)(n.$s,{children:"price"}),(0,a.jsx)(n.$s,{children:"Status"})]})}),(0,a.jsx)(n.jS,{children:null===i||void 0===i?void 0:i.map(i=>(0,a.jsxs)(n.YI,{"v-for":"item in tableItems",children:[(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.name})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.unit})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.quantity})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.price})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)(n.Qb,{checked:i.isApproved,onClick:()=>{return r=i.id,void e((0,c.pf)(r));var r},label:i.isApproved?"Approved":"Un-Approved",onChange:()=>{}})})]},i.id))})]}),r&&(0,a.jsx)(n.JT,{color:"primary"}),0===(null===i||void 0===i?void 0:i.length)&&!r&&(0,a.jsx)("h3",{children:"No unverified material"}),l&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:l}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})})]})]})})})},m=()=>{const e=(0,d.wA)(),{labours:i,isLoading:r,error:l,message:o}=(0,d.d4)(c.Hw);(0,s.useEffect)(()=>{e((0,c.RZ)())},[e]);return(0,s.useEffect)(()=>{const i=setTimeout(()=>{e((0,c._Z)())},3e3);return()=>clearTimeout(i)},[e,l,o]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.sK,{children:(0,a.jsxs)(n.UF,{xs:!0,children:[(0,a.jsx)(n.V0,{children:"List of unverified labours"}),(0,a.jsxs)(n.W6,{children:[(null===i||void 0===i?void 0:i.length)>0&&(0,a.jsxs)(n._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,a.jsx)(n.wV,{color:"light",children:(0,a.jsxs)(n.YI,{children:[(0,a.jsx)(n.$s,{children:"name"}),(0,a.jsx)(n.$s,{children:"unit"}),(0,a.jsx)(n.$s,{children:"number"}),(0,a.jsx)(n.$s,{children:"wages"}),(0,a.jsx)(n.$s,{children:"Status"})]})}),(0,a.jsx)(n.jS,{children:null===i||void 0===i?void 0:i.map(i=>(0,a.jsxs)(n.YI,{"v-for":"item in tableItems",children:[(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.name})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.unit})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:null===i||void 0===i?void 0:i.number})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.wages})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)(n.Qb,{checked:i.isApproved,onClick:()=>{return r=i.id,void e((0,c.Tx)(r));var r},label:i.isApproved?"Approved":"Un-Approved",onChange:()=>{}})})]},i.id))})]}),r&&(0,a.jsx)(n.JT,{color:"primary"}),0===(null===i||void 0===i?void 0:i.length)&&!r&&(0,a.jsx)("h3",{children:"No unverified labours"}),l&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:l}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})})]})]})})})},j=()=>{const e=(0,d.wA)(),{subcontractors:i,isLoading:r,error:l,message:o}=(0,d.d4)(c.Hw);(0,s.useEffect)(()=>{e((0,c.HE)())},[e]);return(0,s.useEffect)(()=>{const i=setTimeout(()=>{e((0,c._Z)())},3e3);return()=>clearTimeout(i)},[e,l,o]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.sK,{children:(0,a.jsxs)(n.UF,{xs:!0,children:[(0,a.jsx)(n.V0,{children:"List of unverified subcontractor"}),(0,a.jsxs)(n.W6,{children:[(null===i||void 0===i?void 0:i.length)>0&&(0,a.jsxs)(n._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,a.jsx)(n.wV,{color:"light",children:(0,a.jsxs)(n.YI,{children:[(0,a.jsx)(n.$s,{children:"name"}),(0,a.jsx)(n.$s,{children:"unit"}),(0,a.jsx)(n.$s,{children:"quantity"}),(0,a.jsx)(n.$s,{children:"price"}),(0,a.jsx)(n.$s,{children:"Status"})]})}),(0,a.jsx)(n.jS,{children:null===i||void 0===i?void 0:i.map(i=>(0,a.jsxs)(n.YI,{"v-for":"item in tableItems",children:[(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.name})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.unit})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.quantity})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.price})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)(n.Qb,{checked:i.isApproved,onClick:()=>{return r=i.id,void e((0,c.Bh)(r));var r},label:i.isApproved?"Approved":"Un-Approved",onChange:()=>{}})})]},i.id))})]}),r&&(0,a.jsx)(n.JT,{color:"primary"}),0===(null===i||void 0===i?void 0:i.length)&&!r&&(0,a.jsx)("h3",{children:"No unverified subcontractor"}),l&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:l}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})})]})]})})})};var u=r(57988),v=r(51342),p=r(39324),f=r(74959),b=r(37017);const g=()=>{var e;const[i,r]=(0,s.useState)((0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Expand "}),(0,a.jsx)(f.g,{icon:p.tdl})]})),l=(0,d.wA)(),{estimations:o,isLoading:t,error:h,message:x}=(0,d.d4)(c.Hw),{deletingMessage:m}=(0,d.d4)(v.$z),[j,g]=(0,s.useState)(!1),[y,C]=(0,s.useState)([]);(0,s.useEffect)(()=>{l((0,c.f2)())},[l,m]);(0,s.useEffect)(()=>{const e=setTimeout(()=>{l((0,c._Z)())},3e3);return()=>clearTimeout(e)},[l,h,x]),(0,s.useEffect)(()=>{const e=setTimeout(()=>{l((0,v.kd)())},3e3);return()=>clearTimeout(e)},[l,m]);const w=[...o];null===w||void 0===w||w.sort((e,i)=>(null===e||void 0===e?void 0:e.id)-(null===i||void 0===i?void 0:i.id));const k=null===o||void 0===o?void 0:o.map(e=>{var i;return null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name}),S=null===o||void 0===o||null===(e=o.map((e,i)=>{var r;return{id:i+1,name:null===e||void 0===e||null===(r=e.category)||void 0===r?void 0:r.name}}))||void 0===e?void 0:e.filter((e,i)=>{if(k.indexOf(e.name)===i)return e}),_=null===S||void 0===S?void 0:S.map((e,i)=>{var r,l,s;return{allIndex:i,id:i+1,name:e.name,unit:" ",quantity:" ",rate:" ",amount:null===(r=Number(null===o||void 0===o||null===(l=o.filter(i=>{var r;return(null===(r=i.category)||void 0===r?void 0:r.name)===(null===e||void 0===e?void 0:e.name)}))||void 0===l?void 0:l.map(e=>parseFloat(e.estimationTotalAmount||0)).reduce((e,i)=>e+i,0)))||void 0===r?void 0:r.toLocaleString(),calculateAmount:null===o||void 0===o||null===(s=o.filter(i=>{var r;return(null===(r=i.category)||void 0===r?void 0:r.name)===e.name}))||void 0===s?void 0:s.map(e=>parseFloat(e.estimationTotalAmount||0)).reduce((e,i)=>e+i,0),_props:{bgColor:"#e2e5de"}}}),A=null===_||void 0===_?void 0:_.map(e=>e.allIndex);return(0,a.jsxs)("div",{style:{backgroundColor:"#fbfbf8",fontWeight:"bold",fontSize:"0.75rem"},children:[(0,a.jsx)("div",{style:{marginBottom:"20px"},children:(0,a.jsx)(n.Q_,{style:{fontWeight:500,marginLeft:"5px",color:"white",fontSize:"0.70rem",marginTop:"5px"},onClick:()=>{const e=y.indexOf(1);let i=y.slice();-1!==e?(r((0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Expand "}),(0,a.jsx)(f.g,{icon:p.tdl})]})),i.splice(i)):(r((0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Collapse "}),(0,a.jsx)(f.g,{icon:p.GF6})]})),i=A),C(i)},color:"info",size:"sm",children:i})}),(0,a.jsx)(b.Pd,{columns:[{key:"id",filter:!1,sorter:!1,_props:{className:"fw-semibold"},_style:{width:"8%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"name",label:"Item Description",filter:!1,sorter:!1,_props:{color:"primary"},_style:{width:"45%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"unit",filter:!1,sorter:!1,_props:{color:"primary"},_style:{width:"10%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"quantity",filter:!1,sorter:!1,_props:{color:"primary"},_style:{width:"10%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"rate",label:"unit rate",filter:!1,sorter:!1,_props:{color:"primary"},_style:{width:"10%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"amount",filter:!1,sorter:!1,_props:{color:"primary"},_style:{width:"10%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"show_details",label:"",_style:{width:"3%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"},filter:!1,sorter:!1,_props:{color:"primary",className:"fw-semibold"}}],items:_,pagination:!0,itemsPerPage:50,scopedColumns:{show_details:e=>(0,a.jsx)("td",{className:"py-2",children:(0,a.jsx)("div",{onClick:()=>{(e=>{const i=y.indexOf(e);let r=y.slice();-1!==i?r.splice(i,1):r=[...y,e],C(r)})(e._id)},children:y.includes(e._id)?(0,a.jsx)(f.g,{icon:p.GF6}):(0,a.jsx)(f.g,{icon:p.tdl})})}),details:e=>{var i;return(0,a.jsx)(n.x8,{visible:y.includes(e._id),children:(0,a.jsx)(n._v,{bordered:!0,borderColor:"#01579b",style:{backgroundColor:"white",fontWeight:450,fontSize:"0.75rem"},children:(0,a.jsx)(n.jS,{children:null===w||void 0===w||null===(i=w.filter(i=>{var r;return(null===(r=i.category)||void 0===r?void 0:r.name)===e.name}))||void 0===i?void 0:i.map(e=>(0,a.jsxs)(n.YI,{children:[(0,a.jsx)(n.$s,{style:{width:"7%"},scope:"row",children:e.id}),(0,a.jsx)(n.cC,{style:{width:"30%"},children:e.name}),(0,a.jsx)(n.cC,{style:{width:"7%"},children:e.estimationUnit}),(0,a.jsx)(n.cC,{style:{width:"5%"},children:Number(e.estimationQuantity).toLocaleString()}),(0,a.jsx)(n.cC,{style:{width:"5%"},children:Number(e.estimationRate).toLocaleString()||0}),(0,a.jsx)(n.cC,{style:{width:"7%"},children:Number(e.estimationTotalAmount).toLocaleString()||0}),(0,a.jsxs)(n.cC,{style:{width:"5%"},children:[(0,a.jsx)("div",{style:{cursor:"pointer",display:"inline-block"},children:(0,a.jsx)(n.Qb,{checked:e.isApproved,onClick:()=>{return i=e.id,void l((0,c.Lr)(i));var i},onChange:()=>{}})}),(0,a.jsx)("div",{style:{cursor:"pointer",display:"inline-block"},children:(0,a.jsx)(f.g,{value:"activity.id",icon:p.ROs,onClick:()=>(e.id,void g(!j))})}),(0,a.jsx)("div",{style:{cursor:"pointer",display:"inline-block",fontSize:"0.7rem"},children:(0,a.jsx)(u.A,{onClick:()=>{return i=e.id,void l((0,v.Mk)(i));var i}})})]})]},e.id+586))})})})}},tableProps:{responsive:!0}}),0===(null===o||void 0===o?void 0:o.length)&&!t&&(0,a.jsx)("h3",{children:"No unverified activity"}),t&&(0,a.jsx)(n.JT,{color:"primary"}),h&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:h}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})})]})};var y=r(67580),C=r(46639),w=r(92686),k=r(97354);function S(){const e=(0,d.wA)(),{projects:i,updatedActivity:r,loading:l}=(0,d.d4)(w.Br),{isLoading:n,selectedActivity:o}=(0,d.d4)(v.$z),{role:c}=(0,t.Q)();return(0,s.useEffect)(()=>{e((0,w.cf)())},[e]),(0,s.useEffect)(()=>{e((0,v.jI)())},[e]),(0,s.useEffect)(()=>{e((0,v.Ew)())},[e]),(0,s.useEffect)(()=>{r&&e((0,v.q)(r))},[r,e]),(0,a.jsxs)(a.Fragment,{children:["owner"===c&&(null===i||void 0===i?void 0:i.length)>0&&(0,a.jsx)("div",{style:{backgroundColor:"#CCCCCC",padding:"40px"},children:o&&(0,a.jsx)(k.A,{})}),(0,a.jsx)("div",{children:(0,a.jsx)(y.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:n,children:(0,a.jsx)(C.A,{color:"inherit"})})}),(0,a.jsx)("div",{children:(0,a.jsx)(y.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:l,children:(0,a.jsx)(C.A,{color:"inherit"})})})]})}const _=()=>{var e;const[i,r]=(0,s.useState)((0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Expand "}),(0,a.jsx)(f.g,{icon:p.tdl})]})),[l]=(0,s.useState)(null),[o]=(0,s.useState)(null),[t,h]=(0,s.useState)(!1),[x,m]=(0,s.useState)([]),j=(0,d.wA)(),{error:u,message:g}=(0,d.d4)(c.Hw),{defaultActivities:y}=(0,d.d4)(v.$z);(0,s.useEffect)(()=>{j((0,v.Ew)())},[j]),(0,s.useEffect)(()=>{j((0,v.Zu)())},[j]),(0,s.useEffect)(()=>{const e=setTimeout(()=>{j((0,c._Z)())},3e3);return()=>clearTimeout(e)},[j,u,g]);const C=null===y||void 0===y?void 0:y.map(e=>{var i;return null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name}),w=null===y||void 0===y||null===(e=y.map((e,i)=>{var r;return{id:i+1,name:null===e||void 0===e||null===(r=e.category)||void 0===r?void 0:r.name}}))||void 0===e?void 0:e.filter((e,i)=>{if(C.indexOf(e.name)===i)return e}),k=null===w||void 0===w?void 0:w.map((e,i)=>{var r,l,s;return{allIndex:i,id:i+1,name:e.name,unit:" ",quantity:" ",rate:" ",amount:null===(r=Number(null===y||void 0===y||null===(l=y.filter(i=>{var r;return(null===(r=i.category)||void 0===r?void 0:r.name)===(null===e||void 0===e?void 0:e.name)}))||void 0===l?void 0:l.map(e=>parseFloat(e.estimationTotalAmount||0)).reduce((e,i)=>e+i,0)))||void 0===r?void 0:r.toLocaleString(),calculateAmount:null===y||void 0===y||null===(s=y.filter(i=>{var r;return(null===(r=i.category)||void 0===r?void 0:r.name)===e.name}))||void 0===s?void 0:s.map(e=>parseFloat(e.estimationTotalAmount||0)).reduce((e,i)=>e+i,0),_props:{bgColor:"#e2e5de"}}}),_=null===k||void 0===k?void 0:k.map(e=>e.allIndex);return(0,a.jsxs)("div",{style:{backgroundColor:"#CCCCCC",padding:"10px",fontSize:"0.75rem"},children:[(0,a.jsx)("div",{style:{marginBottom:"20px"},children:(0,a.jsx)(n.Q_,{style:{fontWeight:500,marginLeft:"5px",color:"white",fontSize:"0.70rem",marginTop:"5px"},onClick:()=>{const e=x.indexOf(1);let i=x.slice();-1!==e?(r((0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Expand "}),(0,a.jsx)(f.g,{icon:p.tdl})]})),i.splice(i)):(r((0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Collapse "}),(0,a.jsx)(f.g,{icon:p.GF6})]})),i=_),m(i)},color:"info",size:"sm",children:i})}),(0,a.jsxs)(n.zS,{size:"xl",style:{backgroundColor:"#01579b",color:"white"},visible:t,onClose:()=>{h(!1)},children:[(0,a.jsx)(n.E4,{}),(0,a.jsx)(n.Tc,{children:(0,a.jsx)(S,{})})]}),(0,a.jsx)("div",{style:{backgroundColor:"#fbfbf8",fontWeight:"bold",fontSize:"0.75rem"},children:(0,a.jsx)(b.Pd,{columns:[{key:"id",filter:!1,sorter:!1,_props:{className:"fw-semibold"},_style:{width:"8%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"name",label:"Item Description",filter:!1,sorter:!1,_props:{color:"primary"},_style:{width:"45%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"unit",filter:!1,sorter:!1,_props:{color:"primary"},_style:{width:"10%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"quantity",filter:!1,sorter:!1,_props:{color:"primary"},_style:{width:"10%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"rate",label:"unit rate",filter:!1,sorter:!1,_props:{color:"primary"},_style:{width:"10%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"amount",filter:!1,sorter:!1,_props:{color:"primary"},_style:{width:"10%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"}},{key:"show_details",label:"",_style:{width:"3%",backgroundColor:"#01579b",color:"#fff",fontSize:"0.85rem"},filter:!1,sorter:!1,_props:{color:"primary",className:"fw-semibold"}}],items:k,pagination:!0,itemsPerPage:50,scopedColumns:{show_details:e=>(0,a.jsx)("td",{className:"py-2",children:(0,a.jsx)("div",{onClick:()=>{(e=>{const i=x.indexOf(e);let r=x.slice();-1!==i?r.splice(i,1):r=[...x,e],m(r)})(e._id)},children:x.includes(e._id)?(0,a.jsx)(f.g,{icon:p.GF6}):(0,a.jsx)(f.g,{icon:p.tdl})})}),details:e=>{var i;return(0,a.jsx)(n.x8,{visible:x.includes(e._id),children:(0,a.jsx)(n._v,{bordered:!0,borderColor:"#01579b",style:{backgroundColor:"white",fontWeight:450,fontSize:"0.75rem"},children:(0,a.jsx)(n.jS,{children:null===y||void 0===y||null===(i=y.filter(i=>{var r;return(null===(r=i.category)||void 0===r?void 0:r.name)===e.name}))||void 0===i?void 0:i.map(e=>(0,a.jsxs)(n.YI,{children:[(0,a.jsx)(n.$s,{style:{width:"7%"},scope:"row",children:e.id}),(0,a.jsx)(n.cC,{style:{width:"30%"},children:e.name}),(0,a.jsx)(n.cC,{style:{width:"7%"},children:e.estimationUnit}),(0,a.jsx)(n.cC,{style:{width:"5%"},children:Number(e.estimationQuantity).toLocaleString()}),(0,a.jsx)(n.cC,{style:{width:"5%"},children:Number(e.estimationRate).toLocaleString()||0}),(0,a.jsx)(n.cC,{style:{width:"7%"},children:Number(e.estimationTotalAmount).toLocaleString()||0}),(0,a.jsxs)(n.cC,{style:{width:"1%"},children:[(0,a.jsx)("div",{style:{cursor:"pointer"},children:(0,a.jsx)(n.Qb,{checked:e.isApproved,onClick:()=>{return i=e.id,void j((0,c.Lr)(i)).then(()=>{j((0,v.Ew)())});var i},onChange:()=>{}})}),(0,a.jsx)("div",{style:{cursor:"pointer"},children:(0,a.jsx)(f.g,{value:"activity.id",icon:p.ROs,onClick:()=>(e.id,void h(!t))})})]})]},e.id+586))})})})}},tableProps:{responsive:!0}})}),(0,a.jsx)("div",{}),l&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:l}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})}),o&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:o}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})}),g&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:g}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})}),u&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:u}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})})]})},A=()=>{const[e,i]=(0,s.useState)(1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.by,{style:{marginBottom:"20px",backgroundColor:"white",fontWeight:"bold",cursor:"pointer",width:"fit-content"},variant:"pills",role:"tablist",children:[(0,a.jsx)(n.g9,{children:(0,a.jsx)(n.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:1===e?"rgb(1, 87, 155)":"",color:1===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:1===e,onClick:()=>i(1),children:"UnProved Estimations"})}),(0,a.jsx)(n.g9,{children:(0,a.jsx)(n.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:2===e?"rgb(1, 87, 155)":"",color:2===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:2===e,onClick:()=>i(2),children:"Approved Estimations"})})]}),(0,a.jsxs)(n.eL,{children:[(0,a.jsx)(n.x1,{role:"tabpanel","aria-labelledby":"home-tab",visible:1===e,children:(0,a.jsx)(g,{})}),(0,a.jsx)(n.x1,{role:"tabpanel","aria-labelledby":"profile-tab",visible:2===e,children:(0,a.jsx)(_,{})})]})]})};var N=r(16484);const T=()=>{const e=(0,d.wA)(),{categories:i,isLoading:r,error:l,message:o}=(0,d.d4)(c.Hw),{categoriesSuccess:t}=(0,d.d4)(N.k5);(0,s.useEffect)(()=>{e((0,c.wP)())},[e,t]);(0,s.useEffect)(()=>{const i=setTimeout(()=>{e((0,c._Z)())},3e3);return()=>clearTimeout(i)},[e,l,o]),(0,s.useEffect)(()=>{const i=setTimeout(()=>{e((0,N.Qk)())},3e3);return()=>clearTimeout(i)},[e,t]);const h=i=>{e((0,N.K7)(i))};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.sK,{children:(0,a.jsxs)(n.UF,{xs:!0,children:[(0,a.jsx)(n.V0,{children:"List of unverified category"}),(0,a.jsxs)(n.W6,{children:[(null===i||void 0===i?void 0:i.length)>0&&(0,a.jsxs)(n._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,a.jsx)(n.wV,{color:"light",children:(0,a.jsxs)(n.YI,{children:[(0,a.jsx)(n.$s,{children:"name"}),(0,a.jsx)(n.$s,{children:"Status"})]})}),(0,a.jsx)(n.jS,{children:null===i||void 0===i?void 0:i.map(i=>(0,a.jsxs)(n.YI,{"v-for":"item in tableItems",children:[(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.name})}),(0,a.jsxs)(n.cC,{style:{display:"flex",gap:"10px",alignItems:"center",cursor:"pointer"},children:[(0,a.jsx)(n.Qb,{checked:i.isApproved,onClick:()=>{return r=i.id,void e((0,c.ZQ)(r));var r},label:i.isApproved?"Approved":"Un-Approved",onChange:()=>{}}),(0,a.jsx)(u.A,{onClick:()=>h(i.id)})]})]},i.id))})]}),r&&(0,a.jsx)(n.JT,{color:"primary"}),l&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:l}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})}),0===(null===i||void 0===i?void 0:i.length)&&!r&&(0,a.jsx)("h3",{children:"No unverified category"})]})]})})})},z=()=>{const e=(0,d.wA)(),{units:i,isLoading:r,error:l,message:o}=(0,d.d4)(c.Hw);(0,s.useEffect)(()=>{e((0,c.kb)())},[e]);return(0,s.useEffect)(()=>{const i=setTimeout(()=>{e((0,c._Z)())},3e3);return()=>clearTimeout(i)},[e,l,o]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.sK,{children:(0,a.jsxs)(n.UF,{xs:!0,children:[(0,a.jsx)(n.V0,{children:"List of unverified units"}),(0,a.jsxs)(n.W6,{children:[(null===i||void 0===i?void 0:i.length)>0&&(0,a.jsxs)(n._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,a.jsx)(n.wV,{color:"light",children:(0,a.jsxs)(n.YI,{children:[(0,a.jsx)(n.$s,{children:"symbol"}),(0,a.jsx)(n.$s,{children:"meaning"}),(0,a.jsx)(n.$s,{children:"Status"})]})}),(0,a.jsx)(n.jS,{children:null===i||void 0===i?void 0:i.map(i=>(0,a.jsxs)(n.YI,{"v-for":"item in tableItems",children:[(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.symbol})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{children:i.meaning})}),(0,a.jsx)(n.cC,{children:(0,a.jsx)(n.Qb,{checked:i.isApproved,onClick:()=>{return r=i.id,void e((0,c.UX)(r));var r},label:i.isApproved?"Approved":"Un-Approved",onChange:()=>{}})})]},i.id))})]}),r&&(0,a.jsx)(n.JT,{color:"primary"}),0===(null===i||void 0===i?void 0:i.length)&&!r&&(0,a.jsx)("h3",{children:"No unverified units"}),l&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:l}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})})]})]})})})};function E(){const e=(0,d.wA)(),{projects:i,singleProject:r}=(0,d.d4)(w.Br),{role:c}=(0,t.Q)(),[u,v]=(0,s.useState)(1);(0,s.useEffect)(()=>{e((0,w.cf)())},[e]);const p=null===i||void 0===i?void 0:i.map(e=>({value:e.id,label:e.name}));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{marginBottom:"20px",width:"40%",fontWeight:"bold",fontSize:"0.7rem"},children:(0,a.jsx)(o.A,{isClearable:!0,onChange:i=>{const r={id:i.value,labourName:i.label};e((0,w.EQ)(r.id))},options:p,placeholder:r?null===r||void 0===r?void 0:r.name:"Select a Project",styles:{option:(e,i)=>(0,l.A)((0,l.A)({},e),{},{borderBottom:"1px dotted #01579b",color:i.isSelected?"white":"black"})}})}),(0,a.jsx)("div",{style:{marginTop:"2rem"},children:"owner"===c&&(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:[(0,a.jsxs)(n.by,{style:{marginBottom:"20px",backgroundColor:"white",fontWeight:"bold",cursor:"pointer",width:"fit-content",textAlign:"center"},variant:"pills",role:"tablist",children:[(0,a.jsx)(n.g9,{children:(0,a.jsx)(n.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:1===u?"rgb(1, 87, 155)":"",color:1===u?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500,width:"135px"},active:1===u,onClick:()=>v(1),children:"Activity"})}),(0,a.jsx)(n.g9,{children:(0,a.jsx)(n.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:2===u?"rgb(1, 87, 155)":"",color:2===u?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500,width:"135px"},active:2===u,onClick:()=>v(2),children:"Category"})}),(0,a.jsx)(n.g9,{children:(0,a.jsx)(n.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:3===u?"rgb(1, 87, 155)":"",color:3===u?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500,width:"135px"},active:3===u,onClick:()=>v(3),children:"EQUIPMENT"})}),(0,a.jsx)(n.g9,{children:(0,a.jsx)(n.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:4===u?"rgb(1, 87, 155)":"",color:4===u?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500,width:"135px"},active:4===u,onClick:()=>v(4),children:"MATERIAL"})}),(0,a.jsx)(n.g9,{children:(0,a.jsx)(n.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:5===u?"rgb(1, 87, 155)":"",color:5===u?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500,width:"135px"},active:5===u,onClick:()=>v(5),children:"LABOUR"})}),(0,a.jsx)(n.g9,{children:(0,a.jsx)(n.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:6===u?"rgb(1, 87, 155)":"",color:6===u?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500,width:"135px"},active:6===u,onClick:()=>v(6),children:"SUBCONTRACTOR"})}),(0,a.jsx)(n.g9,{children:(0,a.jsx)(n.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:7===u?"rgb(1, 87, 155)":"",color:7===u?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500,width:"135px"},active:7===u,onClick:()=>v(7),children:"UNIT"})})]}),(0,a.jsxs)(n.eL,{children:[(0,a.jsx)(n.x1,{role:"tabpanel","aria-labelledby":"home-tab",visible:1===u,children:(0,a.jsx)(A,{})}),(0,a.jsx)(n.x1,{role:"tabpanel","aria-labelledby":"category-tab",visible:2===u,children:(0,a.jsx)(T,{})}),(0,a.jsx)(n.x1,{role:"tabpanel","aria-labelledby":"home-tab",visible:3===u,children:(0,a.jsx)(h,{})}),(0,a.jsx)(n.x1,{role:"tabpanel","aria-labelledby":"profile-tab",visible:4===u,children:(0,a.jsx)(x,{})}),(0,a.jsx)(n.x1,{role:"tabpanel","aria-labelledby":"contact-tab",visible:5===u,children:(0,a.jsx)(m,{})}),(0,a.jsx)(n.x1,{role:"tabpanel","aria-labelledby":"contact-tab",visible:6===u,children:(0,a.jsx)(j,{})}),(0,a.jsx)(n.x1,{role:"tabpanel","aria-labelledby":"contact-tab",visible:7===u,children:(0,a.jsx)(z,{})})]})]})})]})}}}]);