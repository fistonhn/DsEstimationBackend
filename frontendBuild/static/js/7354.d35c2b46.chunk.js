"use strict";(self.webpackChunk_ds_estimation_construction_web_app=self.webpackChunk_ds_estimation_construction_web_app||[]).push([[7354],{33269:(e,t,i)=>{i.d(t,{A:()=>w});var n=i(89379),l=i(9950),a=i(87830),o=i(69015),d=i(8452),r=i(51602),s=i(14517),c=i(94157),u=i(33043),m=i(36386),p=i(77916),h=i(40253),x=i(35901),v=i(48662),b=i(16192),g=i(16714),j=i(37509),f=i(39324),y=i(74959),S=i(44414);const w={ViewEdit:(0,l.forwardRef)((e,t)=>(0,S.jsx)(y.g,{style:{color:"blue",fontSize:"18px"},icon:f.ROs})),Add:(0,l.forwardRef)((e,t)=>(0,S.jsx)(a.A,(0,n.A)((0,n.A)({style:{color:"blue"}},e),{},{ref:t}))),Check:(0,l.forwardRef)((e,t)=>(0,S.jsx)(d.A,(0,n.A)((0,n.A)({style:{color:"blue"}},e),{},{ref:t}))),Clear:(0,l.forwardRef)((e,t)=>(0,S.jsx)(c.A,(0,n.A)((0,n.A)({style:{color:"red"}},e),{},{ref:t}))),Delete:(0,l.forwardRef)((e,t)=>(0,S.jsx)(u.A,(0,n.A)((0,n.A)({style:{color:"red"}},e),{},{ref:t}))),DetailPanel:(0,l.forwardRef)((e,t)=>(0,S.jsx)(s.A,(0,n.A)((0,n.A)({},e),{},{ref:t}))),Edit:(0,l.forwardRef)((e,t)=>(0,S.jsx)(m.A,(0,n.A)((0,n.A)({style:{color:"green"}},e),{},{ref:t}))),Export:(0,l.forwardRef)((e,t)=>(0,S.jsx)(b.A,(0,n.A)((0,n.A)({style:{color:"blue"}},e),{},{ref:t}))),Filter:(0,l.forwardRef)((e,t)=>(0,S.jsx)(p.A,(0,n.A)((0,n.A)({},e),{},{ref:t}))),FirstPage:(0,l.forwardRef)((e,t)=>(0,S.jsx)(h.A,(0,n.A)((0,n.A)({},e),{},{ref:t}))),LastPage:(0,l.forwardRef)((e,t)=>(0,S.jsx)(x.A,(0,n.A)((0,n.A)({},e),{},{ref:t}))),NextPage:(0,l.forwardRef)((e,t)=>(0,S.jsx)(s.A,(0,n.A)((0,n.A)({},e),{},{ref:t}))),PreviousPage:(0,l.forwardRef)((e,t)=>(0,S.jsx)(r.A,(0,n.A)((0,n.A)({},e),{},{ref:t}))),ResetSearch:(0,l.forwardRef)((e,t)=>(0,S.jsx)(c.A,(0,n.A)((0,n.A)({},e),{},{ref:t}))),Search:(0,l.forwardRef)((e,t)=>(0,S.jsx)(g.A,(0,n.A)((0,n.A)({},e),{},{ref:t}))),SortArrow:(0,l.forwardRef)((e,t)=>(0,S.jsx)(o.A,(0,n.A)((0,n.A)({},e),{},{ref:t}))),ThirdStateCheck:(0,l.forwardRef)((e,t)=>(0,S.jsx)(v.A,(0,n.A)((0,n.A)({},e),{},{ref:t}))),ViewColumn:(0,l.forwardRef)((e,t)=>(0,S.jsx)(j.A,(0,n.A)((0,n.A)({},e),{},{ref:t})))}},41711:(e,t,i)=>{i.d(t,{Hk:()=>c,Y1:()=>r,an:()=>s,jZ:()=>u,pp:()=>m,uB:()=>p,vR:()=>d});var n=i(89379),l=(i(9950),i(26080)),a=i(49911),o=i(44414);const d=e=>{let{data:t,handleChange:i,handleSubmit:n,validated:l,isLoading:d}=e;return(0,o.jsxs)(a.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:l,onSubmit:n,children:[(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom03",children:"Symbol"}),(0,o.jsx)(a.OG,{type:"text",id:"validationCustom03",required:!0,placeholder:"Enter Unit Symbol",name:"symbol",value:null===t||void 0===t?void 0:t.symbol,onChange:i}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide unit symbol."})]}),(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom03",children:"Meaning"}),(0,o.jsx)(a.OG,{type:"text",id:"validationCustom03",required:!0,placeholder:"Enter Unit In full",name:"meaning",value:null===t||void 0===t?void 0:t.meaning,onChange:i}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide unit meaning."})]}),(0,o.jsx)(a.UF,{xs:12,children:(0,o.jsx)(a.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},children:d?"Processing...":"Create Unit"})})]})},r=e=>{let{data:t,handleChange:i,handleSubmit:n,validated:l,status:d}=e;return(0,o.jsxs)(a.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:l,onSubmit:n,children:[(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom01",children:"Name"}),(0,o.jsx)(a.OG,{type:"text",id:"validationCustom01",required:!0,placeholder:"Enter First Name",name:"name",value:null===t||void 0===t?void 0:t.name,onChange:i}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide a Name."})]}),(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom03",children:"Email"}),(0,o.jsx)(a.OG,{type:"email",id:"validationCustom03",required:!0,placeholder:"Enter Email",name:"email",value:null===t||void 0===t?void 0:t.email,onChange:i}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide a Email."})]}),(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom04",children:"Temporary Password"}),(0,o.jsx)(a.OG,{type:"password",id:"validationCustom04",required:!0,placeholder:"Enter Temporary Password",name:"password",value:null===t||void 0===t?void 0:t.password,onChange:i}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide a Temporary Password."})]}),(0,o.jsx)(a.UF,{xs:12,children:(0,o.jsx)(a.Q_,{color:"primary",type:"submit",children:"loading"===d?"Sending...":"Send Invitation"})})]})},s=e=>{let{data:t,handleChange:i,handleSubmit:n,validated:l,isLoading:d}=e;return(0,o.jsxs)(a.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:l,onSubmit:n,children:[(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom01",children:"Supplier Name"}),(0,o.jsx)(a.OG,{type:"text",id:"validationCustom01",required:!0,placeholder:"Enter Supplier Name",name:"name",value:null===t||void 0===t?void 0:t.name,onChange:i}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide a Supplier Name."})]}),(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom02",children:"Supplier Address"}),(0,o.jsx)(a.OG,{type:"text",id:"validationCustom02",placeholder:"Enter Supplier Adress",name:"address",value:null===t||void 0===t?void 0:t.address,onChange:i})]}),(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom03",children:"Price"}),(0,o.jsx)(a.OG,{type:"number",id:"validationCustom03",placeholder:"Enter Price",name:"price",value:null===t||void 0===t?void 0:t.price,onChange:i,step:"any"})]}),(0,o.jsx)(a.UF,{xs:12,children:(0,o.jsx)(a.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},children:d?"Processing...":"Add Supplier"})})]})},c=e=>{let{data:t,handleChange:i,handleSubmit:d,validated:r,isLoading:s,handleSupplierInputChange:c,onCreateOptionSupplier:u,suppliers:m,handleUnitChange:p,units:h,onCreateOptionUnit:x}=e;return(0,o.jsxs)(a.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:r,onSubmit:d,children:[(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom01",children:"Material Name"}),(0,o.jsx)(a.OG,{type:"text",id:"validationCustom01",required:!0,placeholder:"Enter Material Name",name:"name",value:null===t||void 0===t?void 0:t.name,onChange:i}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide a Material Name."})]}),(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom03",children:"Unit"}),(0,o.jsx)(l.A,{style:{color:"red"},isClearable:!0,placeholder:"Search unit",onChange:p,options:h,styles:{option:(e,t)=>(0,n.A)((0,n.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})},onCreateOption:x})]}),(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom04",children:"Material Price"}),(0,o.jsx)(a.OG,{type:"number",id:"validationCustom04",required:!0,placeholder:"Enter Material Price",name:"price",value:null===t||void 0===t?void 0:t.price,onChange:i,step:"any"}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide a Material Price."})]}),(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom05",children:"Currency default(RWF)"}),(0,o.jsx)(l.A,{style:{color:"red"},isClearable:!0,placeholder:"Search currency",onChange:c,options:m,styles:{option:(e,t)=>(0,n.A)((0,n.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})},onCreateOption:u})]}),(0,o.jsx)(a.UF,{xs:12,children:(0,o.jsx)(a.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},children:s?"Processing...":"Add Material"})})]})},u=e=>{let{data:t,handleChange:i,handleSubmit:d,validated:r,isLoading:s,handleUnitInputChange:c,handleSelectChange:u,units:m,onCreateOptionUnit:p,handleSupplierInputChange:h,onCreateOptionSupplier:x,suppliers:v}=e;return(0,o.jsxs)(a.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:r,onSubmit:d,children:[(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom01",children:"Labour Name"}),(0,o.jsx)(a.OG,{type:"text",id:"validationCustom01",required:!0,placeholder:"Enter Labour Name",name:"name",value:null===t||void 0===t?void 0:t.name,onChange:i}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide a Labour Name."})]}),(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom03",children:"Labour Unit"}),(0,o.jsx)(l.A,{style:{color:"red"},isClearable:!0,placeholder:"Search unit",onChange:u,onInputChange:c,options:m,styles:{option:(e,t)=>(0,n.A)((0,n.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})},onCreateOption:p})]}),(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom02",children:"Labour Number"}),(0,o.jsx)(a.OG,{type:"number",id:"validationCustom02",placeholder:"Enter Labour Number",name:"number",value:null===t||void 0===t?void 0:t.number,onChange:i,step:"any"})]}),(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom05",children:"Labour Wage"}),(0,o.jsx)(a.OG,{type:"number",id:"validationCustom05",required:!0,placeholder:"Enter Labour Wage",name:"wages",value:null===t||void 0===t?void 0:t.wages,onChange:i,step:"any"}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide a Labour Wage."})]}),(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom05",children:"Currency default(RWF)"}),(0,o.jsx)(l.A,{style:{color:"red"},isClearable:!0,placeholder:"Search currency",onChange:h,options:v,styles:{option:(e,t)=>(0,n.A)((0,n.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})},onCreateOption:x})]}),(0,o.jsx)(a.UF,{xs:12,children:(0,o.jsx)(a.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},children:s?"Processing...":"Add Labour"})})]})},m=e=>{let{data:t,handleChange:i,handleSubmit:d,validated:r,handleUnitInputChange:s,onCreateOptionUnit:c,onInputUnitSelect:u,units:m,isLoading:p,handleSupplierInputChange:h,suppliers:x}=e;return(0,o.jsxs)(a.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:r,onSubmit:d,children:[(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom01",children:"Sub Contractor Name"}),(0,o.jsx)(a.OG,{type:"text",id:"validationCustom01",required:!0,placeholder:"Enter Sub Contractor Name",name:"name",value:null===t||void 0===t?void 0:t.name,onChange:i}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide a Sub Contractor Name."})]}),(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom02",children:"Sub Contractor Unit"}),(0,o.jsx)(l.A,{style:{color:"red"},isClearable:!0,placeholder:"Search unit",onChange:u,onInputChange:s,options:m,styles:{option:(e,t)=>(0,n.A)((0,n.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})},onCreateOption:c})]}),(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom04",children:"Sub Contractor Price"}),(0,o.jsx)(a.OG,{type:"number",id:"validationCustom04",required:!0,placeholder:"Enter Sub Contractor Price",name:"price",value:null===t||void 0===t?void 0:t.price,onChange:i,step:"any"}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide a Sub Contractor Price."})]}),(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom05",children:"Currency default(RWF)"}),(0,o.jsx)(l.A,{style:{color:"red"},isClearable:!0,placeholder:"Search currency",onChange:h,options:x,styles:{option:(e,t)=>(0,n.A)((0,n.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})}})]}),(0,o.jsx)(a.UF,{xs:12,children:(0,o.jsx)(a.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},children:p?"Processing...":"Add Sub Contractor"})})]})},p=e=>{let{data:t,handleChange:i,handleSubmit:d,validated:r,handleSupplierChange:s,isLoading:c,suppliers:u,onCreateOptionSupplier:m,handleUnitChange:p,units:h,onCreateOptionUnit:x}=e;return(0,o.jsxs)(a.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:r,onSubmit:d,children:[(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom01",children:"Equipment Name"}),(0,o.jsx)(a.OG,{type:"text","aria-label":"name",id:"validationCustom01",placeholder:"Write equipment name here",name:"name",value:null===t||void 0===t?void 0:t.name,onChange:i,required:!0}),(0,o.jsx)(a.To,{invalid:!0,children:"Please provide Equipment name"})]}),(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom03",children:"Unit"}),(0,o.jsx)(l.A,{style:{color:"red"},isClearable:!0,placeholder:"Search unit",onChange:p,options:h,styles:{option:(e,t)=>(0,n.A)((0,n.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})},onCreateOption:x})]}),(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom04",children:"Hire Rate Price"}),(0,o.jsx)(a.OG,{type:"number","aria-label":"name",id:"validationCustom04",placeholder:"Write hire rate price here",name:"hireRatePrice",value:null===t||void 0===t?void 0:t.hireRatePrice,onChange:i,required:!0,step:"any"}),(0,o.jsx)(a.To,{invalid:!0,children:"Hire Rate Price"})]}),(0,o.jsxs)(a.UF,{md:6,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom05",children:"Number"}),(0,o.jsx)(a.OG,{type:"number","aria-label":"name",id:"validationCustom05",placeholder:"Write number here",name:"number",value:null===t||void 0===t?void 0:t.number,onChange:i,step:"any"})]}),(0,o.jsxs)(a.UF,{md:12,children:[(0,o.jsx)(a.A6,{htmlFor:"validationCustom05",style:{color:"black"},children:"Currency default(RWF)"}),(0,o.jsx)(l.A,{style:{color:"red"},isClearable:!0,placeholder:"Search currency",onChange:s,options:u,styles:{option:(e,t)=>(0,n.A)((0,n.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black",textTransform:"lowercase"})},onCreateOption:m})]}),(0,o.jsx)(a.UF,{xs:12,children:(0,o.jsx)(a.Q_,{style:{backgroundColor:"#01579b",color:"#fff",fontWeight:500},color:"loading"===c?"secondary":"primary",type:"submit",children:c?"Processing...":"Add Equipment"})})]})}},48303:(e,t,i)=>{i.d(t,{M:()=>n});const n=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTC","BTN","BWP","BYN","BZD","CAD","CDF","CHF","CLF","CLP","CNH","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VEF","VES","VND","VUV","WST","XAF","XAG","XAU","XCD","XDR","XOF","XPD","XPF","XPT","YER","ZAR","ZMW","ZWL"]},97354:(e,t,i)=>{i.d(t,{A:()=>O});var n=i(9950),l=i(49911),a=i(89379),o=i(55956),d=i.n(o),r=i(33269),s=i(73878),c=i(51342),u=i(10598),m=i(92560),p=i(5386),h=i(32018),x=i(26080),v=i(55638),b=i(41711),g=i(39388),j=i(44414);const f=()=>{const[e,t]=(0,n.useState)({name:null,address:null,price:null}),[i,o]=(0,n.useState)(!1),{message:d,error:r}=(0,s.d4)(g.IH),c=(0,s.wA)();return(0,n.useEffect)(()=>{const e=setTimeout(()=>{c((0,g.Tr)())},3e3);return()=>clearTimeout(e)},[c,r,d]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b.an,{handleSubmit:t=>{t.preventDefault();const i=t.currentTarget;!1===i.checkValidity()&&(t.preventDefault(),t.stopPropagation()),o(!0),!0===i.checkValidity()&&c((0,g.jx)({name:e.name,address:e.address,price:e.price}))},handleChange:i=>{const{name:n,value:l}=i.target;t((0,a.A)((0,a.A)({},e),{},{[n]:l}))},validated:i,data:e,isLoading:!1}),r&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:r}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),d&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:d}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})})]})};var y=i(36770),S=i(97705),w=i(92686),C=i(79114),A=i(48303);function N(){const[e,t]=(0,n.useState)({name:null,price:null}),[i,o]=(0,n.useState)(null),[d,r]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)(""),[x,N]=(0,n.useState)(""),[T,U]=(0,n.useState)(null),F=(0,s.wA)(),{loading:P,addSuccessMessage:q,addErrorMessage:k,material:z,error:E,message:R}=(0,s.d4)(v.H9),{selectedActivity:B}=(0,s.d4)(c.$z),{singleProject:L}=(0,s.d4)(w.Br),D=null===B||void 0===B?void 0:B.id,I=null===L||void 0===L?void 0:L.id,{role:Q}=(0,C.Q)(),[Y,M]=(0,n.useState)(!1);(0,n.useEffect)(()=>{F((0,g.Jr)())},[F]);const W=null===A.M||void 0===A.M?void 0:A.M.map(e=>({value:e,label:e})),{units:O}=(0,s.d4)(y.GV);(0,n.useEffect)(()=>{F((0,y.YU)())},[F]);const J=null===O||void 0===O?void 0:O.map(e=>({value:e.id,label:e.symbol}));return(0,n.useEffect)(()=>{const e=setTimeout(()=>{F((0,v.iY)())},5e3);return()=>clearTimeout(e)},[F,q,k,E,R]),(0,n.useEffect)(()=>(I&&z&&F((0,v.kw)({projectId:I,id:D,materialName:z.name})),!I&&z&&F((0,v.Nz)({id:D,materialName:z.name})),()=>{F((0,v.Oy)())}),[z,F,D,I,Q]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{style:{backgroundColor:"#fff",padding:"2rem"},children:[(0,j.jsx)(b.Hk,{handleSubmit:t=>{t.preventDefault();const n=t.currentTarget;!1===n.checkValidity()&&(t.preventDefault(),t.stopPropagation()),M(!0),!0===n.checkValidity()&&F((0,v.lK)({name:e.name,unit:T||null,price:e.price,currency:i||"RWF"}))},handleChange:i=>{const{name:n,value:l}=i.target;t((0,a.A)((0,a.A)({},e),{},{[n]:l}))},data:e,validated:Y,suppliers:W,handleSupplierChange:e=>{o(e.value)},onCreateOptionSupplier:e=>{h(e),r(!d)},isLoading:P,handleUnitChange:e=>{U(e.label)},onCreateOptionUnit:e=>{N(e),m(!u)},units:J}),(0,j.jsxs)(l.zS,{size:"md",alignment:"top",visible:d,onClose:()=>r(!1),className:"modal-bg-color",children:[(0,j.jsx)(l.E4,{children:(0,j.jsxs)(l.lb,{children:[" ","Create ",(0,j.jsx)("span",{style:{color:"red"},children:p})," as Supplier"]})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(f,{})})]}),(0,j.jsxs)(l.zS,{size:"md",alignment:"top",visible:u,onClose:()=>m(!1),className:"modal-bg-color",children:[(0,j.jsx)(l.E4,{children:(0,j.jsxs)(l.lb,{children:[" ","Create ",(0,j.jsx)("span",{style:{color:"red"},children:x})," as unit"]})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(S.A,{})})]}),q&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:q}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),k&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:k}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),R&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:R}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),E&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:E}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})})]})})}function T(){var e;const t=(0,s.wA)(),[i,a]=(0,n.useState)(!1),[o,d]=(0,n.useState)(""),{materials:r,addErrorMessage:u,addSuccessMessage:m,loading:p}=(0,s.d4)(v.H9),{selectedActivity:h}=(0,s.d4)(c.$z),{singleProject:b}=(0,s.d4)(w.Br),g=null===h||void 0===h?void 0:h.id,f=null===b||void 0===b?void 0:b.id,{role:y}=(0,C.Q)(),[S,A]=(0,n.useState)({id:"",materialName:""}),[T,U]=(0,n.useState)("");(0,n.useEffect)(()=>{t((0,v.me)())},[t]);const F=null===r||void 0===r?void 0:r.map(e=>({value:e.name,label:e.name})),P=null===F||void 0===F?void 0:F.map(e=>null===e||void 0===e?void 0:e.label),q=null===F||void 0===F||null===(e=F.map(e=>({label:e.label,value:e.label})))||void 0===e?void 0:e.filter((e,t)=>{if(P.indexOf(e.label)===t)return e});return(0,n.useEffect)(()=>{const e=setTimeout(()=>{t((0,v.iY)())},3e3);return()=>clearTimeout(e)},[t,m,u]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{U("")},3e3);return()=>clearTimeout(e)},[T]),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(x.A,{isClearable:!0,onChange:e=>{const t={id:g,materialName:e.value};A(t)},options:q,onCreateOption:e=>{d(e),a(!i)},placeholder:"Search Material"}),T&&(0,j.jsx)(l.kj,{color:"danger",className:"mt-2",children:T}),(0,j.jsx)(l.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},onClick:e=>{e.preventDefault(),"manager"!==y&&"admin"!==y||(S.materialName&&S.id?t((0,v.kw)({projectId:f,id:g,materialName:S.materialName})):U("Material is required")),"owner"!==y||f||(S.materialName&&S.id?t((0,v.Nz)(S)):U("Material is required")),"owner"===y&&f&&(S.materialName&&S.id?t((0,v.kw)({projectId:f,id:g,materialName:S.materialName})):U("Material is required"))},className:"mt-3",children:p?"adding...":"Add Material"})]}),m&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:m}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),u&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:u}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),(0,j.jsxs)(l.zS,{size:"lg",alignment:"center",visible:i,onClose:()=>a(!1),className:"modal-bg-color",style:{backgroundColor:"#01579b",color:"white"},children:[(0,j.jsx)(l.E4,{children:(0,j.jsxs)(l.lb,{children:["Create ",(0,j.jsx)("span",{style:{color:"red"},children:o})," as Material"]})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(N,{})})]})]})}const U=()=>{var e,t,i,x,b;const g=(0,s.wA)(),{selectedActivity:f,updatedActivity:y}=(0,s.d4)(c.$z),{error:S,message:A,updatedActivity:N}=(0,s.d4)(v.H9),{singleProject:U}=(0,s.d4)(w.Br),F=null===f||void 0===f?void 0:f.id,P=null===U||void 0===U?void 0:U.id,{role:q}=(0,C.Q)(),[k]=(0,n.useState)(null),[z,E]=(0,n.useState)(!1),R=null===f||void 0===f||null===(e=f.materials)||void 0===e?void 0:e.map((e,t)=>{var i,n,l,o,d,r;return(0,a.A)((0,a.A)({},e),{},{id:"M ".concat(t+1),materialFactorQuantity:null===(i=Number((null===(n=e.UserEstimationLibrary)||void 0===n?void 0:n.materialFactorQuantity)||(null===(l=e.EstimationLibrary)||void 0===l?void 0:l.materialFactorQuantity)))||void 0===i?void 0:i.toLocaleString(),materialTotalAmount:null===(o=Number((null===(d=e.UserEstimationLibrary)||void 0===d?void 0:d.materialTotalAmount)||(null===(r=e.EstimationLibrary)||void 0===r?void 0:r.materialTotalAmount)))||void 0===o?void 0:o.toLocaleString()})}),B=r.A.Add;(0,n.useEffect)(()=>{const e=setTimeout(()=>{g((0,v.iY)())},3e3);return()=>clearTimeout(e)},[g,A,S]),(0,n.useEffect)(()=>{N&&g((0,c.q)(N))},[g,N,y]);const L=[{title:"ID",field:"id",type:"text",editable:"never",align:"left",cellStyle:{fontSize:"12px",fontWeight:"bold",width:"5%"}},{title:"Name",field:"name",type:"text",editable:"onUpdate",align:"left",editComponent:e=>{let{value:t,onChange:i}=e;return(0,j.jsx)(h.A,{onChange:e=>i(e.target.value),value:t,multiline:!0})},headerStyle:{fontSize:"12px"}},{title:"Source",field:"source",type:"text",editable:"onUpdate",align:"left",headerStyle:{fontSize:"12px"}},{title:"Input Quantity",field:"quantity",type:"numeric",editable:"onUpdate",align:"left",headerStyle:{fontSize:"12px"}},{title:"input Unit",field:"unit",type:"text",editable:"onUpdate",align:"left",headerStyle:{fontSize:"12px"}},{title:"output qty",field:"outputQuantity",type:"numeric",editable:"onUpdate",align:"left",headerStyle:{fontSize:"12px"}},{title:"output Unit",field:"outputUnit",type:"text",editable:"onUpdate",align:"left",headerStyle:{fontSize:"12px"}},{title:"Timesing/Adjuster",field:"adjustFactor",type:"numeric",editable:"onUpdate",align:"left",headerStyle:{fontSize:"12px"}},{title:"Required Material",field:"materialFactorQuantity",type:"numeric",editable:"never",align:"left",cellStyle:{fontSize:"12px",width:"5%",fontWeight:"500"},headerStyle:{fontSize:"12px"}},{title:"Unity Price",field:"price",type:"numeric",editable:"onUpdate",align:"left",headerStyle:{fontSize:"12px"}},{title:"Amount",field:"materialTotalAmount",type:"numeric",editable:"never",align:"left",headerStyle:{fontSize:"12px"}}],D=[{id:1,quantity:null===f||void 0===f?void 0:f.estimationQuantity,percentage:"",unit:null===f||void 0===f?void 0:f.estimationUnit,rate:null===(t=Number(null===f||void 0===f?void 0:f.estimationRate))||void 0===t?void 0:t.toLocaleString()},{id:2,quantity:"Wastage",unit:"%",rate:100*(null===f||void 0===f?void 0:f.wastagePercentage),percentageRate:null===(i=Number(null===f||void 0===f?void 0:f.wastageTotal))||void 0===i?void 0:i.toLocaleString()},{id:3,quantity:"Transporting & Handling",unit:"%",rate:100*(null===f||void 0===f?void 0:f.transportPercentage),percentageRate:null===(x=Number(null===f||void 0===f?void 0:f.transportTotal))||void 0===x?void 0:x.toLocaleString()}],I=null===U||void 0===U?void 0:U.addons,Q=(null===I||void 0===I||null===(b=I.filter(e=>"Material"===e.appliedTo))||void 0===b?void 0:b.map(e=>parseFloat(e.amount)).reduce((e,t)=>e+t,0))*parseFloat(null===f||void 0===f?void 0:f.materialRatePerUnit)/100,Y=null===f||void 0===f?void 0:f.materialRatePerUnit,M=parseFloat(Y)+parseFloat(Q);return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{marginBottom:"12px",width:"60%"},children:(0,j.jsx)(d(),{title:null===f||void 0===f?void 0:f.name,columns:[{title:"quantity",field:"quantity",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}},{title:"unit",field:"unit",type:"numeric",editable:"never",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}},{title:"rate",field:"rate",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}},{title:"",field:"percentageRate",type:"text",editable:"never",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}}],data:D,icons:r.A,editable:{onRowUpdate:(e,t)=>new Promise((t,i)=>{let n;1===e.id?n={id:F,projectId:P,newData:{estimationQuantity:e.quantity}}:1===e.id&&e.rate?n={id:F,projectId:P,newData:{estimationQuantity:e.quantity,editedEstimationRate:+e.rate,editName:e.estimationName}}:2===e.id?(console.log(e),n={id:F,projectId:P,newData:{wastagePercentage:null===e||void 0===e?void 0:e.rate}}):n=3===e.id?{id:F,projectId:P,newData:{transportPercentage:null===e||void 0===e?void 0:e.rate}}:{id:F},("manager"===q||"admin"===q||"owner"===q&&P)&&(g((0,c.u_)(n)),setTimeout(()=>{t()},2e3)),"owner"!==q||P||(g((0,c.J0)(n)),setTimeout(()=>{t()},2e3))})},options:{paging:!1,search:!1,actionsColumnIndex:-1,exportButton:!0,headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold"},rowStyle:{width:"500px",backgroundColor:"#fff",fontWeight:"bold"}}})}),(0,j.jsx)("div",{style:{marginBottom:"12px"},children:(0,j.jsx)(d(),{title:"Material Rate",columns:L,data:R,icons:r.A,editable:{onRowUpdate:(e,t)=>new Promise((i,n)=>{e.adjustFactor===t.adjustFactor?(("manager"===q||"admin"===q||"owner"===q&&P)&&(g((0,v.ZE)({id:F,projectId:P,materialName:t.name,materialPrice:e.price?e.price:t.price,editName:null!==e&&void 0!==e&&e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit,caveragePerUnit:e.adjustFactor?e.adjustFactor:t.adjustFactor,outputUnit:e.outputUnit?e.outputUnit:t.outputUnit,outputQuantity:e.outputQuantity?e.outputQuantity:t.outputQuantity,quantity:e.quantity?e.quantity:t.quantity})),setTimeout(()=>{i()},2e3)),"owner"!==q||P||(g((0,v.yS)({id:F,materialName:t.name,caveragePerUnit:e.adjustFactor?e.adjustFactor:t.adjustFactor,materialPrice:e.price?e.price:t.price,editName:null!==e&&void 0!==e&&e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit,outputUnit:e.outputUnit?e.outputUnit:t.outputUnit,outputQuantity:e.outputQuantity?e.outputQuantity:t.outputQuantity,quantity:e.quantity?e.quantity:t.quantity})),setTimeout(()=>{i()},2e3))):(("manager"===q||"admin"===q||"owner"===q&&P)&&(g((0,v.ZE)({id:F,projectId:P,materialName:t.name,caveragePerUnit:e.adjustFactor?e.adjustFactor:t.adjustFactor,materialPrice:e.price?e.price:t.price,editName:null!==e&&void 0!==e&&e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit,outputUnit:e.outputUnit?e.outputUnit:t.outputUnit,outputQuantity:e.outputQuantity?e.outputQuantity:t.outputQuantity,quantity:e.quantity?e.quantity:t.quantity})),setTimeout(()=>{i()},2e3)),"owner"!==q||P||(g((0,v.yS)({id:F,materialName:t.name,caveragePerUnit:e.adjustFactor?e.adjustFactor:t.adjustFactor,materialPrice:e.price?e.price:t.price,editName:null!==e&&void 0!==e&&e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit,outputUnit:e.outputUnit?e.outputUnit:t.outputUnit,outputQuantity:e.outputQuantity?e.outputQuantity:t.outputQuantity,quantity:e.quantity?e.quantity:t.quantity})),setTimeout(()=>{i()},2e3)))}),onRowDelete:e=>new Promise((t,i)=>{("manager"===q||"admin"===q||"owner"===q&&P)&&(g((0,v.Ew)({id:F,projectId:P,materialName:e.name})),setTimeout(()=>{t()},2e3)),"owner"!==q||P||(g((0,v.jC)({id:F,materialName:e.name})),setTimeout(()=>{t()},2e3))})},actions:[{icon:B,tooltip:"Add Material",isFreeAction:!0,onClick:e=>{E(!z)}}],onRowClick:(e,t)=>k(t.tableData.id),options:{addRowPosition:"first",actionsColumnIndex:-1,exportButton:!0,exportAllData:!0,exportFileName:"Site clearing",paging:!1,showFirstLastPageButtons:!1,headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold"},rowStyle:(e,t)=>t%2===0?{backgroundColor:"#eee"}:null},components:{Body:e=>{var t,i;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.MTableBody,(0,a.A)({},e)),(0,j.jsxs)(u.A,{style:{borderTop:"2px solid black"},children:[(0,j.jsxs)(m.A,{children:[(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"21px"},colSpan:3,children:"Material Cost per Work Item"}),(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"44%"},colSpan:4,children:null===(t=Number(null===f||void 0===f?void 0:f.materialCostPerWorkItem))||void 0===t?void 0:t.toLocaleString()})]}),(0,j.jsxs)(m.A,{children:[(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"21px"},colSpan:3,children:"Material Rate per Unit"}),(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"44%"},colSpan:4,children:null===(i=parseFloat(M))||void 0===i?void 0:i.toLocaleString()})]})]})]})}}})}),(0,j.jsxs)(l.zS,{visible:z,onClose:()=>E(!1),children:[(0,j.jsx)(l.E4,{onClose:()=>E(!1),children:(0,j.jsx)(l.lb,{children:"Add a new Material"})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(T,{})})]}),A&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:A}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),S&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:S}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})})]})};var F=i(90222);function P(){const[e,t]=(0,n.useState)({name:null,hireRatePrice:null,number:null}),[i,o]=(0,n.useState)(null),[d,r]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[p,h]=(0,n.useState)(""),[x,v]=(0,n.useState)(""),[N,T]=(0,n.useState)(null),U=(0,s.wA)(),{selectedActivity:P}=(0,s.d4)(c.$z),{singleProject:q}=(0,s.d4)(w.Br),{equipment:k,addLoading:z,addSuccessMessage:E,addErrorMessage:R}=(0,s.d4)(F.GN),{role:B}=(0,C.Q)(),L=null===P||void 0===P?void 0:P.id,D=null===q||void 0===q?void 0:q.id,[I,Q]=(0,n.useState)(!1);(0,n.useEffect)(()=>{U((0,g.Jr)())},[U]);const Y=null===A.M||void 0===A.M?void 0:A.M.map(e=>({value:e,label:e})),{units:M}=(0,s.d4)(y.GV);(0,n.useEffect)(()=>{U((0,y.YU)())},[U]);const W=null===M||void 0===M?void 0:M.map(e=>({value:e.id,label:e.symbol}));return(0,n.useEffect)(()=>(D&&k&&U((0,F.v$)({projectId:D,id:L,equipmentName:k.name})),!D&&k&&U((0,F._9)({id:L,equipmentName:k.name})),()=>{U((0,F.H3)())}),[k,U,L,D,B]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{U((0,F.$9)())},3e3);return()=>clearTimeout(e)},[U,R,E]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{style:{backgroundColor:"#fff",padding:"2rem"},children:[(0,j.jsx)(b.uB,{handleSubmit:t=>{t.preventDefault();const n=t.currentTarget;!1===n.checkValidity()&&(t.preventDefault(),t.stopPropagation()),Q(!0),!0===n.checkValidity()&&U((0,F.tx)({name:e.name,unit:N||null,hireRatePrice:null===e||void 0===e?void 0:e.hireRatePrice,number:null===e||void 0===e?void 0:e.number,currency:i||"RWF"}))},handleChange:i=>{const{name:n,value:l}=i.target;t((0,a.A)((0,a.A)({},e),{},{[n]:l}))},data:e,validated:I,suppliers:Y,handleSupplierChange:e=>{o(e.value)},onCreateOptionSupplier:e=>{h(e),r(!d)},isLoading:z,handleUnitChange:e=>{T(e.label)},onCreateOptionUnit:e=>{v(e),m(!u)},units:W}),(0,j.jsxs)(l.zS,{size:"md",alignment:"top",visible:d,onClose:()=>r(!1),className:"modal-bg-color",children:[(0,j.jsx)(l.E4,{children:(0,j.jsxs)(l.lb,{children:[" ","Create ",(0,j.jsx)("span",{style:{color:"red"},children:p})," as Supplier"]})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(f,{})})]}),(0,j.jsxs)(l.zS,{size:"md",alignment:"top",visible:u,onClose:()=>m(!1),className:"modal-bg-color",children:[(0,j.jsx)(l.E4,{children:(0,j.jsxs)(l.lb,{children:[" ","Create ",(0,j.jsx)("span",{style:{color:"red"},children:x})," as unit"]})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(S.A,{})})]}),E&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:E}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),R&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:R}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})})]})})}function q(){var e;const t=(0,s.wA)(),[i,o]=(0,n.useState)(!1),[d,r]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),[p,h]=(0,n.useState)({id:"",equipmentName:""}),{equipments:v,addLoading:b,addErrorMessage:g,addSuccessMessage:f}=(0,s.d4)(F.GN),{selectedActivity:y}=(0,s.d4)(c.$z),{singleProject:S}=(0,s.d4)(w.Br),A=null===y||void 0===y?void 0:y.id,N=null===S||void 0===S?void 0:S.id,{role:T}=(0,C.Q)();(0,n.useEffect)(()=>{t((0,F.cS)())},[t]);const U=null===v||void 0===v?void 0:v.map(e=>({value:e.name,label:e.name})),q=null===U||void 0===U?void 0:U.map(e=>null===e||void 0===e?void 0:e.label),k=null===U||void 0===U||null===(e=U.map(e=>({label:e.label,value:e.label})))||void 0===e?void 0:e.filter((e,t)=>{if(q.indexOf(e.label)===t)return e});return(0,n.useEffect)(()=>{const e=setTimeout(()=>{t((0,F.$9)())},3e3);return()=>clearTimeout(e)},[t,g,f]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{m("")},3e3);return()=>clearTimeout(e)},[u]),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(x.A,{isClearable:!0,onChange:e=>{const t={id:A,equipmentName:e.value};h(t)},options:k,placeholder:"Add Equipment or Create new Equipment",styles:{option:(e,t)=>(0,a.A)((0,a.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})},onCreateOption:e=>{r(e),o(!i)}}),u&&(0,j.jsx)(l.kj,{color:"danger",className:"mt-2",children:u}),(0,j.jsx)(l.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},onClick:e=>{e.preventDefault(),"manager"!==T&&"admin"!==T||(p.equipmentName&&p.id?t((0,F.v$)({projectId:N,id:A,equipmentName:p.equipmentName})):m("Equipment is required")),"owner"!==T||N||(p.equipmentName&&p.id?t((0,F._9)({id:p.id,equipmentName:p.equipmentName})):m("Equipment is required")),"owner"===T&&N&&(console.log("project id: ",N),p.equipmentName&&p.id?t((0,F.v$)({projectId:N,id:A,equipmentName:p.equipmentName})):m("Equipment is required"))},className:"mt-3",children:b?"adding...":"Add Equipment"})]}),g&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:g}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),f&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:f}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),(0,j.jsxs)(l.zS,{size:"lg",alignment:"center",visible:i,onClose:()=>o(!1),className:"modal-bg-color",style:{backgroundColor:"#01579b",color:"white"},children:[(0,j.jsx)(l.E4,{children:(0,j.jsxs)(l.lb,{children:["Create ",(0,j.jsx)("span",{style:{color:"red"},children:d})," as Equipment"]})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(P,{})})]})]})}const k=()=>{var e,t,i;const x=(0,s.wA)(),{selectedActivity:v}=(0,s.d4)(c.$z),{singleProject:b}=(0,s.d4)(w.Br),{addSuccessMessage:g,addErrorMessage:f,updatedActivity:y}=(0,s.d4)(F.GN),S=null===v||void 0===v?void 0:v.id,A=null===b||void 0===b?void 0:b.id,{role:N}=(0,C.Q)(),[T,U]=(0,n.useState)(!1),P=r.A.Add,k=null===v||void 0===v||null===(e=v.equipments)||void 0===e?void 0:e.map((e,t)=>{var i,n,l,o,d,r;return(0,a.A)((0,a.A)({},e),{},{id:"E ".concat(t+1),equipmentPerformance:null===(i=Number((null===e||void 0===e||null===(n=e.UserEstimationLibrary)||void 0===n?void 0:n.equipmentPerformance)||(null===e||void 0===e||null===(l=e.EstimationLibrary)||void 0===l?void 0:l.equipmentPerformance)))||void 0===i?void 0:i.toLocaleString(),equipmentTotalAmount:null===(o=Number((null===e||void 0===e||null===(d=e.UserEstimationLibrary)||void 0===d?void 0:d.equipmentTotalAmount)||(null===e||void 0===e||null===(r=e.EstimationLibrary)||void 0===r?void 0:r.equipmentTotalAmount)))||void 0===o?void 0:o.toLocaleString(),ratePrice:e.hireRatePrice})});(0,n.useEffect)(()=>{const e=setTimeout(()=>{x((0,F.$9)())},3e3);return()=>clearTimeout(e)},[x,f,g]),(0,n.useEffect)(()=>{y&&x((0,c.q)(y))},[x,y]);const z=[{title:"ID",field:"id",type:"text",editable:"never",align:"left",cellStyle:{fontSize:"12px",fontWeight:"bold",width:"2%"},headerStyle:{fontSize:"12px"}},{title:"Name",field:"name",type:"text",editable:"onUpdate",align:"left",editComponent:e=>{let{value:t,onChange:i}=e;return(0,j.jsx)(h.A,{onChange:e=>i(e.target.value),value:t,multiline:!0})},cellStyle:{fontSize:"12px",width:"55%"},headerStyle:{fontSize:"12px"}},{title:"Capacity",field:"brand",type:"text",editable:"never",align:"left"},{title:"Number",field:"number",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"2%"},headerStyle:{fontSize:"12px"}},{title:"Unit",field:"unit",type:"text",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"5%"},headerStyle:{fontSize:"12px"}},{title:"productivity unit",field:"outputUnit",type:"text",editable:"onUpdate",align:"left"},{title:"productivity quantity",field:"outputQuantity",type:"numeric",editable:"onUpdate",align:"left"},{title:"adjust Factor",field:"adjustFactor",type:"numeric",editable:"onUpdate",align:"left"},{title:"Perfomance",field:"equipmentPerformance",type:"numeric",editable:"never",align:"left",cellStyle:{fontSize:"12px",width:"2%"},headerStyle:{fontSize:"12px"}},{title:"Laseing Rate",field:"ratePrice",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"40%",whiteSpace:"nowrap"},headerStyle:{fontSize:"12px",whiteSpace:"nowrap"}},{title:"Amount",field:"equipmentTotalAmount",type:"numeric",editable:"never",align:"left",cellStyle:{fontSize:"12px",width:"5%"},headerStyle:{fontSize:"12px"}}],E=[{name:null===v||void 0===v?void 0:v.name,quantity:null===v||void 0===v?void 0:v.estimationQuantity,unit:null===v||void 0===v?void 0:v.estimationUnit,rate:null===(t=Number(null===v||void 0===v?void 0:v.estimationRate))||void 0===t?void 0:t.toLocaleString(),estimationName:null===v||void 0===v?void 0:v.name}],R=null===b||void 0===b?void 0:b.addons,B=(null===R||void 0===R||null===(i=R.filter(e=>"Equipment"===e.appliedTo))||void 0===i?void 0:i.map(e=>parseFloat(e.amount)).reduce((e,t)=>e+t,0))*parseFloat(null===v||void 0===v?void 0:v.equipmentRatePerUnit)/100,L=null===v||void 0===v?void 0:v.equipmentRatePerUnit,D=parseFloat(B)+parseFloat(L);return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{marginBottom:"10px",width:"70%"},children:(0,j.jsx)(d(),{title:null===v||void 0===v?void 0:v.name,columns:[{title:"name",field:"estimationName",type:"text",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}},{title:"quantity",field:"quantity",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}},{title:"unit",field:"unit",type:"text",editable:"never",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}},{title:"rate",field:"rate",type:"text",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}}],data:E,icons:r.A,editable:{onRowUpdate:(e,t)=>new Promise((t,i)=>{if("manager"===N||"admin"===N){if(e.rate){const i={id:S,projectId:A,newData:{estimationQuantity:e.quantity,editedEstimationRate:+e.rate,editName:e.estimationName}};return x((0,c.u_)(i)),void setTimeout(()=>{t()},2e3)}const i={id:S,projectId:A,newData:{estimationQuantity:e.quantity,editName:e.estimationName}};x((0,c.u_)(i)),setTimeout(()=>{t()},2e3)}if("owner"===N&&!A){const i={id:S,newData:{estimationQuantity:e.quantity,editName:e.estimationName}};x((0,c.J0)(i)),setTimeout(()=>{t()},2e3)}if("owner"===N&&A){const i={id:S,projectId:A,newData:{estimationQuantity:e.quantity,editName:e.estimationName}};x((0,c.u_)(i)),setTimeout(()=>{t()},2e3)}}),onRowDelete:e=>new Promise((t,i)=>{x((0,w.t5)({projectId:A,estimationName:e.name})),t()})},options:{paging:!1,search:!1,actionsColumnIndex:-1,exportButton:!0,headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold"},rowStyle:{width:"500px",backgroundColor:"#fff",fontWeight:"bold"}}})}),(0,j.jsx)("div",{style:{marginBottom:"10px"},children:(0,j.jsx)(d(),{title:"Equipment Rate",columns:z,data:k,icons:r.A,actions:[{icon:P,tooltip:"Add Equipment",isFreeAction:!0,onClick:e=>{U(!0)}}],editable:{onRowUpdate:(e,t)=>new Promise((i,n)=>{e.equipmentPerformance===t.equipmentPerformance?(("manager"===N||"admin"===N||"owner"===N&&A)&&(x((0,F.t7)({id:S,projectId:A,newData:{equipmentName:t.name,equipmentPrice:e.ratePrice?e.ratePrice:t.ratePrice,number:+e.number?+e.number:t.number,editName:e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit,outputUnit:e.outputUnit?e.outputUnit:t.outputUnit,outputQuantity:e.outputQuantity?e.outputQuantity:t.outputQuantity,adjustFactor:e.adjustFactor?e.adjustFactor:t.adjustFactor}})),setTimeout(()=>{i()},2e3)),"owner"!==N||A||(x((0,F.yw)({id:S,newData:{equipmentName:t.name,equipmentPrice:e.ratePrice?e.ratePrice:t.ratePrice,number:+e.number?+e.number:t.number,editName:e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit,outputUnit:e.outputUnit?e.outputUnit:t.outputUnit,outputQuantity:e.outputQuantity?e.outputQuantity:t.outputQuantity,adjustFactor:e.adjustFactor?e.adjustFactor:t.adjustFactor}})),setTimeout(()=>{i()},2e3))):(("manager"===N||"admin"===N||"owner"===N&&A)&&(x((0,F.t7)({id:S,projectId:A,newData:{caveragePerUnit:e.equipmentPerformance?e.equipmentPerformance:t.equipmentPerformance,equipmentName:e.name,equipmentPrice:e.ratePrice?e.ratePrice:t.ratePrice,number:+e.number?+e.number:t.number,editName:e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit,outputUnit:e.outputUnit?e.outputUnit:t.outputUnit,outputQuantity:e.outputQuantity?e.outputQuantity:t.outputQuantity,adjustFactor:e.adjustFactor?e.adjustFactor:t.adjustFactor}})),setTimeout(()=>{i()},2e3)),"owner"!==N||A||(x((0,F.yw)({id:S,newData:{caveragePerUnit:e.equipmentPerformance?e.equipmentPerformance:t.equipmentPerformance,equipmentName:e.name,equipmentPrice:e.ratePrice?e.ratePrice:t.ratePrice,number:+e.number?+e.number:t.number,editName:e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit,outputUnit:e.outputUnit?e.outputUnit:t.outputUnit,outputQuantity:e.outputQuantity?e.outputQuantity:t.outputQuantity,adjustFactor:e.adjustFactor?e.adjustFactor:t.adjustFactor}})),setTimeout(()=>{i()},2e3)))}),onRowDelete:e=>new Promise((t,i)=>{("manager"===N||"admin"===N||"owner"===N&&A)&&(x((0,F.t5)({id:S,projectId:A,equipmentName:e.name})),setTimeout(()=>{t()},2e3)),"owner"!==N||A||(x((0,F.ay)({id:S,equipmentName:e.name})),setTimeout(()=>{t()},2e3))})},options:{addRowPosition:"first",actionsColumnIndex:-1,exportButton:!0,exportAllData:!0,exportFileName:"Site clearing",paging:!1,paginationType:"stepped",showFirstLastPageButtons:!1,headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold",width:"5%"},rowStyle:(e,t)=>t%2===0?{backgroundColor:"#eee"}:null},components:{Body:e=>{var t,i;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.MTableBody,(0,a.A)({},e)),(0,j.jsxs)(u.A,{style:{borderTop:"2px solid black"},children:[(0,j.jsxs)(m.A,{children:[(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"21px"},colSpan:3,children:"Equipment Cost per Work Item"}),(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"44%"},colSpan:4,children:null===(t=Number(null===v||void 0===v?void 0:v.equipmentCostPerWorkItem))||void 0===t?void 0:t.toLocaleString()})]}),(0,j.jsxs)(m.A,{children:[(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"21px"},colSpan:3,children:"Equipment Rate per Unit"}),(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"44%"},colSpan:4,children:null===(i=parseFloat(D))||void 0===i?void 0:i.toLocaleString()})]})]})]})}}})}),(0,j.jsxs)(l.zS,{style:{backgroundColor:"#01579b",color:"white"},visible:T,onClose:()=>U(!1),children:[(0,j.jsx)(l.E4,{style:{backgroundColor:"#01579b",color:"white"},onClose:()=>U(!1),children:(0,j.jsx)(l.lb,{children:"Add a new Equipment"})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(q,{})})]}),g&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:g}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),f&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:f}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})})]})};var z=i(34270);function E(){const[e,t]=(0,n.useState)({name:null,number:null,wages:null}),[i,o]=(0,n.useState)(!1),[d,r]=(0,n.useState)(""),[u,m]=(0,n.useState)(null),[p,h]=(0,n.useState)(null),x=(0,s.wA)(),{loading:v,addSuccessMessage:g,addErrorMessage:f,labour:N,error:T,message:U}=(0,s.d4)(z.lt),{selectedActivity:F}=(0,s.d4)(c.$z),{singleProject:P}=(0,s.d4)(w.Br),q=null===F||void 0===F?void 0:F.id,k=null===P||void 0===P?void 0:P.id,{role:E}=(0,C.Q)(),[R,B]=(0,n.useState)(!1),{units:L}=(0,s.d4)(y.GV);(0,n.useEffect)(()=>{x((0,y.YU)())},[x]);const D=null===L||void 0===L?void 0:L.map(e=>({value:e.id,label:e.symbol}));(0,n.useEffect)(()=>{const e=setTimeout(()=>{x((0,z.o2)())},5e3);return()=>clearTimeout(e)},[x,g,f,T,U]),(0,n.useEffect)(()=>(k&&N&&x((0,z.cx)({projectId:k,id:q,labourName:N.name})),!k&&N&&x((0,z.HT)({id:q,labourName:N.name})),()=>{x((0,z.Mm)())}),[N,x,q,k,E]);const I=null===A.M||void 0===A.M?void 0:A.M.map(e=>({value:e,label:e}));return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{style:{backgroundColor:"#fff",padding:"2rem"},children:[(0,j.jsx)(b.jZ,{handleSubmit:t=>{t.preventDefault();const i=t.currentTarget;!1===i.checkValidity()&&(t.preventDefault(),t.stopPropagation()),B(!0),!0===i.checkValidity()&&x((0,z.Y2)({name:e.name,number:e.number,unit:u||null,wages:e.wages,currency:p||"RWF"}))},handleChange:i=>{const{name:n,value:l}=i.target;t((0,a.A)((0,a.A)({},e),{},{[n]:l}))},data:e,validated:R,isLoading:v,handleUnitChange:e=>{m(e.label)},onCreateOptionUnit:e=>{r(e),o(!i)},units:D,handleSelectChange:e=>{m(e.label)},suppliers:I,handleSupplierChange:e=>{h(e.value)}}),(0,j.jsxs)(l.zS,{size:"md",alignment:"top",visible:i,onClose:()=>o(!1),className:"modal-bg-color",children:[(0,j.jsx)(l.E4,{children:(0,j.jsxs)(l.lb,{children:[" ","Create ",(0,j.jsx)("span",{style:{color:"red"},children:d})," as unit"]})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(S.A,{})})]}),g&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:g}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),f&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:f}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),U&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:U}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),T&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:T}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})})]})})}function R(){var e;const t=(0,s.wA)(),[i,o]=(0,n.useState)(""),[d,r]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),[p,h]=(0,n.useState)({id:"",labourName:""}),{labours:v,loading:b,addSuccessMessage:g,addErrorMessage:f}=(0,s.d4)(z.lt),{selectedActivity:y}=(0,s.d4)(c.$z),{singleProject:S}=(0,s.d4)(w.Br),A=null===y||void 0===y?void 0:y.id,N=null===S||void 0===S?void 0:S.id,{role:T}=(0,C.Q)();(0,n.useEffect)(()=>{t((0,z.Wj)())},[t]);const U=null===v||void 0===v?void 0:v.map(e=>({value:e.name,label:e.name})),F=null===U||void 0===U?void 0:U.map(e=>null===e||void 0===e?void 0:e.label),P=null===U||void 0===U||null===(e=U.map(e=>({label:e.label,value:e.label})))||void 0===e?void 0:e.filter((e,t)=>{if(F.indexOf(e.label)===t)return e});return(0,n.useEffect)(()=>{const e=setTimeout(()=>{t((0,z.o2)())},3e3);return()=>clearTimeout(e)},[t,g,f]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{m("")},3e3);return()=>clearTimeout(e)},[u]),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(x.A,{isClearable:!0,onChange:e=>{const t={id:A,labourName:e.value};h(t)},options:P,placeholder:"Select to add exisiting Labour to activity",styles:{option:(e,t)=>(0,a.A)((0,a.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})},onCreateOption:e=>{o(e),r(!d)}}),u&&(0,j.jsx)(l.kj,{color:"danger",className:"mt-2",children:u}),(0,j.jsx)(l.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},onClick:e=>{e.preventDefault(),"manager"!==T&&"admin"!==T||(p.labourName&&p.id?t((0,z.cx)({projectId:N,id:A,labourName:p.labourName})):m("Labour is required")),"owner"!==T||N||(p.labourName&&p.id?t((0,z.HT)(p)):m("Labour is required")),"owner"===T&&N&&(p.labourName&&p.id?t((0,z.cx)({projectId:N,id:A,labourName:p.labourName})):m("Labour is required"))},className:"mt-3",children:b?"adding...":"Add Labour"})]}),g&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:g}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),f&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:f}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),(0,j.jsxs)(l.zS,{size:"lg",alignment:"center",visible:d,onClose:()=>r(!1),className:"modal-bg-color",style:{backgroundColor:"#01579b",color:"white"},children:[(0,j.jsx)(l.E4,{children:(0,j.jsxs)(l.lb,{children:["Create ",(0,j.jsx)("span",{style:{color:"red"},children:i})," as Labour"]})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(E,{})})]})]})}const B=()=>{var e,t,i;const x=(0,s.wA)(),{selectedActivity:v}=(0,s.d4)(c.$z),{singleProject:b}=(0,s.d4)(w.Br),g=null===v||void 0===v?void 0:v.id,f=null===b||void 0===b?void 0:b.id,{role:y}=(0,C.Q)(),[S,A]=(0,n.useState)(!1),{message:N,error:T,updatedActivity:U}=(0,s.d4)(z.lt),F=r.A.Add,P=null===v||void 0===v||null===(e=v.labours)||void 0===e?void 0:e.map((e,t)=>{var i,n,l,o,d,r;return(0,a.A)((0,a.A)({},e),{},{id:"L ".concat(t+1),labourFactorQuantity:null===(i=Number((null===e||void 0===e||null===(n=e.UserEstimationLibrary)||void 0===n?void 0:n.labourFactorQuantity)||(null===e||void 0===e||null===(l=e.EstimationLibrary)||void 0===l?void 0:l.labourFactorQuantity)))||void 0===i?void 0:i.toLocaleString(),labourTotalAmount:null===(o=Number((null===e||void 0===e||null===(d=e.UserEstimationLibrary)||void 0===d?void 0:d.labourTotalAmount)||(null===e||void 0===e||null===(r=e.EstimationLibrary)||void 0===r?void 0:r.labourTotalAmount)))||void 0===o?void 0:o.toLocaleString()})}),[q,k]=(0,n.useState)(P);(0,n.useEffect)(()=>{const e=setTimeout(()=>{x((0,z.o2)())},3e3);return()=>clearTimeout(e)},[x,N,T]),(0,n.useEffect)(()=>{U&&x((0,c.q)(U))},[x,U]);const E=[{title:"ID",field:"id",type:"text",editable:"never",align:"left",cellStyle:{fontSize:"12px",fontWeight:"bold",width:"2%"},headerStyle:{fontSize:"12px"}},{title:"Name",field:"name",type:"text",editable:"onUpdate",align:"left",editComponent:e=>{let{value:t,onChange:i}=e;return(0,j.jsx)(h.A,{onChange:e=>i(e.target.value),value:t,multiline:!0})},cellStyle:{fontSize:"12px",width:"55%"},headerStyle:{fontSize:"12px"}},{title:"input Unit",field:"unit",type:"text",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"5%"},headerStyle:{fontSize:"9px"}},{title:"input Number",field:"number",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"2%"},headerStyle:{fontSize:"9px"}},{title:"output Unit",field:"outputUnit",type:"text",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"5%"},headerStyle:{fontSize:"9px"}},{title:"Output quantity",field:"outputQuantity",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"2%"},headerStyle:{fontSize:"12px"}},{title:"Adjust Factor",field:"adjustFactor",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"2%"},headerStyle:{fontSize:"12px"}},{title:"Perfomance",field:"labourFactorQuantity",type:"numeric",editable:"never",align:"left",cellStyle:{fontSize:"12px",width:"2%"},headerStyle:{fontSize:"12px"}},{title:"Wage Rate",field:"wages",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"40%"},headerStyle:{fontSize:"12px",whiteSpace:"nowrap"}},{title:"Amount",field:"labourTotalAmount",type:"numeric",editable:"never",align:"left",cellStyle:{fontSize:"12px",width:"5%"},headerStyle:{fontSize:"12px"}}],B=[{name:null===v||void 0===v?void 0:v.name,quantity:null===v||void 0===v?void 0:v.estimationQuantity,unit:null===v||void 0===v?void 0:v.estimationUnit,rate:null===(t=Number(null===v||void 0===v?void 0:v.estimationRate))||void 0===t?void 0:t.toLocaleString()}],L=null===b||void 0===b?void 0:b.addons,D=(null===L||void 0===L||null===(i=L.filter(e=>"Labour"===e.appliedTo))||void 0===i?void 0:i.map(e=>parseFloat(e.amount)).reduce((e,t)=>e+t,0))*parseFloat(null===v||void 0===v?void 0:v.labourRatePerUnit)/100,I=null===v||void 0===v?void 0:v.labourRatePerUnit,Q=parseFloat(I)+parseFloat(D);return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{marginBottom:"10px",width:"60%"},children:(0,j.jsx)(d(),{title:null===v||void 0===v?void 0:v.name,columns:[{title:"quantity",field:"quantity",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}},{title:"unit",field:"unit",type:"text",editable:"never",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}},{title:"rate",field:"rate",type:"text",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}}],data:B,icons:r.A,editable:{onRowUpdate:(e,t)=>new Promise((t,i)=>{if("manager"===y||"admin"===y){if(e.rate){const i={id:g,projectId:f,newData:{estimationQuantity:e.quantity,editedEstimationRate:+e.rate,editName:e.estimationName}};return x((0,c.u_)(i)),void setTimeout(()=>{t()},2e3)}const i={id:g,projectId:f,newData:{estimationQuantity:e.quantity}};x((0,c.u_)(i)),setTimeout(()=>{t()},2e3)}if("owner"===y&&!f){const i={id:g,newData:{estimationQuantity:e.quantity}};x((0,c.J0)(i)),setTimeout(()=>{t()},2e3)}if("owner"===y&&f){const i={id:g,projectId:f,newData:{estimationQuantity:e.quantity}};x((0,c.u_)(i)),setTimeout(()=>{t()},2e3)}}),onRowDelete:e=>new Promise((t,i)=>{setTimeout(()=>{const i=[...q],n=e.tableData.id;i.splice(n,1),k([...i]),t()},1e3)})},options:{paging:!1,search:!1,actionsColumnIndex:-1,exportButton:!0,headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold"},rowStyle:{width:"500px",backgroundColor:"#fff",fontWeight:"bold"}}})}),(0,j.jsx)("div",{style:{marginBottom:"10px"},children:(0,j.jsx)(d(),{title:"Labour Rate",columns:E,data:P,icons:r.A,actions:[{icon:F,tooltip:"Add Labour",isFreeAction:!0,onClick:e=>{A(!S)}}],editable:{onRowUpdate:(e,t)=>new Promise((i,n)=>{e.adjustFactor,t.adjustFactor,("manager"===y||"admin"===y||"owner"===y&&f)&&(x((0,z.sb)({id:g,projectId:f,labourName:t.name,wages:e.wages?e.wages:t.wages,number:e.number?e.number:t.number,editName:null!==e&&void 0!==e&&e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit,outputUnit:null!==e&&void 0!==e&&e.outputUnit?e.outputUnit:null===e||void 0===e?void 0:e.outputUnit,outputQuantity:null!==e&&void 0!==e&&e.outputQuantity?e.outputQuantity:null===e||void 0===e?void 0:e.outputQuantity,adjustFactor:null!==e&&void 0!==e&&e.adjustFactor?e.adjustFactor:null===e||void 0===e?void 0:e.adjustFactor})),setTimeout(()=>{i()},2e3)),"owner"!==y||f||(x((0,z.Mh)({id:g,labourName:t.name,wages:e.wages?e.wages:t.wages,number:e.number?e.number:t.number,editName:null!==e&&void 0!==e&&e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit,outputUnit:null!==e&&void 0!==e&&e.outputUnit?e.outputUnit:null===e||void 0===e?void 0:e.outputUnit,outputQuantity:null!==e&&void 0!==e&&e.outputQuantity?e.outputQuantity:null===e||void 0===e?void 0:e.outputQuantity,adjustFactor:null!==e&&void 0!==e&&e.adjustFactor?e.adjustFactor:null===e||void 0===e?void 0:e.adjustFactor})),setTimeout(()=>{i()},2e3))}),onRowDelete:e=>new Promise((t,i)=>{("manager"===y||"admin"===y||"owner"===y&&f)&&(x((0,z.um)({id:g,projectId:f,labourName:e.name})),setTimeout(()=>{t()},2e3)),"owner"!==y||f||(x((0,z.Wc)({id:g,labourName:e.name})),setTimeout(()=>{t()},2e3))})},options:{addRowPosition:"first",actionsColumnIndex:-1,exportButton:!0,exportAllData:!0,exportFileName:"Site clearing",paging:!1,paginationType:"stepped",showFirstLastPageButtons:!1,headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold",width:"5%"},rowStyle:(e,t)=>t%2===0?{backgroundColor:"#eee"}:null},components:{Body:e=>{var t,i;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.MTableBody,(0,a.A)({},e)),(0,j.jsxs)(u.A,{style:{borderTop:"2px solid black"},children:[(0,j.jsxs)(m.A,{children:[(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"21px"},colSpan:3,children:"Labour Cost per Work Item"}),(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"43%"},colSpan:4,children:null===(t=Number(null===v||void 0===v?void 0:v.labourCostperWorkItem))||void 0===t?void 0:t.toLocaleString()})]}),(0,j.jsxs)(m.A,{children:[(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"21px"},colSpan:3,children:"Labour Rate per Unit"}),(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"43%"},colSpan:4,children:null===(i=parseFloat(Q))||void 0===i?void 0:i.toLocaleString()})]})]})]})}}})}),(0,j.jsxs)(l.zS,{style:{backgroundColor:"#01579b",color:"white"},visible:S,onClose:()=>A(!1),children:[(0,j.jsx)(l.E4,{style:{backgroundColor:"#01579b",color:"white"},onClose:()=>A(!1),children:(0,j.jsx)(l.lb,{children:"Add a new Labour"})}),(0,j.jsxs)(l.Tc,{children:[" ",(0,j.jsx)(R,{})," "]})]}),N&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:N}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),T&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:T}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})})]})};var L=i(67066);function D(){const[e,t]=(0,n.useState)({name:null,price:null}),[i,o]=(0,n.useState)(!1),[d,r]=(0,n.useState)(""),[u,m]=(0,n.useState)(null),[p,h]=(0,n.useState)(null),x=(0,s.wA)(),{loading:v,message:g,error:f,addSuccessMessage:N,addErrorMessage:T,subcontractor:U}=(0,s.d4)(L.Tu),[F,P]=(0,n.useState)(!1),{units:q}=(0,s.d4)(y.GV),{selectedActivity:k}=(0,s.d4)(c.$z),{singleProject:z}=(0,s.d4)(w.Br),E=null===k||void 0===k?void 0:k.id,R=null===z||void 0===z?void 0:z.id,{role:B}=(0,C.Q)();(0,n.useEffect)(()=>{x((0,y.YU)())},[x]);const D=null===q||void 0===q?void 0:q.map(e=>({value:e.id,label:e.symbol}));(0,n.useEffect)(()=>{const e=setTimeout(()=>{x((0,L.DA)())},3e3);return()=>clearTimeout(e)},[x,g,f]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{x((0,L.DA)())},5e3);return()=>clearTimeout(e)},[x,N,T,f,g]),(0,n.useEffect)(()=>(R&&U&&x((0,L.bb)({projectId:R,id:E,subcontractorName:U.name})),!R&&U&&x((0,L.pJ)({id:E,subcontractorName:U.name})),()=>{x((0,L.Uz)())}),[U,x,E,R,B]);const I=null===A.M||void 0===A.M?void 0:A.M.map(e=>({value:e,label:e}));return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{style:{backgroundColor:"#fff",padding:"2rem"},children:[(0,j.jsx)(b.pp,{handleSubmit:t=>{t.preventDefault();const i=t.currentTarget;!1===i.checkValidity()&&(t.preventDefault(),t.stopPropagation()),P(!0),!0===i.checkValidity()&&x((0,L.SJ)({name:e.name,unit:u||null,price:e.price,currency:p||"RWF"}))},handleChange:i=>{const{name:n,value:l}=i.target;t((0,a.A)((0,a.A)({},e),{},{[n]:l}))},data:e,validated:F,isLoading:v,handleUnitChange:e=>{m(e.label)},onCreateOptionUnit:e=>{r(e),o(!i)},onInputUnitSelect:e=>{m(e.label)},units:D,suppliers:I,handleSupplierChange:e=>{h(e.value)}}),(0,j.jsxs)(l.zS,{size:"md",alignment:"top",visible:i,onClose:()=>o(!1),className:"modal-bg-color",children:[(0,j.jsx)(l.E4,{children:(0,j.jsxs)(l.lb,{children:[" ","Create ",(0,j.jsx)("span",{style:{color:"red"},children:d})," as unit"]})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(S.A,{})})]}),g&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:g}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),f&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:f}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})})]})})}function I(){var e;const t=(0,s.wA)(),[i,o]=(0,n.useState)(""),[d,r]=(0,n.useState)({id:"",subcontractorName:""}),[u,m]=(0,n.useState)(!1),{subcontractors:p,loading:h,addErrorMessage:v,addSuccessMessage:b}=(0,s.d4)(L.Tu),{selectedActivity:g}=(0,s.d4)(c.$z),{singleProject:f}=(0,s.d4)(w.Br),y=null===g||void 0===g?void 0:g.id,S=null===f||void 0===f?void 0:f.id,{role:A}=(0,C.Q)(),[N,T]=(0,n.useState)(""),U=null===p||void 0===p?void 0:p.map(e=>({value:e.name,label:e.name})),F=null===U||void 0===U?void 0:U.map(e=>null===e||void 0===e?void 0:e.label),P=null===U||void 0===U||null===(e=U.map(e=>({label:e.label,value:e.label})))||void 0===e?void 0:e.filter((e,t)=>{if(F.indexOf(e.label)===t)return e});return(0,n.useEffect)(()=>t((0,L.IN)()),[t]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{o("")},3e3);return()=>clearTimeout(e)},[i]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{t((0,L.DA)())},3e3);return()=>clearTimeout(e)},[t,b,v]),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(x.A,{isClearable:!0,onChange:e=>{const t={id:y,subcontractorName:e.value};r(t)},options:P,placeholder:"Select to add exisiting SubContractor to activity",styles:{option:(e,t)=>(0,a.A)((0,a.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})},onCreateOption:e=>{T(e),m(!u)}}),i&&(0,j.jsx)(l.kj,{color:"danger",className:"mt-2",children:i}),(0,j.jsx)(l.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},onClick:e=>{e.preventDefault(),"manager"!==A&&"admin"!==A||(d.subcontractorName&&d.id?t((0,L.bb)({projectId:S,id:y,subcontractorName:d.subcontractorName})):o("Sub Contractor is required")),"owner"!==A||S||(d.subcontractorName&&d.id?t((0,L.pJ)(d)):o("Sub Contractor is required")),"owner"===A&&S&&(d.subcontractorName&&d.id?t((0,L.bb)({projectId:S,id:y,subcontractorName:d.subcontractorName})):o("Sub Contractor is required"))},className:"mt-3",children:h?"adding...":"Add Sub Contractor"})]}),b&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:b}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),v&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:v}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),(0,j.jsxs)(l.zS,{size:"lg",alignment:"center",visible:u,onClose:()=>m(!1),className:"modal-bg-color",style:{backgroundColor:"#01579b",color:"white"},children:[(0,j.jsx)(l.E4,{children:(0,j.jsxs)(l.lb,{children:["Create ",(0,j.jsx)("span",{style:{color:"red"},children:N})," as Sub contractor"]})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(D,{})})]})]})}const Q=()=>{var e,t;const i=(0,s.wA)(),{selectedActivity:x}=(0,s.d4)(c.$z),{error:v,message:b,updatedActivity:g}=(0,s.d4)(L.Tu),{singleProject:f}=(0,s.d4)(w.Br),y=null===x||void 0===x?void 0:x.id,S=null===f||void 0===f?void 0:f.id,{role:A}=(0,C.Q)(),[N,T]=(0,n.useState)(!1),U=r.A.Add,F=null===x||void 0===x||null===(e=x.subContractors)||void 0===e?void 0:e.map((e,t)=>{var i,n,l;return(0,a.A)((0,a.A)({},e),{},{id:"S ".concat(t+1),amount:null===(i=Number((null===e||void 0===e||null===(n=e.UserEstimationLibrary)||void 0===n?void 0:n.subContractorTotalAmount)||(null===e||void 0===e||null===(l=e.EstimationLibrary)||void 0===l?void 0:l.subContractorTotalAmount)))||void 0===i?void 0:i.toLocaleString()})});(0,n.useEffect)(()=>{const e=setTimeout(()=>{i((0,L.DA)())},3e3);return()=>clearTimeout(e)},[i,b,v]),(0,n.useEffect)(()=>{g&&i((0,c.q)(g))},[i,g]);const[P,q]=(0,n.useState)(F),k=[{title:"ID",field:"id",type:"text",editable:"never",align:"left",cellStyle:{fontSize:"12px",fontWeight:"bold",width:"2%"},headerStyle:{fontSize:"12px"}},{title:"Name",field:"name",type:"text",editable:"onUpdate",align:"left",editComponent:e=>{let{value:t,onChange:i}=e;return(0,j.jsx)(h.A,{onChange:e=>i(e.target.value),value:t,multiline:!0})},cellStyle:{fontSize:"12px",width:"55%"},headerStyle:{fontSize:"12px"}},{title:"Unit",field:"unit",type:"text",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"5%"},headerStyle:{fontSize:"12px"}},{title:"Quantity",field:"quantity",type:"numeric",editable:"never",align:"left",cellStyle:{fontSize:"12px",width:"2%"},headerStyle:{fontSize:"12px"}},{title:"Rate",field:"price",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"40%"},headerStyle:{fontSize:"12px"}},{title:"Amount",field:"amount",type:"numeric",editable:"never",align:"left",cellStyle:{fontSize:"12px",width:"5%"},headerStyle:{fontSize:"12px"}}],z=[{name:null===x||void 0===x?void 0:x.name,quantity:null===x||void 0===x?void 0:x.estimationQuantity,unit:null===x||void 0===x?void 0:x.estimationUnit,rate:null===(t=Number(null===x||void 0===x?void 0:x.estimationRate))||void 0===t?void 0:t.toLocaleString()}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{marginBottom:"10px",width:"60%"},children:(0,j.jsx)(d(),{title:null===x||void 0===x?void 0:x.name,columns:[{title:"quantity",field:"quantity",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}},{title:"unit",field:"unit",type:"text",editable:"never",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}},{title:"rate",field:"rate",type:"text",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}}],data:z,icons:r.A,editable:{onRowUpdate:(e,t)=>new Promise((t,n)=>{if("manager"===A||"admin"===A||"owner"===A&&S){if(e.rate){const n={id:y,projectId:S,newData:{estimationQuantity:e.quantity,editedEstimationRate:+e.rate,editName:e.estimationName}};return i((0,c.u_)(n)),void setTimeout(()=>{t()},2e3)}const n={id:y,projectId:S,newData:{estimationQuantity:e.quantity}};i((0,c.u_)(n)),setTimeout(()=>{t()},2e3)}if("owner"===A&&!S){const n={id:y,newData:{estimationQuantity:e.quantity}};i((0,c.J0)(n)),setTimeout(()=>{t()},2e3)}}),onRowDelete:e=>new Promise((t,i)=>{setTimeout(()=>{const i=[...P],n=e.tableData.id;i.splice(n,1),q([...i]),t()},1e3)})},options:{paging:!1,search:!1,actionsColumnIndex:-1,exportButton:!0,headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold"},rowStyle:{width:"500px",backgroundColor:"#fff",fontWeight:"bold"}}})}),(0,j.jsx)("div",{style:{marginBottom:"10px"},children:(0,j.jsx)(d(),{title:"SubContractor Rate",columns:k,data:F,icons:r.A,actions:[{icon:U,tooltip:"Add SubContractor",isFreeAction:!0,onClick:e=>{T(!N)}}],editable:{onRowUpdate:(e,t)=>new Promise((n,l)=>{e.quantity,t.quantity,("manager"===A||"admin"===A||"owner"===A&&S)&&(i((0,L.Kf)({id:y,projectId:S,subcontractorName:t.name,price:e.price?e.price:t.price,editName:null!==e&&void 0!==e&&e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit})),setTimeout(()=>{n()},2e3)),"owner"!==A||S||(i((0,L.iy)({id:y,subcontractorName:t.name,price:e.price?e.price:t.price,editName:null!==e&&void 0!==e&&e.name?e.name:t.name,editUnit:e.unit?e.unit:t.unit})),setTimeout(()=>{n()},2e3))}),onRowDelete:e=>new Promise((t,n)=>{("manager"===A||"admin"===A||"owner"===A&&S)&&(i((0,L.sM)({id:y,projectId:S,subcontractorName:e.name})),setTimeout(()=>{t()},2e3)),"owner"!==A||S||(i((0,L.IR)({id:y,subcontractorName:e.name})),setTimeout(()=>{t()},2e3))})},options:{addRowPosition:"first",actionsColumnIndex:-1,exportButton:!0,exportAllData:!0,exportFileName:"Site clearing",paging:!1,paginationType:"stepped",showFirstLastPageButtons:!1,headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold",width:"5%"},rowStyle:(e,t)=>t%2===0?{backgroundColor:"#eee"}:null},components:{Body:e=>{var t;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.MTableBody,(0,a.A)({},e)),(0,j.jsx)(u.A,{style:{borderTop:"2px solid black"},children:(0,j.jsxs)(m.A,{children:[(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"21px"},colSpan:3,children:"SubContractor Cost per Work Item"}),(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"34%"},colSpan:4,children:null===(t=Number(null===x||void 0===x?void 0:x.subcontractorCostPerWorkItem))||void 0===t?void 0:t.toLocaleString()})]})})]})}}})}),(0,j.jsxs)(l.zS,{style:{backgroundColor:"#01579b",color:"white"},visible:N,onClose:()=>T(!1),children:[(0,j.jsx)(l.E4,{style:{backgroundColor:"#01579b",color:"white"},onClose:()=>T(!1),children:(0,j.jsx)(l.lb,{children:"Add a new SubContractor"})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(I,{})})]}),b&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:b}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),v&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:v}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})})]})},Y=()=>{var e,t,i,h;const x=(0,s.wA)(),{updatedActivity:v,selectedActivity:b,message:g,error:f}=(0,s.d4)(c.$z),{singleProject:y}=(0,s.d4)(w.Br),S=null===b||void 0===b?void 0:b.id,C=null===y||void 0===y?void 0:y.id;(0,n.useEffect)(()=>{const e=setTimeout(()=>{x((0,c.kd)())},3e3);return()=>clearTimeout(e)},[x,g,f]),(0,n.useEffect)(()=>{v&&x((0,c.q)(v))},[x,v]),console.log("selectedActivity: ",b);const A=[{id:1,description:"Overhead",overHeadPercentage:100*(null===b||void 0===b?void 0:b.overHeadPercentage),overHeadAmount:null===(e=Number(null===b||void 0===b?void 0:b.overHeadTotal))||void 0===e?void 0:e.toLocaleString(),symbol:"%"},{id:2,description:"Profit",overHeadPercentage:100*(null===b||void 0===b?void 0:b.profitPercentage),overHeadAmount:null===(t=Number(null===b||void 0===b?void 0:b.profitTotal))||void 0===t?void 0:t.toLocaleString(),symbol:"%"},{id:3,description:"Contigency",overHeadPercentage:100*(null===b||void 0===b?void 0:b.contigencyPercentage),overHeadAmount:null===(i=Number(null===b||void 0===b?void 0:b.contigencyTotal))||void 0===i?void 0:i.toLocaleString(),symbol:"%"}],N=[{name:null===b||void 0===b?void 0:b.name,quantity:+(null===b||void 0===b?void 0:b.estimationQuantity),unit:null===b||void 0===b?void 0:b.estimationUnit,rate:null===(h=Number(null===b||void 0===b?void 0:b.estimationRate))||void 0===h?void 0:h.toLocaleString()}];return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{marginBottom:"10px",width:"60%"},children:(0,j.jsx)(d(),{title:null===b||void 0===b?void 0:b.name,columns:[{title:"quantity",field:"quantity",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px"}},{title:"unit",field:"unit",type:"text",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}},{title:"rate",field:"rate",type:"text",editable:"never",align:"left",cellStyle:{fontSize:"12px",paddingTop:"-100px"},headerStyle:{fontSize:"12px",paddingTop:"-100px"}}],data:N,icons:r.A,editable:{onRowUpdate:(e,t)=>new Promise((t,i)=>{if(C){const i={id:S,projectId:C,newData:{estimationQuantity:+e.quantity}};x((0,c.u_)(i)),setTimeout(()=>{t()},2e3)}if(!C){const i={id:S,newData:{estimationQuantity:+e.quantity}};x((0,c.J0)(i)),setTimeout(()=>{t()},2e3)}})},options:{paging:!1,search:!1,actionsColumnIndex:-1,exportButton:!0,headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold"},rowStyle:{width:"500px",backgroundColor:"#fff",fontWeight:"bold"}}})}),(0,j.jsx)("div",{style:{marginBottom:"10px"},children:(0,j.jsx)(d(),{title:"Overhead and Profite",columns:[{title:"ID",field:"id",type:"text",editable:"never",align:"left",cellStyle:{fontSize:"12px",fontWeight:"bold",width:"2%"},headerStyle:{fontSize:"12px"}},{title:"Description",field:"description",type:"text",editable:"never",align:"left",cellStyle:{fontSize:"12px",width:"55%"},headerStyle:{fontSize:"12px"}},{title:"unit",field:"symbol",type:"numeric",editable:"never",align:"left"},{title:"Percentage",field:"overHeadPercentage",type:"numeric",editable:"onUpdate",align:"left",cellStyle:{fontSize:"12px",width:"40%"},headerStyle:{fontSize:"12px"}},{title:"Amount",field:"overHeadAmount",type:"numeric",editable:"never",align:"left",cellStyle:{fontSize:"12px",width:"5%"},headerStyle:{fontSize:"12px"}}],data:A,icons:r.A,editable:{onRowUpdate:(e,t)=>new Promise((t,i)=>{let n;n=1===e.id?{id:S,projectId:C,newData:{overHeadPercentage:+(null===e||void 0===e?void 0:e.overHeadPercentage)}}:2===e.id?{id:S,projectId:C,newData:{profitPercentage:+(null===e||void 0===e?void 0:e.overHeadPercentage)}}:3===e.id?{id:S,projectId:C,newData:{contigencyPercentage:+(null===e||void 0===e?void 0:e.overHeadPercentage)}}:{id:S},C&&(x((0,c.u_)(n)),setTimeout(()=>{t()},2e3)),C||(x((0,c.J0)(n)),setTimeout(()=>{t()},2e3))})},options:{addRowPosition:"first",actionsColumnIndex:-1,exportButton:!0,exportAllData:!0,exportFileName:"Site clearing",paging:!1,paginationType:"stepped",showFirstLastPageButtons:!1,headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold",width:"5%"},rowStyle:(e,t)=>t%2===0?{backgroundColor:"#eee"}:null},components:{Body:e=>{var t,i;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.MTableBody,(0,a.A)({},e)),(0,j.jsxs)(u.A,{style:{borderTop:"2px solid black"},children:[(0,j.jsxs)(m.A,{children:[(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"21px"},colSpan:3,children:"Indirect Cost per Work Item"}),(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"31%"},colSpan:4,children:null===(t=Number(null===b||void 0===b?void 0:b.indirectCostPerWorkItem))||void 0===t?void 0:t.toLocaleString()})]}),(0,j.jsxs)(m.A,{children:[(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"21px"},colSpan:3,children:"Indirect cost per Unit"}),(0,j.jsx)(p.A,{style:{fontWeight:"bold",fontSize:"12px",color:"black",paddingLeft:"31%"},colSpan:4,children:null===(i=Number(null===b||void 0===b?void 0:b.indirectRatePerUnit))||void 0===i?void 0:i.toLocaleString()})]})]})]})}}})}),g&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:g}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),f&&(0,j.jsx)(l.Yq,{placement:"top-end",children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:f}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})})]})};var M=i(16484);function W(){const[e,t]=(0,n.useState)(""),{projects:i,singleProject:o,error:d,message:r}=(0,s.d4)(w.Br),{allProjectCategory:u,singleProjectCategory:m,error:p}=(0,s.d4)(M.k5),[h,v]=(0,n.useState)({}),[b,g]=(0,n.useState)({}),[f,y]=(0,n.useState)({}),S=(0,s.wA)(),{duplicateSuccess:C,duplicatError:A,selectedActivity:N,isLoading:T}=(0,s.d4)(c.$z),U=null===m||void 0===m?void 0:m.map(e=>({value:e.id,label:e.name})),F=null===h||void 0===h?void 0:h.id,P=null===b||void 0===b?void 0:b.id;(0,n.useEffect)(()=>{S((0,w.bS)(F))},[S,F]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{S((0,c.kd)())},3e3);return()=>clearTimeout(e)},[S,A,C]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{S((0,w.uY)())},3e3);return()=>clearTimeout(e)},[S,e,r]);const q=null===i||void 0===i?void 0:i.map(e=>({value:e.id,label:e.name})),k=null===u||void 0===u?void 0:u.filter((e,t,i)=>t===i.findIndex(t=>t.projectId===e.projectId&&t.name===e.name)),z=null===k||void 0===k?void 0:k.map(e=>({value:e.id,label:e.name}));return(0,n.useEffect)(()=>{F&&S((0,M.NT)(F))},[S,F]),(0,n.useEffect)(()=>{F&&P&&S((0,M.MX)({projectId:F,id:P}))},[S,F,P]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{t("")},4e3);return()=>clearTimeout(e)},[e]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{S((0,M.Qk)())},3e3);return()=>clearTimeout(e)},[S,p]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{style:{backgroundColor:"#fff",padding:"2rem"},children:[(null===i||void 0===i?void 0:i.length)>0&&(0,j.jsxs)(l.qI,{className:"row g-3 needs-validation",noValidate:!0,onSubmit:e=>{if(e.preventDefault(),!f)return t("Please select an activity");S((0,c.YT)({sourceProjectId:F,sourceEstimationId:f,projectId:null===o||void 0===o?void 0:o.id,destinationEstimationId:null===N||void 0===N?void 0:N.id}))},children:[(0,j.jsxs)(l.UF,{md:12,children:[(0,j.jsxs)("div",{style:{marginBottom:"20px",fontSize:"0.75rem",fontWeight:"bold"},children:[(0,j.jsx)(l.A6,{htmlFor:"validationCustom05",style:{color:"black",fontSize:"0.9rem"},children:"from Project"}),(0,j.jsx)(x.A,{isClearable:!0,onChange:(e,t)=>{const i={id:e.value,labelName:e.label};v(i)},options:q,placeholder:h?null===h||void 0===h?void 0:h.labelName:"Select a source Project",styles:{option:(e,t)=>(0,a.A)((0,a.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})}})]}),(0,j.jsxs)("div",{style:{marginBottom:"20px",fontSize:"0.75rem",fontWeight:"bold"},children:[(0,j.jsx)(l.A6,{htmlFor:"validationCustom05",style:{color:"black",fontSize:"0.9rem"},children:"from category"}),(0,j.jsx)(x.A,{isClearable:!0,onChange:(e,t)=>{const i={id:e.value,labelName:e.label};g(i)},options:z,placeholder:b?null===b||void 0===b?void 0:b.labelName:"Select a source category",styles:{option:(e,t)=>(0,a.A)((0,a.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black"})}})]}),(0,j.jsxs)("div",{style:{fontSize:"0.75rem",fontWeight:"bold"},children:[(0,j.jsx)(l.A6,{htmlFor:"validationCustom05",style:{color:"black",fontSize:"0.9rem"},children:"Select Activity"}),(0,j.jsx)(x.A,{isClearable:!0,placeholder:"Search activities",onChange:e=>{y(e.value)},options:U,styles:{option:(e,t)=>(0,a.A)((0,a.A)({},e),{},{borderBottom:"1px dotted #01579b",color:t.isSelected?"white":"black",textTransform:"lowercase"})}}),(0,j.jsx)(l.To,{invalid:!0,children:"Please provide Activity"})]}),(0,j.jsxs)("div",{style:{marginBottom:"20px",fontSize:"0.75rem",fontWeight:"bold"},children:[(0,j.jsx)(l.A6,{htmlFor:"validationCustom05",style:{color:"black",fontSize:"0.9rem"},children:"To Project"}),(0,j.jsx)(l.OG,{type:"text","aria-label":"name",id:"validationCustom401",placeholder:"destination project",name:"name",value:null===o||void 0===o?void 0:o.name,readOnly:!0})]}),(0,j.jsxs)("div",{style:{marginBottom:"20px",fontSize:"0.75rem",fontWeight:"bold"},children:[(0,j.jsx)(l.A6,{htmlFor:"validationCustom05",style:{color:"black",fontSize:"0.9rem"},children:"To estimation"}),(0,j.jsx)(l.OG,{type:"text","aria-label":"name",id:"validationCustom401",placeholder:"destination activity",name:"name",value:null===N||void 0===N?void 0:N.name,readOnly:!0})]})]}),(0,j.jsx)(l.UF,{xs:12,children:(0,j.jsx)(l.Q_,{style:{backgroundColor:"#01579b",color:"#fff",fontWeight:500,fontSize:"12px"},color:T?"secondary":"primary",type:"submit",disabled:T,children:T?"Mapping...":"Map"})})]}),r&&(0,j.jsx)(l.Yq,{children:(0,j.jsx)(l.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:r}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),d&&(0,j.jsx)(l.Yq,{children:(0,j.jsx)(l.JY,{visible:!0,color:"danger",header:"Error",icon:"cil-ban",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:d}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})}),e&&(0,j.jsx)(l.Yq,{children:(0,j.jsx)(l.JY,{visible:!0,color:"danger",header:"Error",icon:"cil-ban",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(l.Bw,{children:e}),(0,j.jsx)(l.vo,{className:"me-2 m-auto"})]})})})]})})}const O=()=>{const[e,t]=(0,n.useState)(1),[i,a]=(0,n.useState)(!1),o=()=>{a(!1)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(l.zS,{visible:i,onClose:o,children:[(0,j.jsx)(l.E4,{onClose:o,children:(0,j.jsx)(l.lb,{children:"Map resources"})}),(0,j.jsx)(l.Tc,{children:(0,j.jsx)(W,{})})]}),(0,j.jsxs)(l.by,{style:{marginBottom:"20px",backgroundColor:"white",fontWeight:"bold",cursor:"pointer",width:"fit-content"},variant:"pills",role:"tablist",children:[(0,j.jsx)(l.g9,{children:(0,j.jsx)(l.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:1===e?"rgb(1, 87, 155)":"",color:1===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:1===e,onClick:()=>t(1),children:"EQUIPMENT"})}),(0,j.jsx)(l.g9,{children:(0,j.jsx)(l.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:2===e?"rgb(1, 87, 155)":"",color:2===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:2===e,onClick:()=>t(2),children:"MATERIAL"})}),(0,j.jsx)(l.g9,{children:(0,j.jsx)(l.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:3===e?"rgb(1, 87, 155)":"",color:3===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:3===e,onClick:()=>t(3),children:"LABOUR"})}),(0,j.jsx)(l.g9,{children:(0,j.jsx)(l.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:4===e?"rgb(1, 87, 155)":"",color:4===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:4===e,onClick:()=>t(4),children:"SUBCONTRACTOR"})}),(0,j.jsx)(l.g9,{children:(0,j.jsx)(l.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:5===e?"rgb(1, 87, 155)":"",color:5===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:5===e,onClick:()=>t(5),children:"OVERHEAD AND PROFIT"})}),(0,j.jsx)(l.g9,{children:(0,j.jsx)(l.HQ,{onClick:()=>a(!0),style:{backgroundColor:"#000",color:"#fff",fontSize:"12px"},children:"Map Item"})})]}),(0,j.jsxs)(l.eL,{children:[(0,j.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"home-tab",visible:1===e,children:(0,j.jsx)(k,{})}),(0,j.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"profile-tab",visible:2===e,children:(0,j.jsx)(U,{})}),(0,j.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"contact-tab",visible:3===e,children:(0,j.jsx)(B,{})}),(0,j.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"contact-tab",visible:4===e,children:(0,j.jsx)(Q,{})}),(0,j.jsx)(l.x1,{role:"tabpanel","aria-labelledby":"contact-tab",visible:5===e,children:(0,j.jsx)(Y,{})})]})]})}},97705:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(89379),l=i(9950),a=i(73878),o=i(49911),d=i(41711),r=i(36770),s=i(44414);const c=()=>{const[e,t]=(0,l.useState)(!1),[i,c]=(0,l.useState)({symbol:"",meaning:""}),u=(0,a.wA)(),{unitsError:m,unitsSuccess:p,unitsLoading:h}=(0,a.d4)(r.GV);return(0,l.useEffect)(()=>{const e=setTimeout(()=>{u((0,r.PF)())},5e3);return()=>clearTimeout(e)},[u]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.vR,{handleChange:e=>{const{name:t,value:l}=e.target;c((0,n.A)((0,n.A)({},i),{},{[t]:l}))},handleSubmit:e=>{const n=e.currentTarget;e.preventDefault(),!1===n.checkValidity()&&(e.preventDefault(),e.stopPropagation()),console.log(i),!0===n.checkValidity()&&(u((0,r._W)({symbol:i.symbol,meaning:i.meaning})),t(!0))},data:i,validated:e,isLoading:h}),p&&(0,s.jsx)(o.Yq,{children:(0,s.jsx)(o.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,s.jsxs)("div",{className:"d-flex",children:[(0,s.jsx)(o.Bw,{children:p}),(0,s.jsx)(o.vo,{className:"me-2 m-auto"})]})})}),m&&(0,s.jsx)(o.Yq,{children:(0,s.jsx)(o.JY,{visible:!0,color:"danger",header:"Error",icon:"cil-ban",className:"text-white align-items-center",children:(0,s.jsxs)("div",{className:"d-flex",children:[(0,s.jsx)(o.Bw,{children:m}),(0,s.jsx)(o.vo,{className:"me-2 m-auto"})]})})})]})}}}]);