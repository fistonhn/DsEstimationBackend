"use strict";(self.webpackChunk_ds_estimation_construction_web_app=self.webpackChunk_ds_estimation_construction_web_app||[]).push([[1975],{33269:(e,i,o)=>{o.d(i,{A:()=>C});var l=o(89379),t=o(9950),n=o(87830),d=o(69015),r=o(8452),a=o(51602),s=o(14517),c=o(94157),u=o(33043),v=o(36386),x=o(77916),h=o(40253),m=o(35901),f=o(48662),j=o(16192),p=o(16714),g=o(37509),A=o(39324),y=o(74959),b=o(44414);const C={ViewEdit:(0,t.forwardRef)((e,i)=>(0,b.jsx)(y.g,{style:{color:"blue",fontSize:"18px"},icon:A.ROs})),Add:(0,t.forwardRef)((e,i)=>(0,b.jsx)(n.A,(0,l.A)((0,l.A)({style:{color:"blue"}},e),{},{ref:i}))),Check:(0,t.forwardRef)((e,i)=>(0,b.jsx)(r.A,(0,l.A)((0,l.A)({style:{color:"blue"}},e),{},{ref:i}))),Clear:(0,t.forwardRef)((e,i)=>(0,b.jsx)(c.A,(0,l.A)((0,l.A)({style:{color:"red"}},e),{},{ref:i}))),Delete:(0,t.forwardRef)((e,i)=>(0,b.jsx)(u.A,(0,l.A)((0,l.A)({style:{color:"red"}},e),{},{ref:i}))),DetailPanel:(0,t.forwardRef)((e,i)=>(0,b.jsx)(s.A,(0,l.A)((0,l.A)({},e),{},{ref:i}))),Edit:(0,t.forwardRef)((e,i)=>(0,b.jsx)(v.A,(0,l.A)((0,l.A)({style:{color:"green"}},e),{},{ref:i}))),Export:(0,t.forwardRef)((e,i)=>(0,b.jsx)(j.A,(0,l.A)((0,l.A)({style:{color:"blue"}},e),{},{ref:i}))),Filter:(0,t.forwardRef)((e,i)=>(0,b.jsx)(x.A,(0,l.A)((0,l.A)({},e),{},{ref:i}))),FirstPage:(0,t.forwardRef)((e,i)=>(0,b.jsx)(h.A,(0,l.A)((0,l.A)({},e),{},{ref:i}))),LastPage:(0,t.forwardRef)((e,i)=>(0,b.jsx)(m.A,(0,l.A)((0,l.A)({},e),{},{ref:i}))),NextPage:(0,t.forwardRef)((e,i)=>(0,b.jsx)(s.A,(0,l.A)((0,l.A)({},e),{},{ref:i}))),PreviousPage:(0,t.forwardRef)((e,i)=>(0,b.jsx)(a.A,(0,l.A)((0,l.A)({},e),{},{ref:i}))),ResetSearch:(0,t.forwardRef)((e,i)=>(0,b.jsx)(c.A,(0,l.A)((0,l.A)({},e),{},{ref:i}))),Search:(0,t.forwardRef)((e,i)=>(0,b.jsx)(p.A,(0,l.A)((0,l.A)({},e),{},{ref:i}))),SortArrow:(0,t.forwardRef)((e,i)=>(0,b.jsx)(d.A,(0,l.A)((0,l.A)({},e),{},{ref:i}))),ThirdStateCheck:(0,t.forwardRef)((e,i)=>(0,b.jsx)(f.A,(0,l.A)((0,l.A)({},e),{},{ref:i}))),ViewColumn:(0,t.forwardRef)((e,i)=>(0,b.jsx)(g.A,(0,l.A)((0,l.A)({},e),{},{ref:i})))}},81975:(e,i,o)=>{o.r(i),o.d(i,{default:()=>Q});var l=o(89379),t=o(9950),n=o(60899),d=o(249),r=o(48089),a=o(50704),s=o(45180),c=o(64446),u=o(68863),v=o(10226),x=o(74745),h=o(84910),m=o(46986),f=o(45546),j=o(82053),p=o(18726),g=o(87872),A=o(17981),y=o(26080),b=o(49911),C=o(73878),w=o(51342),S=o(92686),k=o(79114),z=o(44414);function N(){var e,i,o;const[n,d]=(0,t.useState)(""),[r,a]=(0,t.useState)(""),[s,c]=(0,t.useState)(""),{projects:u,singleProject:v}=(0,C.d4)(S.Br),[x,h]=(0,t.useState)(null===v||void 0===v?void 0:v.id),m=(0,C.wA)(),{role:f}=(0,k.Q)(),{isLoading:j,subCategoryError:p,subCategorySuccess:g}=(0,C.d4)(w.$z),A=null===v||void 0===v||null===(e=v.activities)||void 0===e?void 0:e.map(e=>{var i;return null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name}),N=null===v||void 0===v||null===(i=v.activities)||void 0===i||null===(o=i.map(e=>{var i,o;return{name:null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name,id:null===e||void 0===e||null===(o=e.category)||void 0===o?void 0:o.id}}))||void 0===o?void 0:o.filter((e,i)=>{if(A.indexOf(e.name)===i)return e}),E=null===N||void 0===N?void 0:N.map(e=>({value:e.id,label:e.name}));(0,t.useEffect)(()=>{m((0,S.EQ)(x))},[m,x]),(0,t.useEffect)(()=>{const e=setTimeout(()=>{m((0,w.kd)())},3e3);return()=>clearTimeout(e)},[m,p,g]);const R=null===u||void 0===u?void 0:u.map(e=>({value:e.id,label:e.name})),W=e=>{const{name:i,value:o}=e.target;d((0,l.A)((0,l.A)({},n),{},{[i]:o}))};return(0,t.useEffect)(()=>{const e=setTimeout(()=>{c("")},4e3);return()=>clearTimeout(e)}),(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("div",{style:{backgroundColor:"#fff",padding:"2rem"},children:["owner"!==f&&(null===u||void 0===u?void 0:u.length)>0&&(0,z.jsxs)(b.qI,{className:"row g-3 needs-validation",noValidate:!0,onSubmit:e=>{e.preventDefault(),m((0,w.zt)({name:null===n||void 0===n?void 0:n.SubCategory,code:null===n||void 0===n?void 0:n.code,mainCategoryId:null===r||void 0===r?void 0:r.value}))},children:[(0,z.jsxs)(b.UF,{md:12,children:[(0,z.jsxs)("div",{style:{marginBottom:"20px",fontSize:"0.75rem",fontWeight:"bold"},children:[(0,z.jsx)(b.A6,{htmlFor:"validationCustom05",style:{color:"black",fontSize:"0.9rem"},children:"Select Project"}),(0,z.jsx)(y.A,{isClearable:!0,onChange:(e,i)=>{const o={id:e.value,labourName:e.label};h(o.id)},options:R,placeholder:v?null===v||void 0===v?void 0:v.name:"Select a Project",styles:{option:(e,i)=>(0,l.A)((0,l.A)({},e),{},{borderBottom:"1px dotted #01579b",color:i.isSelected?"white":"black"})}})]}),(0,z.jsxs)("div",{style:{fontSize:"0.75rem",fontWeight:"bold"},children:[(0,z.jsx)(b.A6,{htmlFor:"validationCustom05",style:{color:"black",fontSize:"0.9rem"},children:"Select category"}),(0,z.jsx)(y.A,{isClearable:!0,placeholder:"Search category",name:"category",onChange:(e,i)=>{a(e)},options:E,styles:{option:(e,i)=>(0,l.A)((0,l.A)({},e),{},{borderBottom:"1px dotted #01579b",color:i.isSelected?"white":"black",textTransform:"lowercase"})}}),(0,z.jsx)(b.To,{invalid:!0,children:"Please provide Activity"})]})]}),(0,z.jsxs)(b.UF,{md:12,children:[(0,z.jsx)(b.A6,{htmlFor:"validationCustom01",style:{color:"black"},children:"SubCategory name"}),(0,z.jsx)(b.OG,{type:"text","aria-label":"SubCategory",id:"validationCustom01",placeholder:"Create SubCategory name",name:"SubCategory",value:null===n||void 0===n?void 0:n.SubCategory,onChange:W,required:!0}),(0,z.jsx)(b.To,{invalid:!0,children:"Create SubCategory name"})]}),(0,z.jsxs)(b.UF,{md:12,children:[(0,z.jsx)(b.A6,{htmlFor:"validationCustom01",style:{color:"black"},children:"SubCategory code"}),(0,z.jsx)(b.OG,{type:"text","aria-label":"SubCategory",id:"validationCustom01",placeholder:"Create SubCategory code",name:"code",value:null===n||void 0===n?void 0:n.code,onChange:W,required:!0}),(0,z.jsx)(b.To,{invalid:!0,children:"Create SubCategory code"})]}),(0,z.jsx)(b.UF,{xs:12,children:(0,z.jsx)(b.Q_,{style:{backgroundColor:"#01579b",color:"#fff",fontWeight:500,fontSize:"12px"},color:j?"secondary":"primary",type:"submit",children:j?"Creating...":"Create sub-category"})})]}),g&&(0,z.jsx)(b.Yq,{children:(0,z.jsx)(b.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,z.jsxs)("div",{className:"d-flex",children:[(0,z.jsx)(b.Bw,{children:g}),(0,z.jsx)(b.vo,{className:"me-2 m-auto"})]})})}),p&&(0,z.jsx)(b.Yq,{children:(0,z.jsx)(b.JY,{visible:!0,color:"danger",header:"Error",icon:"cil-ban",className:"text-white align-items-center",children:(0,z.jsxs)("div",{className:"d-flex",children:[(0,z.jsx)(b.Bw,{children:p}),(0,z.jsx)(b.vo,{className:"me-2 m-auto"})]})})}),s&&(0,z.jsx)(b.Yq,{children:(0,z.jsx)(b.JY,{visible:!0,color:"danger",header:"Error",icon:"cil-ban",className:"text-white align-items-center",children:(0,z.jsxs)("div",{className:"d-flex",children:[(0,z.jsx)(b.Bw,{children:s}),(0,z.jsx)(b.vo,{className:"me-2 m-auto"})]})})})]})})}var E=o(67580),R=o(46639),W=o(39324),B=o(74959),T=o(30091),I=o(55956),F=o.n(I),P=o(33269),_=o(32018);const D=function(){const e=(0,C.wA)(),{defaultActivities:i,deletingMessage:o,updateDefaultEstMessage:l,error:n}=(0,C.d4)(w.$z);(0,t.useEffect)(()=>{e((0,w.Ew)())},[e,o,l]),(0,t.useEffect)(()=>{const i=setTimeout(()=>{e((0,w.kd)())},3e3);return()=>clearTimeout(i)},[e,o,l,n]),console.log("defaultActivities",i);const d=null===i||void 0===i?void 0:i.map(e=>{var i;return{mAct:null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name,id:e.estimationCategoryId}}),r=[...new Map(null===d||void 0===d?void 0:d.map(e=>[e.mAct,e])).values()],a=[...null===r||void 0===r?void 0:r.map((e,i)=>({mainActId:e.id,dataId:i+1,id:null===e||void 0===e?void 0:e.mAct,name:null===e||void 0===e?void 0:e.mAct,unit:null,quantity:null})),...null===i||void 0===i?void 0:i.map((e,i)=>{var o;return{dataId:i+1,id:null===e||void 0===e?void 0:e.id,name:null===e||void 0===e?void 0:e.name,unit:null===e||void 0===e?void 0:e.estimationUnit,quantity:null===e||void 0===e?void 0:e.estimationQuantity,parentId:null===e||void 0===e||null===(o=e.category)||void 0===o?void 0:o.name}})],s=[{title:"ID",field:"dataId",editable:"never",cellStyle:{width:"2%"}},{title:"Name",field:"name",editComponent:e=>{let{value:i,onChange:o}=e;return(0,z.jsx)(_.A,{onChange:e=>o(e.target.value),value:i,multiline:!0})}},{title:"Unit",field:"unit"},{title:"Quantity",field:"quantity"}];return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(F(),{title:"Default Activities",icons:P.A,data:a,options:{addRowPosition:"first",actionsColumnIndex:-1,exportButton:!0,exportAllData:!0,exportFileName:"Site clearing",paging:!1,paginationType:"stepped",showFirstLastPageButtons:!1,headerStyle:{backgroundColor:"#01579b",color:"#FFF",fontWeight:"bold",width:"5%",fontSize:"12px"},cellStyle:{fontSize:"12px"},rowStyle:(e,i)=>null!==e&&void 0!==e&&e.parentId?{backgroundColor:"#eee"}:null},editable:{onRowUpdate:(i,o)=>new Promise((l,t)=>{null===o.unit?(e((0,w.$1)({id:o.mainActId,newData:{name:i.name,isApproved:!0}})),l()):(e((0,w.CQ)({id:o.id,newData:{editName:i.name,estimationQuantity:i.quantity}})),l()),l()}),onRowDelete:i=>new Promise((o,l)=>{null===i.unit||e((0,w.Mk)(i.id)),o(),o()})},columns:s,parentChildData:(e,i)=>null===i||void 0===i?void 0:i.find(i=>i.id===(null===e||void 0===e?void 0:e.parentId))}),l&&(0,z.jsx)(b.Yq,{placement:"top-end",children:(0,z.jsx)(b.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,z.jsxs)("div",{className:"d-flex",children:[(0,z.jsx)(b.Bw,{children:l}),(0,z.jsx)(b.vo,{className:"me-2 m-auto"})]})})}),o&&(0,z.jsx)(b.Yq,{placement:"top-end",children:(0,z.jsx)(b.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,z.jsxs)("div",{className:"d-flex",children:[(0,z.jsx)(b.Bw,{children:o}),(0,z.jsx)(b.vo,{className:"me-2 m-auto"})]})})}),n&&(0,z.jsx)(b.Yq,{placement:"top-end",children:(0,z.jsx)(b.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,z.jsxs)("div",{className:"d-flex",children:[(0,z.jsx)(b.Bw,{children:n}),(0,z.jsx)(b.vo,{className:"me-2 m-auto"})]})})})]})};function Q(){var e,i,o;const[I,F]=(0,t.useState)(!1),[P,_]=(0,t.useState)(!1),[Q,Y]=(0,t.useState)(!1),[q,L]=(0,t.useState)(!1),O=(0,C.wA)(),[J,U]=(0,t.useState)([]),[G,M]=(0,t.useState)([]),{projects:$,singleProject:V,singleProjectGrouping:H,projectsGrouping:K}=(0,C.d4)(S.Br),{role:X}=(0,k.Q)(),Z=null===V||void 0===V?void 0:V.activities,[ee,ie]=(0,t.useState)(null===V||void 0===V?void 0:V.id),{defaultActivities:oe,activityToProjectError:le,activityToProjectSuccess:te,isLoading:ne,duplicateSuccess:de,duplicatError:re}=(0,C.d4)(w.$z);(0,t.useEffect)(()=>{O((0,S.cf)())},[O]),(0,t.useEffect)(()=>{O((0,w.Ew)())},[O]),(0,t.useEffect)(()=>{O((0,w.jI)())},[O]),(0,t.useEffect)(()=>{O((0,S.a2)())},[O]),(0,t.useEffect)(()=>{O((0,S.EQ)(ee))},[O,ee,te]),(0,t.useEffect)(()=>{const e=setTimeout(()=>{O((0,w.kd)())},3e3);return()=>clearTimeout(e)},[O,te,le,de,re]);const ae=null===oe||void 0===oe?void 0:oe.map(e=>{var i;return null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name}),se=null===oe||void 0===oe||null===(e=oe.map(e=>{var i;return null===(i=e.category)||void 0===i?void 0:i.name}))||void 0===e?void 0:e.filter((e,i)=>{if(ae.indexOf(e)===i)return e}),ce=null===Z||void 0===Z?void 0:Z.map(e=>{var i;return null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name}),ue=null===Z||void 0===Z||null===(i=Z.map(e=>{var i;return null===(i=e.category)||void 0===i?void 0:i.name}))||void 0===i?void 0:i.filter((e,i)=>{if(ce.indexOf(e)===i)return e}),ve=null===oe||void 0===oe?void 0:oe.map(e=>{var i;return null===(i=e.category)||void 0===i?void 0:i.name}),xe=[...new Set(ve)],he=[...se],[me]=(0,t.useState)(xe),[fe,je]=(0,t.useState)(xe),[pe,ge]=(0,t.useState)(oe),Ae=null===$||void 0===$?void 0:$.filter(e=>null===(null===e||void 0===e?void 0:e.groupId)),ye=null===H||void 0===H?void 0:H.projects;let be;be=void 0!==ye?null===ye||void 0===ye?void 0:ye.concat(Ae):Ae;const Ce=null===(o=be)||void 0===o?void 0:o.map(e=>({value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name})),we=null===K||void 0===K?void 0:K.map(e=>({value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name})),Se=e=>{"owner"!==X?(L(!1),F(!1),_(!1),je(he),O((0,w.jI)())):(O((0,w.Ew)()).then(e=>{var i,o,l;const t=null===(i=e.payload.data)||void 0===i?void 0:i.map(e=>{var i;return null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name}),n=null===(o=e.payload.data)||void 0===o||null===(l=o.map(e=>{var i;return null===(i=e.category)||void 0===i?void 0:i.name}))||void 0===l?void 0:l.filter((e,i)=>{if(t.indexOf(e)===i)return e});me(n)}),L(!1),_(!1))},ke=e=>{O((0,S.EQ)(ee)).then(e=>{console.log("hhh",e.payload.data),Y(!1)})},ze=e=>{const i=e.target.value,o=e.target.checked;U(o?[...J,i]:J.filter(e=>e!==i))},Ne=e=>{const i=e.target.value,o=e.target.checked;M(o?[...G,i]:G.filter(e=>e!==i))};return(0,z.jsxs)(z.Fragment,{children:["owner"!==X&&(null===$||void 0===$?void 0:$.length)>0&&(0,z.jsx)(r.A,{sx:{minWidth:275},style:{backgroundColor:"#cccccc",margin:"-40px",padding:"40px"},children:(0,z.jsxs)(a.A,{children:[(0,z.jsx)("div",{style:{width:"45%",fontWeight:"bold",fontSize:"0.7rem",backgroundColor:"#CCCCCC"},children:(0,z.jsx)(y.A,{isClearable:!0,onChange:e=>{const i={id:e.value,labourName:e.label};O((0,S.Le)({id:i.id}))},options:we,placeholder:H?"PROJECT: ".concat(null===H||void 0===H?void 0:H.name):"Select a project",styles:{option:(e,i)=>(0,l.A)((0,l.A)({},e),{},{borderBottom:"1px dotted #01579b",color:i.isSelected?"white":"black"})}})}),(0,z.jsx)("div",{style:{marginBottom:"20px",width:"40%",fontWeight:"bold",fontSize:"0.7rem",backgroundColor:"#CCCCCC"},children:(0,z.jsx)(y.A,{isClearable:!0,onChange:(e,i)=>{const o={id:null===e||void 0===e?void 0:e.value,labourName:null===e||void 0===e?void 0:e.label};ie(o.id)},options:Ce,placeholder:V?"SUB-PROJECT: ".concat(null===V||void 0===V?void 0:V.name):"Select a sub-project",styles:{option:(e,i)=>(0,l.A)((0,l.A)({},e),{},{borderBottom:"1px dotted #01579b",color:i.isSelected?"white":"black"})}})}),(0,z.jsxs)(r.A,{sx:{minWidth:275},style:{backgroundColor:"#f7f7f7"},children:[" ",(0,z.jsxs)(j.A,{gutterBottom:!0,variant:"h5",component:"div",style:{paddingRight:"50px",paddingTop:"20px",fontWeight:"bold",float:"right"},children:[(0,z.jsxs)(b.zS,{visible:P,onClose:Se,children:[(0,z.jsx)(b.E4,{onClose:Se,children:(0,z.jsx)(b.lb,{children:"Duplicate activity"})}),(0,z.jsx)(b.Tc,{children:(0,z.jsx)(A.A,{})})]}),(0,z.jsxs)(b.zS,{visible:Q,onClose:ke,children:[(0,z.jsx)(b.E4,{onClose:ke,children:(0,z.jsx)(b.lb,{children:"Create a new sub-category"})}),(0,z.jsx)(b.Tc,{children:(0,z.jsx)(N,{})})]}),(0,z.jsx)(b.Q_,{style:{fontWeight:600,color:"white",fontSize:"12px"},onClick:()=>Y(!0),color:"info",size:"sm",children:"Add sub-category"})," ",(0,z.jsx)(b.Q_,{style:{fontWeight:600,color:"white",fontSize:"12px"},onClick:()=>F(!0),color:"info",size:"sm",children:"Create New Activity"})," ",(0,z.jsx)(b.Q_,{style:{fontWeight:600,color:"white",fontSize:"12px"},onClick:()=>_(!0),color:"info",size:"sm",children:"Duplicate Activity"})," "]}),(0,z.jsx)("div",{style:{padding:"10px"},children:(0,z.jsxs)(b.zS,{visible:I,onClose:Se,children:[(0,z.jsx)(b.E4,{onClose:Se,children:(0,z.jsx)(b.lb,{children:"Create new estimation"})}),(0,z.jsx)(b.Tc,{children:(0,z.jsx)(g.A,{})})]})}),(0,z.jsx)(a.A,{children:(0,z.jsxs)(n.Ay,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[(0,z.jsx)(n.Ay,{item:!0,children:(0,z.jsxs)(r.A,{style:{backgroundColor:"#01579b",overflow:"auto",color:"white",fontWeight:"bold",fontSize:"12px",width:"100%",float:"left"},children:[(0,z.jsx)(s.A,{sx:{px:2,py:1}}),(0,z.jsxs)("div",{style:{display:"flex"},children:[(0,z.jsx)("div",{style:{fontWeight:500,fontSize:"1rem",paddingLeft:"15px",paddingBottom:"10px",maxWidth:"400px"},children:"System Default Activities"}),(0,z.jsx)("form",{style:{marginLeft:"10%",marginBottom:"10px",maxWidth:"300px",float:"right"},children:(0,z.jsx)("input",{onChange:e=>{const i=null===oe||void 0===oe?void 0:oe.filter(function(i){var o;return null===(o=i.name.toLowerCase())||void 0===o?void 0:o.match(e.target.value.toLowerCase())});ge(i);const o=null===i||void 0===i?void 0:i.map(e=>e.category.name),l=null===he||void 0===he?void 0:he.filter(e=>null===o||void 0===o?void 0:o.includes(e));je(l)},type:"text",placeholder:"Search activities ...",style:{padding:"2px",color:"black"}})})]}),(0,z.jsx)(x.A,{}),(0,z.jsxs)(d.A,{sx:{width:400,height:400,bgcolor:"background.paper",overflow:"auto"},dense:!0,component:"div",role:"list",children:[null===fe||void 0===fe?void 0:fe.map((e,i)=>{var o,l;return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(h.A,{children:[(0,z.jsx)(m.A,{expandIcon:(0,z.jsx)(p.A,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,z.jsxs)(j.A,{children:[" ",(0,z.jsxs)("span",{style:{color:"black",fontWeight:"bold",fontSize:"11px"},children:[i+1,".",e]})]})}),(0,z.jsxs)(f.A,{children:[null===pe||void 0===pe||null===(o=pe.filter(i=>{var o;return(null===(o=i.category)||void 0===o?void 0:o.name)===e}))||void 0===o?void 0:o.map(e=>{var o,l;return null===e||void 0===e||null===(o=e.category)||void 0===o||null===(l=o.subcategory)||void 0===l?void 0:l.map((e,o)=>(0,z.jsxs)("div",{children:[i+1,".",e.code?e.code:o+1,". ",e.name]},o+764))}),null===pe||void 0===pe||null===(l=pe.filter(i=>{var o;return(null===(o=i.category)||void 0===o?void 0:o.name)===e}))||void 0===l?void 0:l.map((e,o)=>(0,z.jsxs)("div",{value:e.id,style:{cursor:"pointer",fontWeight:600,fontSize:"0.75rem",borderBottom:"1px solid #ccc"},children:[(0,z.jsx)(u.A,{size:"small",value:e.name,onClick:ze}),i+1,".",o+1,"."," ",e.name]},o))]})]},i)})}),(0,z.jsx)(c.Ay,{})]})]})}),(0,z.jsx)(n.Ay,{item:!0,children:(0,z.jsxs)(n.Ay,{container:!0,direction:"column",alignItems:"center",children:[(0,z.jsx)(v.A,{sx:{my:.5},variant:"contained",size:"small",onClick:()=>{if(J.length>0){for(let e of J)O((0,w.p_)({id:ee,estimationName:e}));O((0,S.Os)({projectId:ee}))}je(xe),je(he)},"aria-label":"move selected right",style:{padding:"10px",color:"white"},children:(0,z.jsx)(B.g,{icon:W.QLR})}),(0,z.jsx)(v.A,{style:{backgroundColor:"red",padding:"10px",color:"white"},sx:{my:.5},variant:"contained",size:"small",onClick:()=>{if(G.length>0)for(let e of G)O((0,w.O3)({id:ee,estimationName:e}))},"aria-label":"move selected left",children:(0,z.jsx)(B.g,{icon:W.yLS})})]})}),(0,z.jsx)(n.Ay,{item:!0,children:(0,z.jsxs)(r.A,{style:{backgroundColor:"#01579b",overflow:"auto",color:"white",fontWeight:"bold",fontSize:"11px",width:"100%",float:"right"},children:[(0,z.jsx)(s.A,{sx:{px:2,py:1}}),(0,z.jsx)("div",{style:{fontWeight:500,fontSize:"1rem",paddingLeft:"15px",paddingBottom:"10px",maxWidth:"400px"},children:"".concat(null===V||void 0===V?void 0:V.name," Project  Activities")}),(0,z.jsx)(x.A,{}),(0,z.jsxs)(d.A,{sx:{width:400,height:400,bgcolor:"background.paper",overflow:"auto"},dense:!0,component:"div",role:"list",children:[null===ue||void 0===ue?void 0:ue.map((e,i)=>{var o,l,t,n;return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(h.A,{children:[(0,z.jsx)(m.A,{expandIcon:(0,z.jsx)(p.A,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,z.jsxs)(j.A,{children:[" ",(0,z.jsxs)("span",{style:{color:"black",fontWeight:"bold",fontSize:"11px"},children:[i+1,".",e]})]})}),(0,z.jsxs)(f.A,{children:[null===V||void 0===V||null===(o=V.activities)||void 0===o||null===(l=o.filter(i=>{var o;return(null===(o=i.category)||void 0===o?void 0:o.name)===e}))||void 0===l?void 0:l.map(e=>{var o,l;return null===e||void 0===e||null===(o=e.category)||void 0===o||null===(l=o.subcategory)||void 0===l?void 0:l.map((e,o)=>(0,z.jsxs)("div",{children:[i+1,".",e.code?e.code:o+1,". ",e.name]},o+764))}),null===V||void 0===V||null===(t=V.activities)||void 0===t||null===(n=t.filter(i=>{var o;return(null===(o=i.category)||void 0===o?void 0:o.name)===e}))||void 0===n?void 0:n.map((e,o)=>(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("div",{value:e.id,style:{cursor:"pointer",fontWeight:600,fontSize:"0.75rem",borderBottom:"1px solid #ccc"},children:[(0,z.jsx)(u.A,{size:"small",value:e.name,onClick:Ne}),i+1,".",o+1,". ",e.name]},o+74)}))]})]},i)})}),(0,z.jsx)(c.Ay,{})]})]})})]})})]})]})}),"owner"===X&&(0,z.jsx)(r.A,{sx:{minWidth:275},style:{backgroundColor:"#cccccc",margin:"-40px",padding:"40px"},children:(0,z.jsx)(a.A,{children:(0,z.jsxs)(r.A,{sx:{minWidth:275},style:{backgroundColor:"#f7f7f7"},children:[(0,z.jsxs)("div",{style:{padding:"10px"},children:[(0,z.jsx)(b.Q_,{style:{fontWeight:500,color:"white",fontSize:"12px"},onClick:()=>L(!0),color:"info",size:"sm",children:"Create New Activity"})," ",(0,z.jsx)(b.Q_,{style:{fontWeight:500,color:"white",fontSize:"12px"},onClick:()=>_(!0),color:"info",size:"sm",children:"Duplicate Activity"})," ",(0,z.jsxs)(b.zS,{visible:P,onClose:Se,children:[(0,z.jsx)(b.E4,{onClose:Se,children:(0,z.jsx)(b.lb,{children:"Duplicate activity"})}),(0,z.jsx)(b.Tc,{children:(0,z.jsx)(A.A,{})})]}),(0,z.jsxs)(b.zS,{visible:q,onClose:Se,children:[(0,z.jsx)(b.E4,{onClose:Se,children:(0,z.jsx)(b.lb,{children:"Create new activity"})}),(0,z.jsx)(b.Tc,{children:(0,z.jsx)(g.A,{})})]})]}),(0,z.jsx)(D,{})]})})}),te&&(0,z.jsx)(b.Yq,{placement:"top-end",children:(0,z.jsx)(b.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,z.jsxs)("div",{className:"d-flex",children:[(0,z.jsx)(b.Bw,{children:te}),(0,z.jsx)(b.vo,{className:"me-2 m-auto"})]})})}),le&&(0,z.jsx)(b.Yq,{placement:"top-end",children:(0,z.jsx)(b.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,z.jsxs)("div",{className:"d-flex",children:[(0,z.jsx)(b.Bw,{children:le}),(0,z.jsx)(b.vo,{className:"me-2 m-auto"})]})})}),"owner"!==X&&0===(null===$||void 0===$?void 0:$.length)&&(0,z.jsx)(T.A,{}),(0,z.jsx)("div",{children:(0,z.jsx)(E.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:ne,children:(0,z.jsx)(R.A,{color:"inherit"})})})]})}}}]);