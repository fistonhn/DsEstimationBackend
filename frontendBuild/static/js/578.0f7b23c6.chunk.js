"use strict";(self.webpackChunk_ds_estimation_construction_web_app=self.webpackChunk_ds_estimation_construction_web_app||[]).push([[578],{1022:(e,i,l)=>{l.d(i,{B:()=>s});var d=l(89379),n=l(80045),o=l(9950),a=l(49911),t=l(44414);const r=["children","btnTitle","icon","modalTitle","btnClasses","size","variant","modalSize","style"],s=e=>{let{children:i,btnTitle:l,icon:s,modalTitle:c,btnClasses:v,size:u,variant:h,modalSize:m,style:p}=e,x=(0,n.A)(e,r);const[j,C]=(0,o.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Q_,{className:v,variant:h,size:u,onClick:()=>C(!j),style:p,children:[s,l]}),(0,t.jsxs)(a.zS,(0,d.A)((0,d.A)({size:m,alignment:"center",visible:j,onClose:()=>C(!1)},x),{},{children:[(0,t.jsx)(a.E4,{children:(0,t.jsx)(a.lb,{children:c})}),(0,t.jsx)(a.Tc,{children:i})]}))]})}},27027:(e,i,l)=>{l.d(i,{S:()=>v});var d=l(89379),n=l(9950),o=l(49911),a=l(73878),t=l(92686),r=l(48303),s=l(79114),c=l(44414);const v=()=>{const{singleProject:e,status:i,error:l,message:v,updateLoading:u}=(0,a.d4)(t.Br),{role:h}=(0,s.Q)(),[m,p]=(0,n.useState)({name:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description,client:null===e||void 0===e?void 0:e.client,contractor:null===e||void 0===e?void 0:e.contractor,consultant:null===e||void 0===e?void 0:e.consultant,startDate:null===e||void 0===e?void 0:e.startDate,endDate:null===e||void 0===e?void 0:e.endDate,status:null===e||void 0===e?void 0:e.status,currencyCode:null===e||void 0===e?void 0:e.currencyCode,defaultCode:null===e||void 0===e?void 0:e.currencyCode,vat:+(null===e||void 0===e?void 0:e.vat),isApproved:null===e||void 0===e?void 0:e.isApproved,category:null===e||void 0===e?void 0:e.category}),x=(0,a.wA)(),[j,C]=(0,n.useState)(!1),A=e=>{const{name:i,value:l}=e.target;p((0,d.A)((0,d.A)({},m),{},{[i]:l}))};return(0,n.useEffect)(()=>{e&&p({name:null===e||void 0===e?void 0:e.name,description:null===e||void 0===e?void 0:e.description,client:null===e||void 0===e?void 0:e.client,contractor:null===e||void 0===e?void 0:e.contractor,consultant:null===e||void 0===e?void 0:e.consultant,startDate:null===e||void 0===e?void 0:e.startDate,endDate:null===e||void 0===e?void 0:e.endDate,status:null===e||void 0===e?void 0:e.status,currencyCode:null===e||void 0===e?void 0:e.currencyCode,defaultCode:null===e||void 0===e?void 0:e.currencyCode,vat:100*+(null===e||void 0===e?void 0:e.vat),isApproved:null===e||void 0===e?void 0:e.isApproved,category:null===e||void 0===e?void 0:e.category})},[e]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{x((0,t.uY)())},1e4);return()=>clearTimeout(e)},[x,i,l,v]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{style:{backgroundColor:"#fff",padding:"2rem"},children:[(0,c.jsxs)(o.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:j,onSubmit:i=>{i.preventDefault();const l=i.currentTarget;!1===l.checkValidity()&&(i.preventDefault(),i.stopPropagation()),!0===l.checkValidity()&&x((0,t.vr)({id:e.id,name:m.name,description:m.description,client:m.client,contractor:m.contractor,consultant:m.consultant,startDate:m.startDate,endDate:m.endDate,status:m.status,currencyCode:null===m||void 0===m?void 0:m.currencyCode,vat:+(null===m||void 0===m?void 0:m.vat),isApproved:null===m||void 0===m?void 0:m.isApproved,category:null===e||void 0===e?void 0:e.category})),C(!0)},children:["admin"===h||"manager"===h&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom01",children:"Project Name"}),(0,c.jsx)(o.OG,{type:"text","aria-label":"name",id:"validationCustom01",placeholder:"Write project name here",name:"name",value:null===m||void 0===m?void 0:m.name,onChange:A,required:!0}),(0,c.jsx)(o.To,{invalid:!0,children:"Please provide project name"})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom03",children:"Client"}),(0,c.jsx)(o.OG,{type:"text","aria-label":"client",id:"validationCustom03",placeholder:"Write client name here",name:"client",value:null===m||void 0===m?void 0:m.client,onChange:A,required:!0}),(0,c.jsx)(o.To,{invalid:!0,children:"Please provide client name"})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom04",children:"Contractor"}),(0,c.jsx)(o.OG,{type:"text","aria-label":"contractor",id:"validationCustom04",placeholder:"Write contractor name here",name:"contractor",value:null===m||void 0===m?void 0:m.contractor,onChange:A,required:!0}),(0,c.jsx)(o.To,{invalid:!0,children:"Please provide contractor name"})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom05",children:"Consultant"}),(0,c.jsx)(o.OG,{type:"text","aria-label":"consultant",id:"validationCustom05",placeholder:"Write consultant name here",name:"consultant",value:null===m||void 0===m?void 0:m.consultant,onChange:A,required:!0}),(0,c.jsx)(o.To,{invalid:!0,children:"Please provide consultant name"})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom06",children:"Start Date"}),(0,c.jsx)(o.OG,{type:"date","aria-label":"startDate",id:"validationCustom06",placeholder:"Write start date here",name:"startDate",value:null===m||void 0===m?void 0:m.startDate,onChange:A})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom07",children:"End Date"}),(0,c.jsx)(o.OG,{type:"date","aria-label":"endDate",id:"validationCustom07",placeholder:"Write end date here",name:"endDate",value:null===m||void 0===m?void 0:m.endDate,onChange:A})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom08",children:"Status"}),(0,c.jsxs)(o.MT,{"aria-label":"status",id:"validationCustom08",placeholder:"Select status",name:"status",value:null===m||void 0===m?void 0:m.status,onChange:A,required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select status"}),(0,c.jsx)("option",{value:"not started",children:"not started"}),(0,c.jsx)("option",{value:"on progress",children:"on progress"}),(0,c.jsx)("option",{value:"suspended",children:"suspended"}),(0,c.jsx)("option",{value:"canceled",children:"canceled"}),(0,c.jsx)("option",{value:"completed",children:"completed"})]}),(0,c.jsx)(o.To,{invalid:!0,children:"Please provide status"})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"formSwitchCheckChecked",children:"Is Approved"}),(0,c.jsx)(o.Qb,{label:null!==m&&void 0!==m&&m.isApproved?"Approved":"Not Approved",id:"formSwitchCheckChecked",value:null===m||void 0===m?void 0:m.isApproved,defaultChecked:null===m||void 0===m?void 0:m.isApproved,onChange:e=>{p((0,d.A)((0,d.A)({},m),{},{isApproved:e.target.checked}))}})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom05",children:"Current currency"}),(0,c.jsx)(o.OG,{type:"text","aria-label":"currencyValue",id:"validationCustom05",placeholder:"Currency value compared to 1 RWF",name:"currencyCode",value:null===m||void 0===m?void 0:m.defaultCode,readOnly:!0})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsxs)(o.A6,{htmlFor:"validationCustom08",children:["Currency converted (",null===m||void 0===m?void 0:m.currencyCode,")"]}),(0,c.jsxs)(o.MT,{"aria-label":"status",id:"validationCustom08",placeholder:"Select Currency",name:"currencyCode",value:null===m||void 0===m?void 0:m.currencyCode,onChange:A,children:[(0,c.jsx)("option",{value:null===m||void 0===m?void 0:m.currencyCode,children:null===m||void 0===m?void 0:m.currencyCode}),null===r.M||void 0===r.M?void 0:r.M.map(e=>(0,c.jsx)("option",{value:e,children:e},e))]})]}),(0,c.jsxs)(o.UF,{md:12,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom05",children:"VAT"}),(0,c.jsx)(o.OG,{type:"number","aria-label":"VAT",id:"validationCustom05",placeholder:"VAT percentage",name:"vat",value:null===m||void 0===m?void 0:m.vat,onChange:A})]}),(0,c.jsxs)(o.UF,{xs:12,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom02",children:"Description"}),(0,c.jsx)(o.Im,{"aria-label":"description",id:"validationCustom02",placeholder:"Write project description here",name:"description",value:null===m||void 0===m?void 0:m.description,onChange:A})]})]}),"owner"===h&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom01",children:"Template Name"}),(0,c.jsx)(o.OG,{type:"text","aria-label":"name",id:"validationCustom01",placeholder:"Write project name here",name:"name",value:null===m||void 0===m?void 0:m.name,onChange:A,required:!0}),(0,c.jsx)(o.To,{invalid:!0,children:"Please provide project name"})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom03",children:"Category"}),(0,c.jsx)(o.OG,{type:"text","aria-label":"category",id:"validationCustom03",placeholder:"Category",name:"category",value:null===m||void 0===m?void 0:m.category,onChange:A,required:!0}),(0,c.jsx)(o.To,{invalid:!0,children:"Please provide category name"})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom08",children:"Status"}),(0,c.jsxs)(o.MT,{"aria-label":"status",id:"validationCustom08",placeholder:"Select status",name:"status",value:null===m||void 0===m?void 0:m.status,onChange:A,required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select status"}),(0,c.jsx)("option",{value:"not started",children:"not started"}),(0,c.jsx)("option",{value:"on progress",children:"on progress"}),(0,c.jsx)("option",{value:"suspended",children:"suspended"}),(0,c.jsx)("option",{value:"canceled",children:"canceled"}),(0,c.jsx)("option",{value:"completed",children:"completed"})]}),(0,c.jsx)(o.To,{invalid:!0,children:"Please provide status"})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsx)(o.A6,{htmlFor:"formSwitchCheckChecked",children:"Is Approved"}),(0,c.jsx)(o.Qb,{label:null!==m&&void 0!==m&&m.isApproved?"Approved":"Not Approved",id:"formSwitchCheckChecked",value:null===m||void 0===m?void 0:m.isApproved,defaultChecked:null===m||void 0===m?void 0:m.isApproved,onChange:e=>{p((0,d.A)((0,d.A)({},m),{},{isApproved:e.target.checked}))}})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsxs)(o.A6,{htmlFor:"validationCustom08",children:["Currency (",null===m||void 0===m?void 0:m.currencyCode,")"]}),(0,c.jsxs)(o.MT,{"aria-label":"status",id:"validationCustom08",placeholder:"Select Currency",name:"currencyCode",value:null===m||void 0===m?void 0:m.currencyCode,onChange:A,children:[(0,c.jsx)("option",{value:null===m||void 0===m?void 0:m.currencyCode,children:null===m||void 0===m?void 0:m.currencyCode}),null===r.M||void 0===r.M?void 0:r.M.map(e=>(0,c.jsx)("option",{value:e,children:e},e))]})]}),(0,c.jsxs)(o.UF,{md:6,children:[(0,c.jsxs)(o.A6,{htmlFor:"validationCustom05",children:["enter ",null===m||void 0===m?void 0:m.currencyCode," value compared 1 RWF"]}),(0,c.jsx)(o.OG,{type:"number","aria-label":"currencyValue",id:"validationCustom05",placeholder:"Currency value compared to 1 RWF",name:"currencyValue",value:null===m||void 0===m?void 0:m.currencyValue,onChange:A})]}),(0,c.jsxs)(o.UF,{md:12,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom05",children:"VAT"}),(0,c.jsx)(o.OG,{type:"number","aria-label":"VAT",id:"validationCustom05",placeholder:"VAT percentage",name:"vat",value:null===m||void 0===m?void 0:m.vat,onChange:A})]}),(0,c.jsxs)(o.UF,{xs:12,children:[(0,c.jsx)(o.A6,{htmlFor:"validationCustom02",children:"Description"}),(0,c.jsx)(o.Im,{"aria-label":"description",id:"validationCustom02",placeholder:"Write project description here",name:"description",value:null===m||void 0===m?void 0:m.description,onChange:A})]})]}),(0,c.jsx)(o.UF,{xs:12,children:(0,c.jsx)(o.Q_,{color:u?"secondary":"primary",type:"submit",disabled:u,children:u?"updating...":"Save Changes"})})]}),v&&(0,c.jsx)(o.Yq,{placement:"top-end",children:(0,c.jsx)(o.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,c.jsxs)("div",{className:"d-flex",children:[(0,c.jsx)(o.Bw,{children:v}),(0,c.jsx)(o.vo,{className:"me-2 m-auto"})]})})}),l&&(0,c.jsx)(o.Yq,{placement:"top-end",children:(0,c.jsx)(o.JY,{visible:!0,color:"danger",header:"Error",icon:"cil-ban",className:"text-white align-items-center",children:(0,c.jsxs)("div",{className:"d-flex",children:[(0,c.jsx)(o.Bw,{children:l}),(0,c.jsx)(o.vo,{className:"me-2 m-auto"})]})})})]})})}},33128:(e,i,l)=>{l.d(i,{k:()=>n});l(9950);var d=l(44414);const n=e=>{let{date:i}=e;const l=+new Date(i),n=new Date(l).toLocaleString("en-US");return(0,d.jsx)(d.Fragment,{children:i&&(0,d.jsx)("b",{children:n})})}},48303:(e,i,l)=>{l.d(i,{M:()=>d});const d=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTC","BTN","BWP","BYN","BZD","CAD","CDF","CHF","CLF","CLP","CNH","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VEF","VES","VND","VUV","WST","XAF","XAG","XAU","XCD","XDR","XOF","XPD","XPF","XPT","YER","ZAR","ZMW","ZWL"]},90578:(e,i,l)=>{l.r(i),l.d(i,{default:()=>m});var d=l(9950),n=l(28429),o=l(49911),a=l(25793),t=l(73878),r=l(92686),s=l(1022),c=l(27027),v=l(33128),u=l(79114),h=l(44414);const m=()=>{const{id:e}=(0,n.g)(),i=(0,t.wA)(),{singleProject:l,loading:m,errorMessage:p,message:x}=(0,t.d4)(r.Br),{role:j}=(0,u.Q)();return(0,d.useEffect)(()=>{i((0,r.EQ)(e))},[i,e]),(0,d.useEffect)(()=>{const e=setTimeout(()=>{i((0,r.uY)())},1e4);return()=>clearTimeout(e)},[i,x,p]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"project-details",children:[(0,h.jsxs)("div",{className:"d-flex align-items-center pb-3",style:{gap:"20px"},children:[(0,h.jsx)(s.B,{btnTitle:"edit",modalTitle:"update project",modalSize:"lg",children:(0,h.jsx)(c.S,{})}),(0,h.jsx)(o.KV,{href:"#/project/activities",children:(0,h.jsx)(o.Q_,{color:"primary",children:" Add Activities "})})]}),"admin"===j||"manager"===j&&(0,h.jsx)("div",{className:"project-details__card",children:(0,h.jsxs)("div",{className:"project-details__card__data",children:[(0,h.jsxs)("p",{className:"mt-3",children:[(0,h.jsx)("b",{children:"Name: "})," ",null===l||void 0===l?void 0:l.name]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Client: "})," ",null===l||void 0===l?void 0:l.client]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"contractor: "})," ",null===l||void 0===l?void 0:l.contractor]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"consultant: "})," ",null===l||void 0===l?void 0:l.consultant]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Start Date: "}),(0,h.jsx)(v.k,{date:null===l||void 0===l?void 0:l.startDate})]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"End Date: "})," ",(0,h.jsx)(v.k,{date:null===l||void 0===l?void 0:l.endDate})]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Status: "})," ",null===l||void 0===l?void 0:l.status]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Output and Price: "})," ",null===l||void 0===l?void 0:l.outputAndPrice]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Description: "})," ",null===l||void 0===l?void 0:l.description]})]},null===l||void 0===l?void 0:l.id)}),"owner"===j&&(0,h.jsx)("div",{className:"project-details__card",children:(0,h.jsxs)("div",{className:"project-details__card__data",children:[(0,h.jsxs)("p",{className:"mt-3",children:[(0,h.jsx)("b",{children:"Name: "})," ",null===l||void 0===l?void 0:l.name]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Category: "})," ",null===l||void 0===l?void 0:l.category]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Status: "})," ",null===l||void 0===l?void 0:l.status]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Description: "})," ",null===l||void 0===l?void 0:l.description]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"VAT: "})," ",100*(null===l||void 0===l?void 0:l.vat)]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Currency code: "})," ",null===l||void 0===l?void 0:l.currencyCode]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Currency value: "})," ",null===l||void 0===l?void 0:l.currencyValue]})]},null===l||void 0===l?void 0:l.id)}),(0,h.jsx)(o.UF,{md:4,children:(0,h.jsxs)(o.E$,{className:"mb-4",children:[(0,h.jsx)(o.V0,{children:"Overview"}),(0,h.jsx)(o.W6,{children:(0,h.jsx)(a.aq,{data:{labels:["VueJs","EmberJs","ReactJs"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF"],data:[40,30,30]}]}})})]})}),m&&(0,h.jsx)(o.JT,{color:"primary"}),p&&(0,h.jsx)(o.Yq,{placement:"top-end",children:(0,h.jsx)(o.JY,{visible:!0,color:"danger",header:"Error",icon:"cil-ban",className:"text-white align-items-center",children:(0,h.jsxs)("div",{className:"d-flex",children:[(0,h.jsx)(o.Bw,{children:p}),(0,h.jsx)(o.vo,{className:"me-2 m-auto"})]})})}),x&&(0,h.jsx)(o.Yq,{placement:"top-end",children:(0,h.jsx)(o.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,h.jsxs)("div",{className:"d-flex",children:[(0,h.jsx)(o.Bw,{children:x}),(0,h.jsx)(o.vo,{className:"me-2 m-auto"})]})})})]})})}}}]);