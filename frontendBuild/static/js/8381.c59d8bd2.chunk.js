"use strict";(self.webpackChunk_ds_estimation_construction_web_app=self.webpackChunk_ds_estimation_construction_web_app||[]).push([[8381],{88381:(e,o,i)=>{i.r(o),i.d(o,{default:()=>f});var l=i(9950),t=i(49911),n=i(59051),r=i.n(n),d=i(59019),s=(i(60764),i(92560)),c=i(5386),a=i(73878),u=i(92686),v=i(44414);const m=()=>{var e,o,i,n;const[m,h]=(0,l.useState)(""),[x,p]=(0,l.useState)(""),[b,g]=(0,l.useState)(!1),{singleProject:j}=(0,a.d4)(u.Br),f=["January","February","March","April","May","June","July","August","September","October","November","December"],y=new Date,S=null===j||void 0===j||null===(e=j.activities)||void 0===e||null===(o=e.map((e,o)=>{var i;return{id:o+1,name:null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name,consumedExist:null===e||void 0===e?void 0:e.estimation_consumed.length,estimationTotalAmount:null===e||void 0===e?void 0:e.estimationTotalAmount}}))||void 0===o?void 0:o.filter((e,o)=>{if((null===e||void 0===e?void 0:e.consumedExist)>0)return e}),w=[...null===(i=new Map(null===S||void 0===S?void 0:S.map(e=>[e.name,e])))||void 0===i?void 0:i.values()],C=null===w||void 0===w?void 0:w.map((e,o)=>{var i,l,t,n,r,d,s,c,a,u,v,m,h,x,p,b,g,f,S,w,C,z,L,k;return{id:o+1,name:null===e||void 0===e?void 0:e.name,unit:" ",quantity:" ",rate:" ",thisMonthTotalConsumed:null===(i=Number(null===j||void 0===j||null===(l=j.activities)||void 0===l||null===(t=l.filter(o=>{var i;return(null===o||void 0===o||null===(i=o.category)||void 0===i?void 0:i.name)===(null===e||void 0===e?void 0:e.name)}))||void 0===t||null===(n=t.map(e=>{var o,i,l;return(null===e||void 0===e||null===(o=e.estimation_consumed)||void 0===o||null===(i=o.filter(e=>new Date(null===e||void 0===e?void 0:e.executedDate).getMonth()===y.getMonth()))||void 0===i||null===(l=i.map(e=>parseInt(null===e||void 0===e?void 0:e.executedQuantity)))||void 0===l?void 0:l.reduce((e,o)=>e+o,0))*(null===e||void 0===e?void 0:e.estimationRate)}))||void 0===n?void 0:n.reduce((e,o)=>e+o,0)))||void 0===i?void 0:i.toLocaleString(),lastMonthTotalConsumed:null===(r=Number(null===j||void 0===j||null===(d=j.activities)||void 0===d||null===(s=d.filter(o=>{var i;return(null===o||void 0===o||null===(i=o.category)||void 0===i?void 0:i.name)===(null===e||void 0===e?void 0:e.name)}))||void 0===s||null===(c=s.map(e=>{var o,i,l;return(null===e||void 0===e||null===(o=e.estimation_consumed)||void 0===o||null===(i=o.filter(e=>new Date(null===e||void 0===e?void 0:e.executedDate).getMonth()===y.getMonth()-1))||void 0===i||null===(l=i.map(e=>parseInt(null===e||void 0===e?void 0:e.executedQuantity)))||void 0===l?void 0:l.reduce((e,o)=>e+o,0))*(null===e||void 0===e?void 0:e.estimationRate)}))||void 0===c?void 0:c.reduce((e,o)=>e+o,0)))||void 0===r?void 0:r.toLocaleString(),totalConsumed:null===(a=Number(null===j||void 0===j||null===(u=j.activities)||void 0===u||null===(v=u.filter(o=>{var i;return(null===o||void 0===o||null===(i=o.category)||void 0===i?void 0:i.name)===(null===e||void 0===e?void 0:e.name)}).map(e=>{var o,i;return(null===e||void 0===e||null===(o=e.estimation_consumed)||void 0===o||null===(i=o.map(e=>parseInt(null===e||void 0===e?void 0:e.executedQuantity)))||void 0===i?void 0:i.reduce((e,o)=>e+o,0))*(null===e||void 0===e?void 0:e.estimationRate)}))||void 0===v?void 0:v.reduce((e,o)=>e+o,0)))||void 0===a?void 0:a.toLocaleString(),compltedPercentage:(null===(m=Number((null===j||void 0===j||null===(h=j.activities)||void 0===h||null===(x=h.filter(o=>{var i;return(null===o||void 0===o||null===(i=o.category)||void 0===i?void 0:i.name)===(null===e||void 0===e?void 0:e.name)}).map(e=>{var o,i;return(null===e||void 0===e||null===(o=e.estimation_consumed)||void 0===o||null===(i=o.map(e=>parseInt(null===e||void 0===e?void 0:e.executedQuantity)))||void 0===i?void 0:i.reduce((e,o)=>e+o,0))*(null===e||void 0===e?void 0:e.estimationRate)}))||void 0===x?void 0:x.reduce((e,o)=>e+o,0))/(null===j||void 0===j||null===(p=j.activities)||void 0===p||null===(b=p.filter(o=>{var i;return(null===o||void 0===o||null===(i=o.category)||void 0===i?void 0:i.name)===(null===e||void 0===e?void 0:e.name)}))||void 0===b||null===(g=b.map(e=>parseFloat((null===e||void 0===e?void 0:e.equipmentCostPerWorkItem)||0)))||void 0===g?void 0:g.reduce((e,o)=>e+o,0))*100||0))||void 0===m?void 0:m.toLocaleString())+" %",calculateAmount:null===j||void 0===j||null===(f=j.activities)||void 0===f||null===(S=f.filter(o=>{var i;return(null===o||void 0===o||null===(i=o.category)||void 0===i?void 0:i.name)===(null===e||void 0===e?void 0:e.name)}))||void 0===S||null===(w=S.map(e=>parseFloat((null===e||void 0===e?void 0:e.equipmentCostPerWorkItem)||0)))||void 0===w?void 0:w.reduce((e,o)=>e+o,0),amount:null===(C=Number(null===j||void 0===j||null===(z=j.activities)||void 0===z||null===(L=z.filter(o=>{var i;return(null===o||void 0===o||null===(i=o.category)||void 0===i?void 0:i.name)===(null===e||void 0===e?void 0:e.name)}))||void 0===L||null===(k=L.map(e=>parseFloat((null===e||void 0===e?void 0:e.equipmentCostPerWorkItem)||0)))||void 0===k?void 0:k.reduce((e,o)=>e+o,0)))||void 0===C?void 0:C.toLocaleString(),_props:{bgColor:"#e2e5de"}}}),z=null===C||void 0===C||null===(n=C.map(e=>null===e||void 0===e?void 0:e.calculateAmount))||void 0===n?void 0:n.reduce((e,o)=>e+o,0);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",margin:"-10px"},children:[(0,v.jsx)(t.p3,{title:(0,v.jsx)(t.Q_,{style:{fontWeight:500,margin:"-10px",color:"white",fontSize:"0.80rem"},onClick:()=>{var e;const o=new d.default;o.setFontSize(15);let i={startY:70,head:[["NAME","UNIT","QUANTITY","RATE","AMOUNT"]],body:null===(e=j.activities)||void 0===e?void 0:e.map((e,o)=>[e.name,e.estimationUnit,e.estimationQuantity,e.estimationRate,e.estimationTotalAmount])};o.autoTable({theme:"plain",headStyles:{fontSize:15},bodyStyles:{fontSize:15,fontStyle:"italic",backgroundColor:"#01579b",color:"#ffffff"},body:[["BOQ REPORTS"]]}),o.autoTable({theme:"plain",headStyles:{fontSize:15},bodyStyles:{fontSize:10,fontStyle:"italic",backgroundColor:"#01579b",color:"#ffffff"},body:[["Project Name:",j.name],["Client:",j.client],["Contractor:",j.contractor],["DATE:",r()(j.createdAt).format("DD-MM-YYYY h:mm")]]}),o.autoTable(i),o.autoTable({theme:"plain",headStyles:{fontSize:15},bodyStyles:{fontSize:15,fontStyle:"italic",backgroundColor:"#01579b",color:"#ffffff"},body:[["GRAND TOTAL"]]}),o.save("report.pdf")},color:"info",children:"Export as PDF"}),placement:"right",children:(0,v.jsx)(t.Q_,{size:"sm",color:"info",style:{fontWeight:500,marginBottom:"10px",color:"white",fontSize:"0.75rem"},children:"Download Report"})}),(0,v.jsx)("div",{style:{marginBottom:"2rem",width:"40%",fontSize:"0.75rem"},children:(0,v.jsxs)(t.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:b,onSubmit:e=>{e.preventDefault();!0===e.currentTarget.checkValidity()&&(console.log(m,x),g(!0))},children:[(0,v.jsxs)(t.UF,{md:5,children:[(0,v.jsx)(t.A6,{htmlFor:"validationCustom03",children:"From"}),(0,v.jsx)(t.OG,{size:"sm","aria-label":"fromDate",type:"date",id:"validationCustom01",required:!0,placeholder:"from date",name:"fromDate",value:m,onChange:e=>{h(e.target.value)}}),(0,v.jsx)(t.To,{invalid:!0,children:"Please provide from date"})]}),(0,v.jsxs)(t.UF,{md:5,children:[(0,v.jsx)(t.A6,{htmlFor:"validationCustom02",children:"Up to"}),(0,v.jsx)(t.OG,{size:"sm",type:"date",id:"validationCustom02",required:!0,placeholder:"end date",name:"endDate",value:x,onChange:e=>{p(e.target.value)}}),(0,v.jsx)(t.To,{invalid:!0,children:"Please provide end date."})]}),(0,v.jsxs)("div",{className:"col-md-2",children:[(0,v.jsx)("div",{style:{marginBottom:"0.5rem",visibility:"hidden"},children:"button"}),(0,v.jsx)(t.UF,{children:(0,v.jsx)(t.Q_,{color:"btn btn-info text-white",type:"submit",size:"sm",style:{backgroundColor:"rgb(1, 87, 155)"},children:"search"})})]})]})}),(0,v.jsx)(t.sK,{children:(0,v.jsxs)(t.UF,{xs:12,style:{fontSize:"10px",margin:"0px -10px"},children:[(0,v.jsxs)(t.V0,{style:{backgroundColor:"#01579b",color:"white",textAlign:"center",fontSize:"0.95rem"},children:[(0,v.jsxs)("strong",{children:[null===j||void 0===j?void 0:j.name," "]})," ",(0,v.jsx)("strong",{style:{marginLeft:"150px"},children:"Quantinties "})," ",(0,v.jsx)("strong",{style:{marginLeft:"100px"},children:" Amount "})]}),(0,v.jsxs)(t._v,{hover:!0,bordered:!0,borderColor:"info",style:{fontSize:"0.7rem"},children:[(0,v.jsx)(t.wV,{children:(0,v.jsxs)(t.YI,{style:{backgroundColor:"#01579b",color:"white"},children:[(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"ID"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Description"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Quantity"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Unit"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Rate"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Amount"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem",borderLeft:"3px solid black"},scope:"col",children:"GROSS"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:f[y.getMonth()-1]}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:f[y.getMonth()]}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem",borderLeft:"3px solid black"},scope:"col",children:"GROSS"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:f[y.getMonth()-1]}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:f[y.getMonth()]}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem",borderLeft:"3px solid black"},scope:"col",children:"%Complete"})]})}),null===C||void 0===C?void 0:C.map((e,o)=>{var i,l;return(0,v.jsxs)(t.jS,{children:[(0,v.jsxs)(t.YI,{style:{backgroundColor:"#ccc",fontWeight:600},children:[(0,v.jsx)(t.cC,{children:"".concat(o+1)}),(0,v.jsx)(t.cC,{colSpan:"4",children:null===e||void 0===e?void 0:e.name}),(0,v.jsx)(t.cC,{children:null===e||void 0===e?void 0:e.amount}),(0,v.jsx)(t.cC,{colSpan:"3",style:{borderLeft:"3px solid black"},children:" "}),(0,v.jsxs)(t.cC,{style:{borderLeft:"3px solid black"},children:[null===e||void 0===e?void 0:e.totalConsumed," "]}),(0,v.jsx)(t.cC,{children:null===e||void 0===e?void 0:e.lastMonthTotalConsumed}),(0,v.jsx)(t.cC,{children:null===e||void 0===e?void 0:e.thisMonthTotalConsumed}),(0,v.jsx)(t.cC,{style:{borderLeft:"3px solid black"},children:null===e||void 0===e?void 0:e.compltedPercentage})]}),null===j||void 0===j||null===(i=j.activities)||void 0===i||null===(l=i.filter(o=>{var i;return(null===o||void 0===o||null===(i=o.category)||void 0===i?void 0:i.name)===(null===e||void 0===e?void 0:e.name)&&0!==(null===o||void 0===o?void 0:o.estimation_consumed.length)}))||void 0===l?void 0:l.map((e,i)=>{var l,n,r,d,s,c,a,u,m,h,x,p,b,g,j,f,S,w;return(0,v.jsxs)(t.YI,{children:[(0,v.jsx)(t.cC,{children:"".concat(o+1,".").concat(i+1)}),(0,v.jsx)(t.cC,{children:null===e||void 0===e?void 0:e.name}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e?void 0:e.estimationQuantity).toLocaleString()}),(0,v.jsx)(t.cC,{children:null===e||void 0===e?void 0:e.estimationUnit}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e?void 0:e.estimationRate).toLocaleString()||0}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e?void 0:e.estimationTotalAmount).toLocaleString()||0}),(0,v.jsx)(t.cC,{style:{borderLeft:"3px solid black"},children:null===e||void 0===e||null===(l=e.estimation_consumed)||void 0===l||null===(n=l.map(e=>parseInt(e.executedQuantity)))||void 0===n?void 0:n.reduce((e,o)=>e+o,0)}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(r=e.estimation_consumed)||void 0===r||null===(d=r.filter(e=>new Date(null===e||void 0===e?void 0:e.executedDate).getMonth()===y.getMonth()-1))||void 0===d||null===(s=d.map(e=>parseInt(null===e||void 0===e?void 0:e.executedQuantity)))||void 0===s?void 0:s.reduce((e,o)=>e+o,0)}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(c=e.estimation_consumed)||void 0===c||null===(a=c.filter(e=>new Date(null===e||void 0===e?void 0:e.executedDate).getMonth()===y.getMonth()))||void 0===a||null===(u=a.map(e=>parseInt(null===e||void 0===e?void 0:e.executedQuantity)))||void 0===u?void 0:u.reduce((e,o)=>e+o,0)}),(0,v.jsx)(t.cC,{style:{borderLeft:"3px solid black"},children:Number((null===e||void 0===e||null===(m=e.estimation_consumed)||void 0===m||null===(h=m.map(e=>parseInt(null===e||void 0===e?void 0:e.executedQuantity)))||void 0===h?void 0:h.reduce((e,o)=>e+o,0))*(null===e||void 0===e?void 0:e.estimationRate)).toLocaleString()}),(0,v.jsx)(t.cC,{children:Number((null===e||void 0===e||null===(x=e.estimation_consumed)||void 0===x||null===(p=x.filter(e=>new Date(null===e||void 0===e?void 0:e.executedDate).getMonth()===y.getMonth()-1))||void 0===p||null===(b=p.map(e=>parseInt(null===e||void 0===e?void 0:e.executedQuantity)))||void 0===b?void 0:b.reduce((e,o)=>e+o,0))*(null===e||void 0===e?void 0:e.estimationRate)).toLocaleString()}),(0,v.jsx)(t.cC,{children:Number((null===e||void 0===e||null===(g=e.estimation_consumed)||void 0===g||null===(j=g.filter(e=>new Date(null===e||void 0===e?void 0:e.executedDate).getMonth()===y.getMonth()))||void 0===j||null===(f=j.map(e=>parseInt(null===e||void 0===e?void 0:e.executedQuantity)))||void 0===f?void 0:f.reduce((e,o)=>e+o,0))*(null===e||void 0===e?void 0:e.estimationRate)).toLocaleString()}),(0,v.jsx)(t.cC,{style:{borderLeft:"3px solid black"},children:"".concat(Number((null===e||void 0===e||null===(S=e.estimation_consumed)||void 0===S||null===(w=S.map(e=>parseInt(null===e||void 0===e?void 0:e.executedQuantity)))||void 0===w?void 0:w.reduce((e,o)=>e+o,0))*(null===e||void 0===e?void 0:e.estimationRate)/(null===e||void 0===e?void 0:e.estimationTotalAmount)*100||0).toLocaleString()," %")})]},e.id+987)})]},(null===e||void 0===e?void 0:e.id)+560)})]}),(0,v.jsx)("div",{style:{backgroundColor:"#01579b",width:"100%"},children:(0,v.jsxs)(s.A,{children:[(0,v.jsx)(c.A,{style:{paddingLeft:"21px",fontSize:"1rem",color:"white",fontWeight:"bold"},colSpan:3,children:"Grand Total:"}),(0,v.jsx)(c.A,{style:{fontSize:"1rem",color:"white",fontWeight:"bold",float:"right"},colSpan:4,children:"".concat(Number(z).toLocaleString()," ").concat(null===j||void 0===j?void 0:j.currencyCode)})]})})]})})]})})};var h=i(89379);const x=()=>{var e,o,i,n,r,d,s,c,m,x;const[p,b]=(0,l.useState)(""),[g,j]=(0,l.useState)(""),[f,y]=(0,l.useState)(!1),{singleProject:S}=(0,a.d4)(u.Br);let w=[];null===S||void 0===S||null===(e=S.activities)||void 0===e||null===(o=e.filter(e=>0!==(null===e||void 0===e?void 0:e.estimation_consumed.length)))||void 0===o||null===(i=o.map(e=>null===e||void 0===e?void 0:e.estimation_consumed))||void 0===i||i.map(e=>null===e||void 0===e?void 0:e.map(e=>{var o;return w=null===(o=w)||void 0===o?void 0:o.concat(null===e||void 0===e?void 0:e.consumed_equipment)}));let C=[];null===S||void 0===S||null===(n=S.activities)||void 0===n||n.map(e=>{var o;return C=null===(o=C)||void 0===o?void 0:o.concat(null===e||void 0===e?void 0:e.equipments)});const z=null===(r=w)||void 0===r?void 0:r.map(e=>{var o;return(0,h.A)((0,h.A)({},e),{},{plannedEquipment:null===(o=C)||void 0===o?void 0:o.filter(o=>{var i;return(null===o||void 0===o?void 0:o.name)===(null===e||void 0===e||null===(i=e.consumed_equipment)||void 0===i?void 0:i.name)})})});null===z||void 0===z||null===(d=z.sort((e,o)=>new Date(null===e||void 0===e?void 0:e.consumedDate)-new Date(null===o||void 0===o?void 0:o.consumedDate)))||void 0===d||d.reverse();const[L,k]=(0,l.useState)(z),D=null===L||void 0===L?void 0:L.map(e=>parseFloat(null===e||void 0===e?void 0:e.consumedTotal)).reduce((e,o)=>e+o,0),A=null===L||void 0===L||null===(s=L.map(e=>{var o,i;return parseFloat(null===e||void 0===e||null===(o=e.plannedEquipment[0])||void 0===o||null===(i=o.UserEstimationLibrary)||void 0===i?void 0:i.equipmentTotalAmount)}))||void 0===s?void 0:s.reduce((e,o)=>e+o,0);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",margin:"-10px"},children:[(0,v.jsx)(t.p3,{title:(0,v.jsx)(t.Q_,{style:{fontWeight:500,margin:"-10px",color:"white",fontSize:"0.80rem"},color:"info",children:"Export as PDF"}),placement:"right",children:(0,v.jsx)(t.Q_,{size:"sm",color:"info",style:{fontWeight:500,marginBottom:"10px",color:"white",fontSize:"0.75rem"},children:"Download Report"})}),(0,v.jsx)("div",{style:{marginBottom:"2rem",width:"40%",fontSize:"0.75rem"},children:(0,v.jsxs)(t.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:f,onSubmit:e=>{e.preventDefault();!0===e.currentTarget.checkValidity()&&(y(!0),k(null===z||void 0===z?void 0:z.filter(e=>e.consumedDate>=p&&e.consumedDate<=g)))},children:[(0,v.jsxs)(t.UF,{md:5,children:[(0,v.jsx)(t.A6,{htmlFor:"validationCustom03",children:"From"}),(0,v.jsx)(t.OG,{size:"sm","aria-label":"fromDate",type:"date",id:"validationCustom01",required:!0,placeholder:"from date",name:"fromDate",value:p,onChange:e=>{b(e.target.value)}}),(0,v.jsx)(t.To,{invalid:!0,children:"Please provide from date"})]}),(0,v.jsxs)(t.UF,{md:5,children:[(0,v.jsx)(t.A6,{htmlFor:"validationCustom02",children:"Up to"}),(0,v.jsx)(t.OG,{size:"sm",type:"date",id:"validationCustom02",required:!0,placeholder:"end date",name:"endDate",value:g,onChange:e=>{j(e.target.value)}}),(0,v.jsx)(t.To,{invalid:!0,children:"Please provide end date."})]}),(0,v.jsxs)("div",{className:"col-md-2",children:[(0,v.jsx)("div",{style:{marginBottom:"0.5rem",visibility:"hidden"},children:"button"}),(0,v.jsx)(t.UF,{children:(0,v.jsx)(t.Q_,{color:"btn btn-info text-white",type:"submit",size:"sm",style:{backgroundColor:"rgb(1, 87, 155)"},children:"search"})})]})]})}),(0,v.jsx)(t.sK,{children:(0,v.jsxs)(t.UF,{xs:12,style:{fontSize:"10px",margin:"0px -10px"},children:[(0,v.jsxs)(t.V0,{style:{backgroundColor:"#01579b",color:"white",textAlign:"center",fontSize:"0.95rem"},children:[(0,v.jsx)("strong",{style:{marginLeft:"300px"},children:" Planned "})," ",(0,v.jsx)("strong",{style:{marginLeft:"150px"},children:"Actual "})]}),(0,v.jsxs)(t._v,{hover:!0,bordered:!0,borderColor:"info",style:{fontSize:"0.7rem"},children:[(0,v.jsx)(t.wV,{children:(0,v.jsxs)(t.YI,{style:{backgroundColor:"#01579b",color:"white"},children:[(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Date"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Description"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Quantity"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Unit"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Rate"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Amount"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem",borderLeft:"3px solid black"},scope:"col",children:"Quantity"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Unit"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Rate"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Amount"})]})}),(0,v.jsx)(t.jS,{children:null===L||void 0===L?void 0:L.map(e=>{var o,i,l,n,r,d,s,c;return(0,v.jsxs)(t.YI,{children:[(0,v.jsx)(t.cC,{children:null===e||void 0===e?void 0:e.consumedDate}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(o=e.consumed_equipment)||void 0===o?void 0:o.name}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(i=e.plannedEquipment[0])||void 0===i||null===(l=i.UserEstimationLibrary)||void 0===l?void 0:l.equipmentPerformance).toLocaleString()}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(n=e.consumed_equipment)||void 0===n?void 0:n.unit}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(r=e.plannedEquipment[0])||void 0===r?void 0:r.hireRatePrice).toLocaleString()}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(d=e.plannedEquipment[0])||void 0===d||null===(s=d.UserEstimationLibrary)||void 0===s?void 0:s.equipmentTotalAmount).toLocaleString()}),(0,v.jsx)(t.cC,{style:{borderLeft:"3px solid black"},children:Number(null===e||void 0===e?void 0:e.consumedQuantity).toLocaleString()}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(c=e.consumed_equipment)||void 0===c?void 0:c.unit}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e?void 0:e.consumedPrice).toLocaleString()}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e?void 0:e.consumedTotal).toLocaleString()})]},e.id+95487)})})]}),(0,v.jsxs)(t.sK,{children:[(0,v.jsx)(t.UF,{xs:5,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",border:"1px solid white"},children:"Total Amount:"}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",border:"1px solid white"},children:null===(c=Number(A))||void 0===c?void 0:c.toLocaleString()}),(0,v.jsx)(t.UF,{xs:4,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",padding:"5px",border:"1px solid white"},children:null===(m=Number(D))||void 0===m?void 0:m.toLocaleString()})]}),(0,v.jsxs)(t.sK,{children:[(0,v.jsx)(t.UF,{xs:6,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",borderBottom:"1px solid white",borderLeft:"1px solid white"},children:"Deviation:"}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",borderBottom:"1px solid white"}}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",padding:"5px",borderRight:"1px solid white"},children:null===(x=Number(A-D))||void 0===x?void 0:x.toLocaleString()})]})]})})]})})},p=()=>{var e,o,i,n,r,d,s,c,m,x,p;const[b,g]=(0,l.useState)(""),[j,f]=(0,l.useState)(""),[y,S]=(0,l.useState)(!1),{singleProject:w}=(0,a.d4)(u.Br);let C=[];null===w||void 0===w||null===(e=w.activities)||void 0===e||null===(o=e.filter(e=>0!==(null===e||void 0===e?void 0:e.estimation_consumed.length)))||void 0===o||null===(i=o.map(e=>null===e||void 0===e?void 0:e.estimation_consumed))||void 0===i||i.map(e=>null===e||void 0===e?void 0:e.map(e=>{var o;return C=null===(o=C)||void 0===o?void 0:o.concat(null===e||void 0===e?void 0:e.consumed_material)}));let z=[];null===w||void 0===w||null===(n=w.activities)||void 0===n||n.map(e=>{var o;return z=null===(o=z)||void 0===o?void 0:o.concat(null===e||void 0===e?void 0:e.materials)});const L=null===(r=C)||void 0===r?void 0:r.map(e=>{var o;return(0,h.A)((0,h.A)({},e),{},{plannedMaterial:null===(o=z)||void 0===o?void 0:o.filter(o=>{var i;return(null===o||void 0===o?void 0:o.name)===(null===e||void 0===e||null===(i=e.consumed_material)||void 0===i?void 0:i.name)})})});null===L||void 0===L||null===(d=L.sort((e,o)=>new Date(null===e||void 0===e?void 0:e.consumedDate)-new Date(null===o||void 0===o?void 0:o.consumedDate)))||void 0===d||d.reverse();const[k,D]=(0,l.useState)(L),A=null===k||void 0===k||null===(s=k.map(e=>parseFloat(null===e||void 0===e?void 0:e.consumedTotal)))||void 0===s?void 0:s.reduce((e,o)=>e+o,0),F=null===k||void 0===k||null===(c=k.map(e=>{var o,i;return parseFloat(null===e||void 0===e||null===(o=e.plannedMaterial[0])||void 0===o||null===(i=o.UserEstimationLibrary)||void 0===i?void 0:i.materialTotalAmount)}))||void 0===c?void 0:c.reduce((e,o)=>e+o,0);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",margin:"-10px"},children:[(0,v.jsx)(t.p3,{title:(0,v.jsx)(t.Q_,{style:{fontWeight:500,margin:"-10px",color:"white",fontSize:"0.80rem"},color:"info",children:"Export as PDF"}),placement:"right",children:(0,v.jsx)(t.Q_,{size:"sm",color:"info",style:{fontWeight:500,marginBottom:"10px",color:"white",fontSize:"0.75rem"},children:"Download Report"})}),(0,v.jsx)("div",{style:{marginBottom:"2rem",width:"40%",fontSize:"0.75rem"},children:(0,v.jsxs)(t.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:y,onSubmit:e=>{e.preventDefault();!0===e.currentTarget.checkValidity()&&(S(!0),D(null===L||void 0===L?void 0:L.filter(e=>e.consumedDate>=b&&e.consumedDate<=j)))},children:[(0,v.jsxs)(t.UF,{md:5,children:[(0,v.jsx)(t.A6,{htmlFor:"validationCustom03",children:"From"}),(0,v.jsx)(t.OG,{size:"sm","aria-label":"fromDate",type:"date",id:"validationCustom01",required:!0,placeholder:"from date",name:"fromDate",value:b,onChange:e=>{g(e.target.value)}}),(0,v.jsx)(t.To,{invalid:!0,children:"Please provide from date"})]}),(0,v.jsxs)(t.UF,{md:5,children:[(0,v.jsx)(t.A6,{htmlFor:"validationCustom02",children:"Up to"}),(0,v.jsx)(t.OG,{size:"sm",type:"date",id:"validationCustom02",required:!0,placeholder:"end date",name:"endDate",value:j,onChange:e=>{f(e.target.value)}}),(0,v.jsx)(t.To,{invalid:!0,children:"Please provide end date."})]}),(0,v.jsxs)("div",{className:"col-md-2",children:[(0,v.jsx)("div",{style:{marginBottom:"0.5rem",visibility:"hidden"},children:"button"}),(0,v.jsx)(t.UF,{children:(0,v.jsx)(t.Q_,{color:"btn btn-info text-white",type:"submit",size:"sm",style:{backgroundColor:"rgb(1, 87, 155)"},children:"search"})})]})]})}),(0,v.jsx)(t.sK,{children:(0,v.jsxs)(t.UF,{xs:12,style:{fontSize:"10px",margin:"0px -10px"},children:[(0,v.jsxs)(t.V0,{style:{backgroundColor:"#01579b",color:"white",textAlign:"center",fontSize:"0.95rem"},children:[(0,v.jsx)("strong",{style:{marginLeft:"300px"},children:" Planned "})," ",(0,v.jsx)("strong",{style:{marginLeft:"150px"},children:"Actual "})]}),(0,v.jsxs)(t._v,{hover:!0,bordered:!0,borderColor:"info",style:{fontSize:"0.7rem"},children:[(0,v.jsx)(t.wV,{children:(0,v.jsxs)(t.YI,{style:{backgroundColor:"#01579b",color:"white"},children:[(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Date"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Description"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Quantity"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Unit"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Rate"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Amount"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem",borderLeft:"3px solid black"},scope:"col",children:"Quantity"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Unit"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Rate"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Amount"})]})}),(0,v.jsx)(t.jS,{children:null===k||void 0===k?void 0:k.map(e=>{var o,i,l,n,r,d,s,c;return(0,v.jsxs)(t.YI,{children:[(0,v.jsx)(t.cC,{children:null===e||void 0===e?void 0:e.consumedDate}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(o=e.consumed_material)||void 0===o?void 0:o.name}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(i=e.plannedMaterial[0])||void 0===i||null===(l=i.UserEstimationLibrary)||void 0===l?void 0:l.materialFactorQuantity).toLocaleString()}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(n=e.consumed_material)||void 0===n?void 0:n.unit}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(r=e.plannedMaterial[0])||void 0===r?void 0:r.price).toLocaleString()}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(d=e.plannedMaterial[0])||void 0===d||null===(s=d.UserEstimationLibrary)||void 0===s?void 0:s.materialTotalAmount).toLocaleString()}),(0,v.jsx)(t.cC,{style:{borderLeft:"3px solid black"},children:Number(null===e||void 0===e?void 0:e.consumedQuantity).toLocaleString()}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(c=e.consumed_material)||void 0===c?void 0:c.unit}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e?void 0:e.consumedPrice).toLocaleString()}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e?void 0:e.consumedTotal).toLocaleString()})]},(null===e||void 0===e?void 0:e.id)+95487)})})]}),(0,v.jsxs)("div",{style:{backgroundColor:"#01579b",width:"100%"},children:[(0,v.jsxs)(t.sK,{children:[(0,v.jsx)(t.UF,{xs:4,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",border:"1px solid white"},children:"Total Amount:"}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",border:"1px solid white"},children:null===(m=Number(F))||void 0===m?void 0:m.toLocaleString()}),(0,v.jsx)(t.UF,{xs:5,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",padding:"5px",border:"1px solid white"},children:null===(x=Number(A))||void 0===x?void 0:x.toLocaleString()})]}),(0,v.jsxs)(t.sK,{children:[(0,v.jsx)(t.UF,{xs:6,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",borderBottom:"1px solid white",borderLeft:"1px solid white"},children:"Deviation:"}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",borderBottom:"1px solid white"}}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",padding:"5px",borderRight:"1px solid white"},children:null===(p=Number(F-A))||void 0===p?void 0:p.toLocaleString()})]})]})]})})]})})},b=()=>{var e,o,i,n,r,d,s,c,m,x,p;const[b,g]=(0,l.useState)(""),[j,f]=(0,l.useState)(""),[y,S]=(0,l.useState)(!1),{singleProject:w}=(0,a.d4)(u.Br);let C=[];null===w||void 0===w||null===(e=w.activities)||void 0===e||null===(o=e.filter(e=>0!==(null===e||void 0===e?void 0:e.estimation_consumed.length)))||void 0===o||null===(i=o.map(e=>null===e||void 0===e?void 0:e.estimation_consumed))||void 0===i||i.map(e=>null===e||void 0===e?void 0:e.map(e=>{var o;return C=null===(o=C)||void 0===o?void 0:o.concat(null===e||void 0===e?void 0:e.consumed_labour)}));let z=[];null===w||void 0===w||null===(n=w.activities)||void 0===n||n.map(e=>{var o;return z=null===(o=z)||void 0===o?void 0:o.concat(null===e||void 0===e?void 0:e.labours)});const L=null===(r=C)||void 0===r?void 0:r.map(e=>{var o;return(0,h.A)((0,h.A)({},e),{},{plannedEquipment:null===(o=z)||void 0===o?void 0:o.filter(o=>{var i;return(null===o||void 0===o?void 0:o.name)===(null===e||void 0===e||null===(i=e.consumed_labour)||void 0===i?void 0:i.name)})})});null===L||void 0===L||null===(d=L.sort((e,o)=>new Date(null===e||void 0===e?void 0:e.consumedDate)-new Date(null===o||void 0===o?void 0:o.consumedDate)))||void 0===d||d.reverse();const[k,D]=(0,l.useState)(L),A=null===k||void 0===k||null===(s=k.map(e=>parseFloat(null===e||void 0===e?void 0:e.consumedTotal)))||void 0===s?void 0:s.reduce((e,o)=>e+o,0),F=null===k||void 0===k||null===(c=k.map(e=>{var o,i;return parseFloat(null===e||void 0===e||null===(o=e.plannedEquipment[0])||void 0===o||null===(i=o.UserEstimationLibrary)||void 0===i?void 0:i.labourTotalAmount)}))||void 0===c?void 0:c.reduce((e,o)=>e+o,0);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",margin:"-10px"},children:[(0,v.jsx)(t.p3,{title:(0,v.jsx)(t.Q_,{style:{fontWeight:500,margin:"-10px",color:"white",fontSize:"0.80rem"},color:"info",children:"Export as PDF"}),placement:"right",children:(0,v.jsx)(t.Q_,{size:"sm",color:"info",style:{fontWeight:500,marginBottom:"10px",color:"white",fontSize:"0.75rem"},children:"Download Report"})}),(0,v.jsx)("div",{style:{marginBottom:"2rem",width:"40%",fontSize:"0.75rem"},children:(0,v.jsxs)(t.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:y,onSubmit:e=>{e.preventDefault();!0===e.currentTarget.checkValidity()&&(S(!0),D(null===L||void 0===L?void 0:L.filter(e=>e.consumedDate>=b&&e.consumedDate<=j)))},children:[(0,v.jsxs)(t.UF,{md:5,children:[(0,v.jsx)(t.A6,{htmlFor:"validationCustom03",children:"From"}),(0,v.jsx)(t.OG,{size:"sm","aria-label":"fromDate",type:"date",id:"validationCustom01",required:!0,placeholder:"from date",name:"fromDate",value:b,onChange:e=>{g(e.target.value)}}),(0,v.jsx)(t.To,{invalid:!0,children:"Please provide from date"})]}),(0,v.jsxs)(t.UF,{md:5,children:[(0,v.jsx)(t.A6,{htmlFor:"validationCustom02",children:"Up to"}),(0,v.jsx)(t.OG,{size:"sm",type:"date",id:"validationCustom02",required:!0,placeholder:"end date",name:"endDate",value:j,onChange:e=>{f(e.target.value)}}),(0,v.jsx)(t.To,{invalid:!0,children:"Please provide end date."})]}),(0,v.jsxs)("div",{className:"col-md-2",children:[(0,v.jsx)("div",{style:{marginBottom:"0.5rem",visibility:"hidden"},children:"button"}),(0,v.jsx)(t.UF,{children:(0,v.jsx)(t.Q_,{color:"btn btn-info text-white",type:"submit",size:"sm",style:{backgroundColor:"rgb(1, 87, 155)"},children:"search"})})]})]})}),(0,v.jsx)(t.sK,{children:(0,v.jsxs)(t.UF,{xs:12,style:{fontSize:"10px",margin:"0px -10px"},children:[(0,v.jsxs)(t.V0,{style:{backgroundColor:"#01579b",color:"white",textAlign:"center",fontSize:"0.95rem"},children:[(0,v.jsx)("strong",{style:{marginLeft:"300px"},children:" Planned "})," ",(0,v.jsx)("strong",{style:{marginLeft:"150px"},children:"Actual "})]}),(0,v.jsxs)(t._v,{hover:!0,bordered:!0,borderColor:"info",style:{fontSize:"0.7rem"},children:[(0,v.jsx)(t.wV,{children:(0,v.jsxs)(t.YI,{style:{backgroundColor:"#01579b",color:"white"},children:[(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Date"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Description"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Quantity"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Unit"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Rate"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Amount"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem",borderLeft:"3px solid black"},scope:"col",children:"Quantity"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Unit"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Rate"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Amount"})]})}),(0,v.jsx)(t.jS,{children:null===k||void 0===k?void 0:k.map(e=>{var o,i,l,n,r,d,s;return(0,v.jsxs)(t.YI,{children:[(0,v.jsx)(t.cC,{children:null===e||void 0===e?void 0:e.consumedDate}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(o=e.consumed_labour)||void 0===o?void 0:o.name}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(i=e.plannedEquipment[0])||void 0===i?void 0:i.number).toLocaleString()}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(l=e.consumed_labour)||void 0===l?void 0:l.unit}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(n=e.plannedEquipment[0])||void 0===n?void 0:n.wages).toLocaleString()}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(r=e.plannedEquipment[0])||void 0===r||null===(d=r.UserEstimationLibrary)||void 0===d?void 0:d.labourTotalAmount).toLocaleString()}),(0,v.jsx)(t.cC,{style:{borderLeft:"3px solid black"},children:Number(null===e||void 0===e?void 0:e.consumedQuantity).toLocaleString()}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(s=e.consumed_labour)||void 0===s?void 0:s.unit}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e?void 0:e.consumedPrice).toLocaleString()}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e?void 0:e.consumedTotal).toLocaleString()})]},e.id+95487)})})]}),(0,v.jsxs)("div",{style:{backgroundColor:"#01579b",width:"100%"},children:[(0,v.jsxs)(t.sK,{children:[(0,v.jsx)(t.UF,{xs:4,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",border:"1px solid white"},children:"Total Amount:"}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",border:"1px solid white"},children:null===(m=Number(F))||void 0===m?void 0:m.toLocaleString()}),(0,v.jsx)(t.UF,{xs:5,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",padding:"5px",border:"1px solid white"},children:null===(x=Number(A))||void 0===x?void 0:x.toLocaleString()})]}),(0,v.jsxs)(t.sK,{children:[(0,v.jsx)(t.UF,{xs:6,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",borderBottom:"1px solid white",borderLeft:"1px solid white"},children:"Deviation:"}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",borderBottom:"1px solid white"}}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",padding:"5px",borderRight:"1px solid white"},children:null===(p=Number(F-A))||void 0===p?void 0:p.toLocaleString()})]})]})]})})]})})},g=()=>{var e,o,i,n,r,d,s,c,m,x,p;const[b,g]=(0,l.useState)(""),[j,f]=(0,l.useState)(""),[y,S]=(0,l.useState)(!1),{singleProject:w}=(0,a.d4)(u.Br);let C=[];null===w||void 0===w||null===(e=w.activities)||void 0===e||null===(o=e.filter(e=>0!==e.estimation_consumed.length))||void 0===o||null===(i=o.map(e=>e.estimation_consumed))||void 0===i||i.map(e=>null===e||void 0===e?void 0:e.map(e=>{var o;return C=null===(o=C)||void 0===o?void 0:o.concat(e.consumed_subcontractor)}));let z=[];null===w||void 0===w||null===(n=w.activities)||void 0===n||n.map(e=>z=z.concat(e.subContractors));const L=null===(r=C)||void 0===r?void 0:r.map(e=>{var o;return(0,h.A)((0,h.A)({},e),{},{plannedEquipment:null===(o=z)||void 0===o?void 0:o.filter(o=>{var i;return o.name===(null===e||void 0===e||null===(i=e.consumed_subcontractor)||void 0===i?void 0:i.name)})})});null===L||void 0===L||null===(d=L.sort((e,o)=>new Date(null===e||void 0===e?void 0:e.consumedDate)-new Date(null===o||void 0===o?void 0:o.consumedDate)))||void 0===d||d.reverse();const[k,D]=(0,l.useState)(L),A=null===k||void 0===k||null===(s=k.map(e=>parseFloat(null===e||void 0===e?void 0:e.consumedTotal)))||void 0===s?void 0:s.reduce((e,o)=>e+o,0),F=null===k||void 0===k||null===(c=k.map(e=>{var o,i;return parseFloat(null===e||void 0===e||null===(o=e.plannedEquipment[0])||void 0===o||null===(i=o.UserEstimationLibrary)||void 0===i?void 0:i.subContractorTotalAmount)}))||void 0===c?void 0:c.reduce((e,o)=>e+o,0);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",margin:"-10px"},children:[(0,v.jsx)(t.p3,{title:(0,v.jsx)(t.Q_,{style:{fontWeight:500,margin:"-10px",color:"white",fontSize:"0.80rem"},color:"info",children:"Export as PDF"}),placement:"right",children:(0,v.jsx)(t.Q_,{size:"sm",color:"info",style:{fontWeight:500,marginBottom:"10px",color:"white",fontSize:"0.75rem"},children:"Download Report"})}),(0,v.jsx)("div",{style:{marginBottom:"2rem",width:"40%",fontSize:"0.75rem"},children:(0,v.jsxs)(t.qI,{className:"row g-3 needs-validation",noValidate:!0,validated:y,onSubmit:e=>{e.preventDefault();!0===e.currentTarget.checkValidity()&&(S(!0),D(null===L||void 0===L?void 0:L.filter(e=>e.consumedDate>=b&&e.consumedDate<=j)))},children:[(0,v.jsxs)(t.UF,{md:5,children:[(0,v.jsx)(t.A6,{htmlFor:"validationCustom03",children:"From"}),(0,v.jsx)(t.OG,{size:"sm","aria-label":"fromDate",type:"date",id:"validationCustom01",required:!0,placeholder:"from date",name:"fromDate",value:b,onChange:e=>{g(e.target.value)}}),(0,v.jsx)(t.To,{invalid:!0,children:"Please provide from date"})]}),(0,v.jsxs)(t.UF,{md:5,children:[(0,v.jsx)(t.A6,{htmlFor:"validationCustom02",children:"Up to"}),(0,v.jsx)(t.OG,{size:"sm",type:"date",id:"validationCustom02",required:!0,placeholder:"end date",name:"endDate",value:j,onChange:e=>{f(e.target.value)}}),(0,v.jsx)(t.To,{invalid:!0,children:"Please provide end date."})]}),(0,v.jsxs)("div",{className:"col-md-2",children:[(0,v.jsx)("div",{style:{marginBottom:"0.5rem",visibility:"hidden"},children:"button"}),(0,v.jsx)(t.UF,{children:(0,v.jsx)(t.Q_,{color:"btn btn-info text-white",type:"submit",size:"sm",style:{backgroundColor:"rgb(1, 87, 155)"},children:"search"})})]})]})}),(0,v.jsx)(t.sK,{children:(0,v.jsxs)(t.UF,{xs:12,style:{fontSize:"10px",margin:"0px -10px"},children:[(0,v.jsxs)(t.V0,{style:{backgroundColor:"#01579b",color:"white",textAlign:"center",fontSize:"0.95rem"},children:[(0,v.jsx)("strong",{style:{marginLeft:"300px"},children:" Planned "})," ",(0,v.jsx)("strong",{style:{marginLeft:"150px"},children:"Actual "})]}),(0,v.jsxs)(t._v,{hover:!0,bordered:!0,borderColor:"info",style:{fontSize:"0.7rem"},children:[(0,v.jsx)(t.wV,{children:(0,v.jsxs)(t.YI,{style:{backgroundColor:"#01579b",color:"white"},children:[(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Date"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Description"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Quantity"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Unit"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Rate"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Amount"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem",borderLeft:"3px solid black"},scope:"col",children:"Quantity"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Unit"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Rate"}),(0,v.jsx)(t.$s,{style:{color:"white",fontSize:"0.75rem"},scope:"col",children:"Amount"})]})}),(0,v.jsx)(t.jS,{children:null===k||void 0===k?void 0:k.map(e=>{var o,i,l,n,r,d;return(0,v.jsxs)(t.YI,{children:[(0,v.jsx)(t.cC,{children:null===e||void 0===e?void 0:e.consumedDate}),(0,v.jsx)(t.cC,{children:null===e||void 0===e?void 0:e.name}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(o=e.plannedEquipment[0])||void 0===o?void 0:o.quantity).toLocaleString()}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(i=e.consumed_subcontractor)||void 0===i?void 0:i.unit}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(l=e.plannedEquipment[0])||void 0===l?void 0:l.hireRatePrice).toLocaleString()}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e||null===(n=e.plannedEquipment[0])||void 0===n||null===(r=n.UserEstimationLibrary)||void 0===r?void 0:r.subContractorTotalAmount).toLocaleString()}),(0,v.jsx)(t.cC,{style:{borderLeft:"3px solid black"},children:Number(null===e||void 0===e?void 0:e.consumedQuantity).toLocaleString()}),(0,v.jsx)(t.cC,{children:null===e||void 0===e||null===(d=e.consumed_subcontractor)||void 0===d?void 0:d.unit}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e?void 0:e.consumedPrice).toLocaleString()}),(0,v.jsx)(t.cC,{children:Number(null===e||void 0===e?void 0:e.consumedTotal).toLocaleString()})]},e.id+95487)})})]}),(0,v.jsxs)("div",{style:{backgroundColor:"#01579b",width:"100%"},children:[(0,v.jsxs)(t.sK,{children:[(0,v.jsx)(t.UF,{xs:4,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",border:"1px solid white"},children:"Total Amount:"}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",border:"1px solid white"},children:null===(m=Number(F))||void 0===m?void 0:m.toLocaleString()}),(0,v.jsx)(t.UF,{xs:5,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",padding:"5px",border:"1px solid white"},children:null===(x=Number(A))||void 0===x?void 0:x.toLocaleString()})]}),(0,v.jsxs)(t.sK,{children:[(0,v.jsx)(t.UF,{xs:6,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",padding:"5px",borderBottom:"1px solid white",borderLeft:"1px solid white"},children:"Deviation:"}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",borderBottom:"1px solid white"}}),(0,v.jsx)(t.UF,{xs:3,style:{backgroundColor:"#01579b",fontSize:"0.95rem",color:"white",textAlign:"center",padding:"5px",borderRight:"1px solid white"},children:null===(p=Number(F-A))||void 0===p?void 0:p.toLocaleString()})]})]})]})})]})})},j=()=>{const[e,o]=(0,l.useState)(1);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(t.by,{style:{marginBottom:"20px",backgroundColor:"white",fontWeight:"bold",cursor:"pointer",width:"fit-content"},variant:"pills",role:"tablist",children:[(0,v.jsx)(t.g9,{children:(0,v.jsx)(t.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:1===e?"rgb(1, 87, 155)":"",color:1===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:1===e,onClick:()=>o(1),children:"Equipments"})}),(0,v.jsx)(t.g9,{children:(0,v.jsx)(t.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:2===e?"rgb(1, 87, 155)":"",color:2===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:2===e,onClick:()=>o(2),children:"Materials"})}),(0,v.jsx)(t.g9,{children:(0,v.jsx)(t.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:3===e?"rgb(1, 87, 155)":"",color:3===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:3===e,onClick:()=>o(3),children:"Labours"})}),(0,v.jsx)(t.g9,{children:(0,v.jsx)(t.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:4===e?"rgb(1, 87, 155)":"",color:4===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:4===e,onClick:()=>o(4),children:"SubContractors"})})]}),(0,v.jsxs)(t.eL,{children:[(0,v.jsx)(t.x1,{role:"tabpanel","aria-labelledby":"home-tab",visible:1===e,children:(0,v.jsx)(x,{})}),(0,v.jsx)(t.x1,{role:"tabpanel","aria-labelledby":"profile-tab",visible:2===e,children:(0,v.jsx)(p,{})}),(0,v.jsx)(t.x1,{role:"tabpanel","aria-labelledby":"profile-tab",visible:3===e,children:(0,v.jsx)(b,{})}),(0,v.jsx)(t.x1,{role:"tabpanel","aria-labelledby":"profile-tab",visible:4===e,children:(0,v.jsx)(g,{})})]})]})},f=()=>{const[e,o]=(0,l.useState)(1);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(t.by,{style:{marginBottom:"20px",backgroundColor:"white",fontWeight:"bold",cursor:"pointer",width:"fit-content"},variant:"pills",role:"tablist",children:[(0,v.jsx)(t.g9,{children:(0,v.jsx)(t.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:1===e?"rgb(1, 87, 155)":"",color:1===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:1===e,onClick:()=>o(1),children:"FINANCIAL PROGRESS"})}),(0,v.jsx)(t.g9,{children:(0,v.jsx)(t.HQ,{style:{borderRight:"2px solid #e9ecef",backgroundColor:2===e?"rgb(1, 87, 155)":"",color:2===e?"white":"rgb(1, 87, 155)",fontSize:"0.80rem",fontWeight:500},active:2===e,onClick:()=>o(2),children:"PLANNED VS ACTUAL"})})]}),(0,v.jsxs)(t.eL,{children:[(0,v.jsx)(t.x1,{role:"tabpanel","aria-labelledby":"home-tab",visible:1===e,children:(0,v.jsx)(m,{})}),(0,v.jsx)(t.x1,{role:"tabpanel","aria-labelledby":"profile-tab",visible:2===e,children:(0,v.jsx)(j,{})})]})]})}}}]);