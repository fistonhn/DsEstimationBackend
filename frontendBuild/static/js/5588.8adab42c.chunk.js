"use strict";(self.webpackChunk_ds_estimation_construction_web_app=self.webpackChunk_ds_estimation_construction_web_app||[]).push([[5588],{85588:(e,i,t)=>{t.r(i),t.d(i,{default:()=>h});var s=t(89379),l=t(9950),n=t(73878),o=t(55638),r=t(49911),d=t(39324),c=t(74959),a=t(44414);const h=()=>{const{materials:e,loading:i,updateMessage:t,updateError:h}=(0,n.d4)(o.H9),[u,x]=(0,l.useState)(!1),[m,j]=(0,l.useState)([]),[v,p]=(0,l.useState)(null),y=(0,n.wA)();(0,l.useEffect)(()=>{y((0,o.me)())},[]),(0,l.useEffect)(()=>{const e=setTimeout(()=>{y((0,o.iY)())},3e3);return()=>clearTimeout(e)},[y,t,h]);const C=e=>{const{name:i,value:t}=e.target;p((0,s.A)((0,s.A)({},v),{},{[i]:t}))},f=[...e];return null===f||void 0===f||f.sort((e,i)=>(null===e||void 0===e?void 0:e.id)-(null===i||void 0===i?void 0:i.id)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.UF,{xs:12,children:[(0,a.jsx)(r.V0,{style:{backgroundColor:"#01579b",color:"white",fontSize:"0.9rem"},children:(0,a.jsx)("strong",{children:"Material Library "})}),(0,a.jsxs)(r._v,{striped:!0,hover:!0,bordered:!0,borderColor:"dark",style:{fontSize:"0.75rem"},children:[(0,a.jsx)(r.wV,{children:(0,a.jsxs)(r.YI,{style:{backgroundColor:"#01579b"},children:[(0,a.jsx)(r.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"ID"}),(0,a.jsx)(r.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Materials"}),(0,a.jsx)(r.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Qty"}),(0,a.jsx)(r.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Unit"}),(0,a.jsx)(r.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Price"}),(0,a.jsx)(r.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Action"})]})}),(0,a.jsx)(r.jS,{children:null===f||void 0===f?void 0:f.map(i=>(0,a.jsxs)(r.YI,{children:[(0,a.jsx)(r.cC,{children:"M".concat(i.id)}),(0,a.jsx)(r.cC,{children:i.name}),(0,a.jsx)(r.cC,{children:null===i||void 0===i?void 0:i.quantity}),(0,a.jsx)(r.cC,{children:i.unit}),(0,a.jsx)(r.cC,{children:Number(i.price).toLocaleString()}),(0,a.jsx)(r.cC,{children:(0,a.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{return t=i.id,j(...e.filter(e=>e.id===t)),void x(!u);var t},children:(0,a.jsx)(c.g,{value:"activity.id",icon:d.ROs})})})]},i.id))})]})]}),(0,a.jsxs)(r.zS,{size:"md",style:{backgroundColor:"#01579b",color:"white"},visible:u,onClose:()=>{x(!1),y((0,o.me)())},children:[(0,a.jsx)(r.E4,{children:(0,a.jsx)(r.lb,{children:"Update Material"})}),(0,a.jsx)(r.Tc,{children:(0,a.jsxs)(r.qI,{className:"row g-3 needs-validation",onSubmit:e=>{e.preventDefault();const i=(0,s.A)((0,s.A)({},v),{},{id:m.id});y((0,o.Jd)(i))},style:{fontsize:"0.7rem"},children:[(0,a.jsxs)(r.UF,{md:12,children:[(0,a.jsx)(r.A6,{htmlFor:"validationCustom03",children:"Name"}),(0,a.jsx)(r.OG,{type:"text",id:"validationCustom03",required:!0,name:"name",defaultValue:null===m||void 0===m?void 0:m.name,onChange:C})]}),(0,a.jsxs)(r.UF,{md:12,children:[(0,a.jsx)(r.A6,{htmlFor:"validationCustom03",children:"Quantity"}),(0,a.jsx)(r.OG,{type:"text",id:"validationCustom03",required:!0,name:"quantity",defaultValue:null===m||void 0===m?void 0:m.quantity,onChange:C})]}),(0,a.jsxs)(r.UF,{md:12,children:[(0,a.jsx)(r.A6,{htmlFor:"validationCustom03",children:"Unity"}),(0,a.jsx)(r.OG,{type:"text",id:"validationCustom03",required:!0,name:"unity",defaultValue:null===m||void 0===m?void 0:m.unit,onChange:C})]}),(0,a.jsxs)(r.UF,{md:12,children:[(0,a.jsx)(r.A6,{htmlFor:"validationCustom03",children:"Price"}),(0,a.jsx)(r.OG,{type:"text",id:"validationCustom03",required:!0,name:"price",defaultValue:null===m||void 0===m?void 0:m.price,onChange:C})]}),(0,a.jsx)(r.UF,{xs:12,children:(0,a.jsx)(r.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},children:i?"Updating...":"Update Material"})})]})})]}),t&&(0,a.jsx)(r.Yq,{placement:"top-end",children:(0,a.jsx)(r.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(r.Bw,{children:t}),(0,a.jsx)(r.vo,{className:"me-2 m-auto"})]})})}),h&&(0,a.jsx)(r.Yq,{placement:"top-end",children:(0,a.jsx)(r.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(r.Bw,{children:h}),(0,a.jsx)(r.vo,{className:"me-2 m-auto"})]})})})]})}}}]);