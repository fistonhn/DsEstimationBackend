"use strict";(self.webpackChunk_ds_estimation_construction_web_app=self.webpackChunk_ds_estimation_construction_web_app||[]).push([[6482],{56482:(e,i,s)=>{s.r(i),s.d(i,{default:()=>u});var l=s(89379),t=s(9950),o=s(73878),n=s(49911),r=s(39324),d=s(74959),c=s(34270),a=s(44414);const u=()=>{const[e,i]=(0,t.useState)(!1),[s,u]=(0,t.useState)([]),[h,x]=(0,t.useState)(null),m=(0,o.wA)(),{labours:j,message:v,error:b,updateMessage:p,updateError:C,loading:g}=(0,o.d4)(c.lt);(0,t.useEffect)(()=>{m((0,c.Wj)())},[m]),(0,t.useEffect)(()=>{const e=setTimeout(()=>{m((0,c.o2)())},3e3);return()=>clearTimeout(e)},[m,v,b,p,C,g]);const f=e=>{const{name:i,value:s}=e.target;x((0,l.A)((0,l.A)({},h),{},{[i]:s}))},w=[...j];return null===w||void 0===w||w.sort((e,i)=>(null===e||void 0===e?void 0:e.id)-(null===i||void 0===i?void 0:i.id)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.UF,{xs:12,children:[(0,a.jsx)(n.V0,{style:{backgroundColor:"#01579b",color:"white"},children:(0,a.jsx)("strong",{children:"Labour Library"})}),(0,a.jsxs)(n._v,{striped:!0,hover:!0,bordered:!0,borderColor:"dark",style:{fontSize:"0.75rem"},children:[(0,a.jsx)(n.wV,{children:(0,a.jsxs)(n.YI,{style:{backgroundColor:"#01579b"},children:[(0,a.jsx)(n.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"ID"}),(0,a.jsx)(n.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Name"}),(0,a.jsx)(n.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"quantity"}),(0,a.jsx)(n.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"unit"}),(0,a.jsx)(n.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"wage"}),(0,a.jsx)(n.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Action"})]})}),(0,a.jsx)(n.jS,{children:null===w||void 0===w?void 0:w.map(s=>(0,a.jsxs)(n.YI,{children:[(0,a.jsx)(n.cC,{children:"L".concat(s.id)}),(0,a.jsx)(n.cC,{children:s.name}),(0,a.jsx)(n.cC,{children:s.number}),(0,a.jsx)(n.cC,{children:s.unit}),(0,a.jsx)(n.cC,{children:s.wages}),(0,a.jsx)(n.cC,{children:(0,a.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{return l=s.id,u(...j.filter(e=>e.id===l)),void i(!e);var l},children:(0,a.jsx)(d.g,{value:"activity.id",icon:r.ROs})})})]},s.id))})]})]}),(0,a.jsxs)(n.zS,{size:"md",style:{backgroundColor:"#01579b",color:"white"},visible:e,onClose:()=>{i(!1),m((0,c.Wj)())},children:[(0,a.jsx)(n.E4,{children:(0,a.jsx)(n.lb,{children:"Update Labour"})}),(0,a.jsx)(n.Tc,{children:(0,a.jsxs)(n.qI,{className:"row g-3 needs-validation",onSubmit:e=>{e.preventDefault();const i=(0,l.A)((0,l.A)({},h),{},{id:s.id});m((0,c.fx)(i))},style:{fontsize:"0.7rem"},children:[(0,a.jsxs)(n.UF,{md:12,children:[(0,a.jsx)(n.A6,{htmlFor:"validationCustom03",children:"Name"}),(0,a.jsx)(n.OG,{type:"text",id:"validationCustom03",required:!0,name:"name",defaultValue:null===s||void 0===s?void 0:s.name,onChange:f})]}),(0,a.jsxs)(n.UF,{md:12,children:[(0,a.jsx)(n.A6,{htmlFor:"validationCustom03",children:"Number"}),(0,a.jsx)(n.OG,{type:"text",id:"validationCustom03",required:!0,name:"number",defaultValue:null===s||void 0===s?void 0:s.number,onChange:f})]}),(0,a.jsxs)(n.UF,{md:12,children:[(0,a.jsx)(n.A6,{htmlFor:"validationCustom03",children:"Unit"}),(0,a.jsx)(n.OG,{type:"text",id:"validationCustom03",required:!0,name:"unity",defaultValue:null===s||void 0===s?void 0:s.unit,onChange:f})]}),(0,a.jsxs)(n.UF,{md:12,children:[(0,a.jsx)(n.A6,{htmlFor:"validationCustom03",children:"Wage"}),(0,a.jsx)(n.OG,{type:"text",id:"validationCustom03",required:!0,name:"wage",defaultValue:null===s||void 0===s?void 0:s.wages,onChange:f})]}),(0,a.jsx)(n.UF,{xs:12,children:(0,a.jsx)(n.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},children:g?"Updating...":"Update Labour"})})]})})]}),p&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:p}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})}),C&&(0,a.jsx)(n.Yq,{placement:"top-end",children:(0,a.jsx)(n.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(n.Bw,{children:C}),(0,a.jsx)(n.vo,{className:"me-2 m-auto"})]})})})]})}}}]);