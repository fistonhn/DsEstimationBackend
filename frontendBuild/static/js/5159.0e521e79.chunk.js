"use strict";(self.webpackChunk_ds_estimation_construction_web_app=self.webpackChunk_ds_estimation_construction_web_app||[]).push([[5159],{30091:(e,i,n)=>{n.d(i,{A:()=>s,v:()=>r});n(9950);var o=n(73878),l=n(83990),t=n(42891),d=n(44414);const r=()=>{const{token:e}=(0,o.d4)(l.dt),{payload:{name:i}}=(0,t.A)(e),n=(new Date).getHours(),r=(new Date).getTime(),s=new Date(r).toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"numeric"});return(0,d.jsxs)("div",{className:"jumbotron",style:{height:"100%",padding:"1.3rem",backgroundColor:"#fff",fontWeight:"bold"},children:[(0,d.jsx)("p",{className:"p-2",children:(0,d.jsx)("b",{children:s})}),n<12&&(0,d.jsxs)("h5",{className:"display-4",children:["Good morning, ",i,"!"]}),n>=12&&n<18&&(0,d.jsxs)("h5",{className:"display-4",children:["Good afternoon, ",i,"!"]}),n>=18&&(0,d.jsxs)("h5",{className:"display-4",children:["Good evening, ",i,"!"]})]})},s=()=>{const{token:e}=(0,o.d4)(l.dt),{payload:{name:i,role:n}}=(0,t.A)(e);return(0,d.jsx)("div",{className:"jumbotron",children:"owner"===n?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h1",{className:"display-4",children:["Hello, ",i,"!"]}),(0,d.jsx)("p",{className:"lead",children:"There is no Template yet. Please create a new."}),(0,d.jsx)("a",{className:"btn btn-primary btn-md",href:"#/project/create",role:"button",children:"Create Template"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("h1",{className:"display-4",children:["Hello, ",i,"!"]}),(0,d.jsx)("p",{className:"lead",children:"You don't have any projects yet. Please create a new project."}),(0,d.jsx)("a",{className:"btn btn-primary btn-md",href:"#/project/list",role:"button",style:{backgroundColor:"#3399ff",borderColor:"#3399ff",fontWeight:550},children:"Go to Project pannel"})]})})}},55159:(e,i,n)=>{n.r(i),n.d(i,{default:()=>g});var o=n(89379),l=n(9950),t=n(82053),d=n(60899),r=n(49911),s=n(67580),a=n(46639),c=n(26080),v=n(73878),u=n(51342),h=n(92686),m=n(97354),p=n(30091),x=n(79114),j=n(44414);function f(){const e=(0,v.wA)(),{defaultActivities:i,selectedActivity:n}=(0,v.d4)(u.$z);(0,l.useEffect)(()=>{e((0,u.jI)())},[e]),(0,l.useEffect)(()=>{e((0,u.Ew)())},[e]);const o=null===i||void 0===i?void 0:i.map(e=>{var i;return null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name}),s=null===i||void 0===i?void 0:i.map(e=>{var i;return null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name}).filter((e,i)=>{if((null===o||void 0===o?void 0:o.indexOf(e))===i)return e});(0,l.useEffect)(()=>{n&&e((0,u.q)(n))},[n,e]);return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{style:{backgroundColor:"#CCCCCC",padding:"40px",margin:"-40px"},children:(0,j.jsxs)(d.Ay,{container:!0,spacing:1,style:{marginRight:"-3%",marginLeft:"-3%",width:"103%"},children:[(0,j.jsx)(d.Ay,{item:!0,xs:2.5,children:(0,j.jsx)(r.Et,{children:null===s||void 0===s?void 0:s.map((n,o)=>{var l;return(0,j.jsxs)(r.lR,{children:[(0,j.jsxs)(r.BU,{children:[" ",(0,j.jsxs)(t.A,{style:{fontWeight:600,fontSize:"10px"},gutterBottom:!0,component:"div",children:[o+1," ","."," ",n]})]}),(0,j.jsxs)(r.i6,{children:[" ",(0,j.jsx)(r.XR,{flush:!0,children:null===i||void 0===i||null===(l=i.filter(e=>{var i;return(null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name)===n}))||void 0===l?void 0:l.map((i,n)=>(0,j.jsxs)(r.y5,{onClick:()=>{return n=i,void e((0,u.cZ)(n.id));var n},value:i.id,style:{cursor:"pointer",fontWeight:"bold",fontSize:"0.75rem"},children:[n+1," ","."," ",i.name]},n+321))})]})]},n)})})}),n&&(0,j.jsx)(d.Ay,{item:!0,xs:9.5,children:(0,j.jsx)(m.A,{})}),!n&&(0,j.jsx)("p",{children:"Select Activity"})]})})})}function g(){var e,i,n;const g=(0,v.wA)(),{projects:y,singleProject:b,updatedActivity:C,loading:A,singleProjectGrouping:w,projectsGrouping:k}=(0,v.d4)(h.Br),{isLoading:E,selectedActivity:N}=(0,v.d4)(u.$z),{role:S}=(0,x.Q)();(0,l.useEffect)(()=>{g((0,h.cf)())},[g]),(0,l.useEffect)(()=>{g((0,u.jI)())},[g]),(0,l.useEffect)(()=>{g((0,u.Ew)())},[g]),(0,l.useEffect)(()=>{g((0,h.a2)())},[g]);const z=null===b||void 0===b||null===(e=b.activities)||void 0===e?void 0:e.map(e=>{var i;return null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name}),_=null===b||void 0===b||null===(i=b.activities)||void 0===i?void 0:i.map(e=>{var i;return null===e||void 0===e||null===(i=e.category)||void 0===i?void 0:i.name}).filter((e,i)=>{if((null===z||void 0===z?void 0:z.indexOf(e))===i)return e}),B=null===b||void 0===b?void 0:b.activities,I=null===k||void 0===k?void 0:k.map(e=>({value:e.id,label:e.name})),R=null===y||void 0===y?void 0:y.filter(e=>null===e.groupId),W=null===w||void 0===w?void 0:w.projects;let P;P=void 0!==W?null===W||void 0===W?void 0:W.concat(R):R;const G=null===(n=P)||void 0===n?void 0:n.map(e=>({value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.name}));return(0,l.useEffect)(()=>{C&&g((0,u.q)(C))},[C,g]),(0,j.jsxs)(j.Fragment,{children:["owner"!==S&&(null===y||void 0===y?void 0:y.length)>0&&(0,j.jsxs)("div",{style:{backgroundColor:"#CCCCCC",padding:"40px",margin:"-40px"},children:[(0,j.jsx)("div",{style:{width:"45%",fontWeight:"bold",fontSize:"0.7rem",backgroundColor:"#CCCCCC"},children:(0,j.jsx)(c.A,{isClearable:!0,onChange:e=>{const i={id:e.value,labourName:e.label};g((0,h.Le)({id:i.id}))},options:I,placeholder:w?"PROJECT: ".concat(null===w||void 0===w?void 0:w.name):"Select a project",styles:{option:(e,i)=>(0,o.A)((0,o.A)({},e),{},{borderBottom:"1px dotted #01579b",color:i.isSelected?"white":"black"})}})}),k&&(0,j.jsx)("div",{style:{marginBottom:"20px",width:"40%",fontWeight:"bold",fontSize:"0.7rem",backgroundColor:"#CCCCCC"},children:(0,j.jsx)(c.A,{isClearable:!0,onChange:e=>{const i={id:e.value,labourName:e.label};g((0,h.EQ)(i.id))},options:G,placeholder:b?"SUB-PROJECT: ".concat(null===b||void 0===b?void 0:b.name):"Select a sub-project",styles:{option:(e,i)=>(0,o.A)((0,o.A)({},e),{},{borderBottom:"1px dotted #01579b",color:i.isSelected?"white":"black"})}})}),(0,j.jsxs)(d.Ay,{container:!0,spacing:1,style:{marginRight:"-3%",marginLeft:"-3%",width:"103%"},children:[(0,j.jsx)(d.Ay,{item:!0,xs:2.5,children:(0,j.jsx)(r.Et,{children:null===_||void 0===_?void 0:_.map((e,i)=>{var n;return(0,j.jsxs)(r.lR,{children:[(0,j.jsxs)(r.BU,{children:[" ",(0,j.jsxs)(t.A,{style:{fontWeight:600,fontSize:"10px"},gutterBottom:!0,component:"div",children:[i+1," ","."," ",e]})]}),(0,j.jsxs)(r.i6,{children:[" ",(0,j.jsx)(r.XR,{flush:!0,children:null===B||void 0===B||null===(n=B.filter(i=>{var n;return(null===(n=i.category)||void 0===n?void 0:n.name)===e}))||void 0===n?void 0:n.map((e,n)=>(0,j.jsxs)(r.y5,{onClick:()=>{return i=e,void g((0,h.bg)({projectId:b.id,id:i.id}));var i},value:null===e||void 0===e?void 0:e.id,style:{cursor:"pointer",fontWeight:"bold",fontSize:"0.65rem"},children:[i+1,".",n+1," ",null===e||void 0===e?void 0:e.name]},n+876))})]})]},e)})})}),(0,j.jsxs)(d.Ay,{item:!0,xs:9.5,children:[N&&(0,j.jsx)(m.A,{}),!N&&(0,j.jsx)("p",{children:"After selecting project, select activity"})]})]})]}),"owner"===S&&(0,j.jsx)(f,{}),(0,j.jsxs)("div",{children:[(0,j.jsx)(s.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:E,children:(0,j.jsx)(a.A,{color:"inherit"})}),(0,j.jsx)(s.A,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:A,children:(0,j.jsx)(a.A,{color:"inherit"})})]}),"owner"!==S&&0===(null===y||void 0===y?void 0:y.length)&&(0,j.jsx)(p.A,{})]})}}}]);