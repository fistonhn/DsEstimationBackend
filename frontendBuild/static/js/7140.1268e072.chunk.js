"use strict";(self.webpackChunk_ds_estimation_construction_web_app=self.webpackChunk_ds_estimation_construction_web_app||[]).push([[7140],{47140:(e,i,s)=>{s.r(i),s.d(i,{default:()=>u});var t=s(89379),l=s(9950),n=s(73878),o=s(49911),r=s(39324),c=s(74959),d=s(90222),a=s(44414);const u=()=>{const e=(0,n.wA)(),{equipments:i,message:s,error:u,updateMessage:h,updateError:m,loading:x}=(0,n.d4)(d.GN),[j,v]=(0,l.useState)(!1),[p,b]=(0,l.useState)([]),[C,f]=(0,l.useState)(null);(0,l.useEffect)(()=>(0,d.cS)(),[]),(0,l.useEffect)(()=>{e((0,d.cS)())},[e]),(0,l.useEffect)(()=>{const i=setTimeout(()=>{e((0,d.$9)())},3e3);return()=>clearTimeout(i)},[e,s,u,h,m,x]);const g=e=>{const{name:i,value:s}=e.target;f((0,t.A)((0,t.A)({},C),{},{[i]:s}))},y=[...i];return null===y||void 0===y||y.sort((e,i)=>(null===e||void 0===e?void 0:e.id)-(null===i||void 0===i?void 0:i.id)),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.UF,{xs:12,children:[(0,a.jsx)(o.V0,{style:{backgroundColor:"#01579b",color:"white"},children:(0,a.jsx)("strong",{children:"Equipment Library "})}),(0,a.jsxs)(o._v,{striped:!0,hover:!0,bordered:!0,borderColor:"dark",style:{fontSize:"0.75rem"},children:[(0,a.jsx)(o.wV,{children:(0,a.jsxs)(o.YI,{style:{backgroundColor:"#01579b"},children:[(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"ID"}),(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Equipments"}),(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Unit"}),(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Number"}),(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Hire Rate"}),(0,a.jsx)(o.$s,{style:{color:"white",fontSize:"0.9rem"},scope:"col",children:"Action"})]})}),null===y||void 0===y?void 0:y.map(e=>(0,a.jsx)(o.jS,{children:(0,a.jsxs)(o.YI,{children:[(0,a.jsx)(o.cC,{children:"E".concat(e.id)}),(0,a.jsx)(o.cC,{children:e.name}),(0,a.jsx)(o.cC,{children:e.unit}),(0,a.jsx)(o.cC,{children:e.number}),(0,a.jsx)(o.cC,{children:e.hireRatePrice}),(0,a.jsx)(o.cC,{children:(0,a.jsx)("div",{style:{cursor:"pointer"},onClick:()=>{return s=e.id,b(...i.filter(e=>e.id===s)),void v(!j);var s},children:(0,a.jsx)(c.g,{value:"activity.id",icon:r.ROs})})})]})},e.id))]})]}),(0,a.jsxs)(o.zS,{size:"md",style:{backgroundColor:"#01579b",color:"white"},visible:j,onClose:()=>{v(!1),e((0,d.cS)())},children:[(0,a.jsx)(o.E4,{children:(0,a.jsx)(o.lb,{children:"Update Equipment"})}),(0,a.jsx)(o.Tc,{children:(0,a.jsxs)(o.qI,{className:"row g-3 needs-validation",onSubmit:i=>{i.preventDefault();const s=(0,t.A)((0,t.A)({},C),{},{id:p.id});e((0,d.OT)(s))},style:{fontsize:"0.7rem"},children:[(0,a.jsxs)(o.UF,{md:12,children:[(0,a.jsx)(o.A6,{htmlFor:"validationCustom03",children:"Name"}),(0,a.jsx)(o.OG,{type:"text",id:"validationCustom03",required:!0,name:"name",defaultValue:null===p||void 0===p?void 0:p.name,onChange:g})]}),(0,a.jsxs)(o.UF,{md:12,children:[(0,a.jsx)(o.A6,{htmlFor:"validationCustom03",children:"Number"}),(0,a.jsx)(o.OG,{type:"text",id:"validationCustom03",required:!0,name:"number",defaultValue:null===p||void 0===p?void 0:p.number,onChange:g})]}),(0,a.jsxs)(o.UF,{md:12,children:[(0,a.jsx)(o.A6,{htmlFor:"validationCustom03",children:"Unit"}),(0,a.jsx)(o.OG,{type:"text",id:"validationCustom03",required:!0,name:"unity",defaultValue:null===p||void 0===p?void 0:p.unit,onChange:g})]}),(0,a.jsxs)(o.UF,{md:12,children:[(0,a.jsx)(o.A6,{htmlFor:"validationCustom03",children:"HireRate"}),(0,a.jsx)(o.OG,{type:"text",id:"validationCustom03",required:!0,name:"hireRate",defaultValue:null===p||void 0===p?void 0:p.hireRatePrice,onChange:g})]}),(0,a.jsx)(o.UF,{xs:12,children:(0,a.jsx)(o.Q_,{color:"btn btn-info text-white",type:"submit",style:{backgroundColor:"rgb(1, 87, 155)"},children:x?"Updating...":"Update Equipment"})})]})})]}),h&&(0,a.jsx)(o.Yq,{placement:"top-end",children:(0,a.jsx)(o.JY,{autohide:!1,visible:!0,color:"success",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(o.Bw,{children:h}),(0,a.jsx)(o.vo,{className:"me-2 m-auto"})]})})}),m&&(0,a.jsx)(o.Yq,{placement:"top-end",children:(0,a.jsx)(o.JY,{autohide:!1,visible:!0,color:"danger",icon:"cil-check",className:"text-white align-items-center",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)(o.Bw,{children:m}),(0,a.jsx)(o.vo,{className:"me-2 m-auto"})]})})})]})}}}]);